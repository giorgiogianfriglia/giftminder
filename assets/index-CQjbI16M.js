function mp(u,a){for(var i=0;i<a.length;i++){const s=a[i];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in u)){const o=Object.getOwnPropertyDescriptor(s,l);o&&Object.defineProperty(u,l,o.get?o:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();function Z0(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function vp(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var a=u.default;if(typeof a=="function"){var i=function s(){var l=!1;try{l=this instanceof s}catch{}return l?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};i.prototype=a.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(u).forEach(function(s){var l=Object.getOwnPropertyDescriptor(u,s);Object.defineProperty(i,s,l.get?l:{enumerable:!0,get:function(){return u[s]}})}),i}var Uc={exports:{}},Es={};var i0;function yp(){if(i0)return Es;i0=1;var u=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(s,l,o){var d=null;if(o!==void 0&&(d=""+o),l.key!==void 0&&(d=""+l.key),"key"in l){o={};for(var h in l)h!=="key"&&(o[h]=l[h])}else o=l;return l=o.ref,{$$typeof:u,type:s,key:d,ref:l!==void 0?l:null,props:o}}return Es.Fragment=a,Es.jsx=i,Es.jsxs=i,Es}var r0;function pp(){return r0||(r0=1,Uc.exports=yp()),Uc.exports}var _=pp(),Dc={exports:{}},je={};var s0;function bp(){if(s0)return je;s0=1;var u=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function j(R,U,F){this.props=R,this.context=U,this.refs=N,this.updater=F||x}j.prototype.isReactComponent={},j.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},j.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function $(){}$.prototype=j.prototype;function D(R,U,F){this.props=R,this.context=U,this.refs=N,this.updater=F||x}var B=D.prototype=new $;B.constructor=D,T(B,j.prototype),B.isPureReactComponent=!0;var ne=Array.isArray;function z(){}var V={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function C(R,U,F){var P=F.ref;return{$$typeof:u,type:R,key:U,ref:P!==void 0?P:null,props:F}}function q(R,U){return C(R.type,U,R.props)}function G(R){return typeof R=="object"&&R!==null&&R.$$typeof===u}function k(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(F){return U[F]})}var K=/\/+/g;function H(R,U){return typeof R=="object"&&R!==null&&R.key!=null?k(""+R.key):U.toString(36)}function Q(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(z,z):(R.status="pending",R.then(function(U){R.status==="pending"&&(R.status="fulfilled",R.value=U)},function(U){R.status==="pending"&&(R.status="rejected",R.reason=U)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function S(R,U,F,P,X){var ue=typeof R;(ue==="undefined"||ue==="boolean")&&(R=null);var ye=!1;if(R===null)ye=!0;else switch(ue){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(R.$$typeof){case u:case a:ye=!0;break;case v:return ye=R._init,S(ye(R._payload),U,F,P,X)}}if(ye)return X=X(R),ye=P===""?"."+H(R,0):P,ne(X)?(F="",ye!=null&&(F=ye.replace(K,"$&/")+"/"),S(X,U,F,"",function(Ue){return Ue})):X!=null&&(G(X)&&(X=q(X,F+(X.key==null||R&&R.key===X.key?"":(""+X.key).replace(K,"$&/")+"/")+ye)),U.push(X)),1;ye=0;var Ee=P===""?".":P+":";if(ne(R))for(var be=0;be<R.length;be++)P=R[be],ue=Ee+H(P,be),ye+=S(P,U,F,ue,X);else if(be=b(R),typeof be=="function")for(R=be.call(R),be=0;!(P=R.next()).done;)P=P.value,ue=Ee+H(P,be++),ye+=S(P,U,F,ue,X);else if(ue==="object"){if(typeof R.then=="function")return S(Q(R),U,F,P,X);throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ye}function E(R,U,F){if(R==null)return R;var P=[],X=0;return S(R,P,"","",function(ue){return U.call(F,ue,X++)}),P}function W(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(F){(R._status===0||R._status===-1)&&(R._status=1,R._result=F)},function(F){(R._status===0||R._status===-1)&&(R._status=2,R._result=F)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var I=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},te={map:E,forEach:function(R,U,F){E(R,function(){U.apply(this,arguments)},F)},count:function(R){var U=0;return E(R,function(){U++}),U},toArray:function(R){return E(R,function(U){return U})||[]},only:function(R){if(!G(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return je.Activity=p,je.Children=te,je.Component=j,je.Fragment=i,je.Profiler=l,je.PureComponent=D,je.StrictMode=s,je.Suspense=m,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,je.__COMPILER_RUNTIME={__proto__:null,c:function(R){return V.H.useMemoCache(R)}},je.cache=function(R){return function(){return R.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(R,U,F){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var P=T({},R.props),X=R.key;if(U!=null)for(ue in U.key!==void 0&&(X=""+U.key),U)!O.call(U,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&U.ref===void 0||(P[ue]=U[ue]);var ue=arguments.length-2;if(ue===1)P.children=F;else if(1<ue){for(var ye=Array(ue),Ee=0;Ee<ue;Ee++)ye[Ee]=arguments[Ee+2];P.children=ye}return C(R.type,X,P)},je.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},je.createElement=function(R,U,F){var P,X={},ue=null;if(U!=null)for(P in U.key!==void 0&&(ue=""+U.key),U)O.call(U,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(X[P]=U[P]);var ye=arguments.length-2;if(ye===1)X.children=F;else if(1<ye){for(var Ee=Array(ye),be=0;be<ye;be++)Ee[be]=arguments[be+2];X.children=Ee}if(R&&R.defaultProps)for(P in ye=R.defaultProps,ye)X[P]===void 0&&(X[P]=ye[P]);return C(R,ue,X)},je.createRef=function(){return{current:null}},je.forwardRef=function(R){return{$$typeof:h,render:R}},je.isValidElement=G,je.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:W}},je.memo=function(R,U){return{$$typeof:g,type:R,compare:U===void 0?null:U}},je.startTransition=function(R){var U=V.T,F={};V.T=F;try{var P=R(),X=V.S;X!==null&&X(F,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(z,I)}catch(ue){I(ue)}finally{U!==null&&F.types!==null&&(U.types=F.types),V.T=U}},je.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},je.use=function(R){return V.H.use(R)},je.useActionState=function(R,U,F){return V.H.useActionState(R,U,F)},je.useCallback=function(R,U){return V.H.useCallback(R,U)},je.useContext=function(R){return V.H.useContext(R)},je.useDebugValue=function(){},je.useDeferredValue=function(R,U){return V.H.useDeferredValue(R,U)},je.useEffect=function(R,U){return V.H.useEffect(R,U)},je.useEffectEvent=function(R){return V.H.useEffectEvent(R)},je.useId=function(){return V.H.useId()},je.useImperativeHandle=function(R,U,F){return V.H.useImperativeHandle(R,U,F)},je.useInsertionEffect=function(R,U){return V.H.useInsertionEffect(R,U)},je.useLayoutEffect=function(R,U){return V.H.useLayoutEffect(R,U)},je.useMemo=function(R,U){return V.H.useMemo(R,U)},je.useOptimistic=function(R,U){return V.H.useOptimistic(R,U)},je.useReducer=function(R,U,F){return V.H.useReducer(R,U,F)},je.useRef=function(R){return V.H.useRef(R)},je.useState=function(R){return V.H.useState(R)},je.useSyncExternalStore=function(R,U,F){return V.H.useSyncExternalStore(R,U,F)},je.useTransition=function(){return V.H.useTransition()},je.version="19.2.0",je}var l0;function md(){return l0||(l0=1,Dc.exports=bp()),Dc.exports}var ce=md();const Me=Z0(ce);var Mc={exports:{}},As={},Bc={exports:{}},Lc={};var o0;function wp(){return o0||(o0=1,(function(u){function a(S,E){var W=S.length;S.push(E);e:for(;0<W;){var I=W-1>>>1,te=S[I];if(0<l(te,E))S[I]=E,S[W]=te,W=I;else break e}}function i(S){return S.length===0?null:S[0]}function s(S){if(S.length===0)return null;var E=S[0],W=S.pop();if(W!==E){S[0]=W;e:for(var I=0,te=S.length,R=te>>>1;I<R;){var U=2*(I+1)-1,F=S[U],P=U+1,X=S[P];if(0>l(F,W))P<te&&0>l(X,F)?(S[I]=X,S[P]=W,I=P):(S[I]=F,S[U]=W,I=U);else if(P<te&&0>l(X,W))S[I]=X,S[P]=W,I=P;else break e}}return E}function l(S,E){var W=S.sortIndex-E.sortIndex;return W!==0?W:S.id-E.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var d=Date,h=d.now();u.unstable_now=function(){return d.now()-h}}var m=[],g=[],v=1,p=null,y=3,b=!1,x=!1,T=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(S){for(var E=i(g);E!==null;){if(E.callback===null)s(g);else if(E.startTime<=S)s(g),E.sortIndex=E.expirationTime,a(m,E);else break;E=i(g)}}function ne(S){if(T=!1,B(S),!x)if(i(m)!==null)x=!0,z||(z=!0,k());else{var E=i(g);E!==null&&Q(ne,E.startTime-S)}}var z=!1,V=-1,O=5,C=-1;function q(){return N?!0:!(u.unstable_now()-C<O)}function G(){if(N=!1,z){var S=u.unstable_now();C=S;var E=!0;try{e:{x=!1,T&&(T=!1,$(V),V=-1),b=!0;var W=y;try{t:{for(B(S),p=i(m);p!==null&&!(p.expirationTime>S&&q());){var I=p.callback;if(typeof I=="function"){p.callback=null,y=p.priorityLevel;var te=I(p.expirationTime<=S);if(S=u.unstable_now(),typeof te=="function"){p.callback=te,B(S),E=!0;break t}p===i(m)&&s(m),B(S)}else s(m);p=i(m)}if(p!==null)E=!0;else{var R=i(g);R!==null&&Q(ne,R.startTime-S),E=!1}}break e}finally{p=null,y=W,b=!1}E=void 0}}finally{E?k():z=!1}}}var k;if(typeof D=="function")k=function(){D(G)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,H=K.port2;K.port1.onmessage=G,k=function(){H.postMessage(null)}}else k=function(){j(G,0)};function Q(S,E){V=j(function(){S(u.unstable_now())},E)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(S){S.callback=null},u.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<S?Math.floor(1e3/S):5},u.unstable_getCurrentPriorityLevel=function(){return y},u.unstable_next=function(S){switch(y){case 1:case 2:case 3:var E=3;break;default:E=y}var W=y;y=E;try{return S()}finally{y=W}},u.unstable_requestPaint=function(){N=!0},u.unstable_runWithPriority=function(S,E){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var W=y;y=S;try{return E()}finally{y=W}},u.unstable_scheduleCallback=function(S,E,W){var I=u.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?I+W:I):W=I,S){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=W+te,S={id:v++,callback:E,priorityLevel:S,startTime:W,expirationTime:te,sortIndex:-1},W>I?(S.sortIndex=W,a(g,S),i(m)===null&&S===i(g)&&(T?($(V),V=-1):T=!0,Q(ne,W-I))):(S.sortIndex=te,a(m,S),x||b||(x=!0,z||(z=!0,k()))),S},u.unstable_shouldYield=q,u.unstable_wrapCallback=function(S){var E=y;return function(){var W=y;y=E;try{return S.apply(this,arguments)}finally{y=W}}}})(Lc)),Lc}var u0;function _p(){return u0||(u0=1,Bc.exports=wp()),Bc.exports}var Hc={exports:{}},Pt={};var c0;function xp(){if(c0)return Pt;c0=1;var u=md();function a(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(m,g,v){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:p==null?null:""+p,children:m,containerInfo:g,implementation:v}}var d=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Pt.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return o(m,g,null,v)},Pt.flushSync=function(m){var g=d.T,v=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=g,s.p=v,s.d.f()}},Pt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Pt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Pt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,p=h(v,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):v==="script"&&s.d.X(m,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Pt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Pt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,p=h(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Pt.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Pt.requestFormReset=function(m){s.d.r(m)},Pt.unstable_batchedUpdates=function(m,g){return m(g)},Pt.useFormState=function(m,g,v){return d.H.useFormState(m,g,v)},Pt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Pt.version="19.2.0",Pt}var d0;function Sp(){if(d0)return Hc.exports;d0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(a){console.error(a)}}return u(),Hc.exports=xp(),Hc.exports}var f0;function Ep(){if(f0)return As;f0=1;var u=_p(),a=md(),i=Sp();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(o(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var c=n.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){n=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===n)return m(c),e;if(f===r)return m(c),t;f=f.sibling}throw Error(s(188))}if(n.return!==r.return)n=c,r=f;else{for(var w=!1,A=c.child;A;){if(A===n){w=!0,n=c,r=f;break}if(A===r){w=!0,r=c,n=f;break}A=A.sibling}if(!w){for(A=f.child;A;){if(A===n){w=!0,n=f,r=c;break}if(A===r){w=!0,r=f,n=c;break}A=A.sibling}if(!w)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function H(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case j:return"Profiler";case N:return"StrictMode";case ne:return"Suspense";case z:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case D:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:H(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return H(e(t))}catch{}}return null}var Q=Array.isArray,S=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},I=[],te=-1;function R(e){return{current:e}}function U(e){0>te||(e.current=I[te],I[te]=null,te--)}function F(e,t){te++,I[te]=e.current,e.current=t}var P=R(null),X=R(null),ue=R(null),ye=R(null);function Ee(e,t){switch(F(ue,t),F(X,e),F(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Tg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Tg(t),e=Og(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(P),F(P,e)}function be(){U(P),U(X),U(ue)}function Ue(e){e.memoizedState!==null&&F(ye,e);var t=P.current,n=Og(t,e.type);t!==n&&(F(X,e),F(P,n))}function _e(e){X.current===e&&(U(P),U(X)),ye.current===e&&(U(ye),ws._currentValue=W)}var et,gn;function At(e){if(et===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||"",gn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+e+gn}var Xe=!1;function dt(e,t){if(!e||Xe)return"";Xe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ae){var ee=ae}Reflect.construct(e,[],le)}else{try{le.call()}catch(ae){ee=ae}e.call(le.prototype)}}else{try{throw Error()}catch(ae){ee=ae}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ae){if(ae&&ee&&typeof ae.stack=="string")return[ae.stack,ee.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),w=f[0],A=f[1];if(w&&A){var M=w.split(`
`),Z=A.split(`
`);for(c=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;c<Z.length&&!Z[c].includes("DetermineComponentFrameRoot");)c++;if(r===M.length||c===Z.length)for(r=M.length-1,c=Z.length-1;1<=r&&0<=c&&M[r]!==Z[c];)c--;for(;1<=r&&0<=c;r--,c--)if(M[r]!==Z[c]){if(r!==1||c!==1)do if(r--,c--,0>c||M[r]!==Z[c]){var re=`
`+M[r].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=r&&0<=c);break}}}finally{Xe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?At(n):""}function Ve(e,t){switch(e.tag){case 26:case 27:case 5:return At(e.type);case 16:return At("Lazy");case 13:return e.child!==t&&t!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return dt(e.type,!1);case 11:return dt(e.type.render,!1);case 1:return dt(e.type,!0);case 31:return At("Activity");default:return""}}function Be(e){try{var t="",n=null;do t+=Ve(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var st=Object.prototype.hasOwnProperty,ut=u.unstable_scheduleCallback,Ze=u.unstable_cancelCallback,kt=u.unstable_shouldYield,nt=u.unstable_requestPaint,Ae=u.unstable_now,yt=u.unstable_getCurrentPriorityLevel,Zt=u.unstable_ImmediatePriority,Ln=u.unstable_UserBlockingPriority,at=u.unstable_NormalPriority,tn=u.unstable_LowPriority,ft=u.unstable_IdlePriority,zt=u.log,Ut=u.unstable_setDisableYieldValue,pt=null,Ye=null;function jt(e){if(typeof zt=="function"&&Ut(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(pt,e)}catch{}}var bt=Math.clz32?Math.clz32:_a,ni=Math.log,Qn=Math.LN2;function _a(e){return e>>>=0,e===0?32:31-(ni(e)/Qn|0)|0}var nn=256,na=262144,It=4194304;function wt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ft(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var A=r&134217727;return A!==0?(r=A&~f,r!==0?c=wt(r):(w&=A,w!==0?c=wt(w):n||(n=A&~e,n!==0&&(c=wt(n))))):(A=r&~f,A!==0?c=wt(A):w!==0?c=wt(w):n||(n=r&~e,n!==0&&(c=wt(n)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:c}function Wt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ai(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var e=It;return It<<=1,(It&62914560)===0&&(It=4194304),e}function Kt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function aa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ms(e,t,n,r,c,f){var w=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var A=e.entanglements,M=e.expirationTimes,Z=e.hiddenUpdates;for(n=w&~n;0<n;){var re=31-bt(n),le=1<<re;A[re]=0,M[re]=-1;var ee=Z[re];if(ee!==null)for(Z[re]=null,re=0;re<ee.length;re++){var ae=ee[re];ae!==null&&(ae.lane&=-536870913)}n&=~le}r!==0&&Ri(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(w&~t))}function Ri(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-bt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ii(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),c=1<<r;c&t|e[r]&t&&(e[r]|=t),n&=~c}}function ki(e,t){var n=t&-t;return n=(n&42)!==0?1:zi(n),(n&(e.suspendedLanes|t))!==0?0:n}function zi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ui(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:Zg(e.type))}function Di(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var jn=Math.random().toString(36).slice(2),ht="__reactFiber$"+jn,Dt="__reactProps$"+jn,Hn="__reactContainer$"+jn,Sa="__reactEvents$"+jn,Rr="__reactListeners$"+jn,Oo="__reactHandles$"+jn,kr="__reactResources$"+jn,Ht="__reactMarker$"+jn;function zr(e){delete e[ht],delete e[Dt],delete e[Sa],delete e[Rr],delete e[Oo]}function Ea(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hn]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dg(e);e!==null;){if(n=e[ht])return n;e=Dg(e)}return t}e=n,n=e.parentNode}return null}function Tn(e){if(e=e[ht]||e[Hn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ri(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Aa(e){var t=e[kr];return t||(t=e[kr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function _t(e){e[Ht]=!0}var Bs=new Set,Ur={};function Ce(e,t){ia(e,t),ia(e+"Capture",t)}function ia(e,t){for(Ur[e]=t,e=0;e<t.length;e++)Bs.add(t[e])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ls={},Hs={};function No(e){return st.call(Hs,e)?!0:st.call(Ls,e)?!1:Co.test(e)?Hs[e]=!0:(Ls[e]=!0,!1)}function Mi(e,t,n){if(No(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Bi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function qn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qs(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ro(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(w){n=""+w,f.call(this,w)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(w){n=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dr(e){if(!e._valueTracker){var t=qs(e)?"checked":"value";e._valueTracker=Ro(e,t,""+e[t])}}function Li(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qs(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ko=/[\n"\\]/g;function sn(e){return e.replace(ko,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Mr(e,t,n,r,c,f,w,A){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),t!=null?w==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+rn(t)):e.value!==""+rn(t)&&(e.value=""+rn(t)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),t!=null?ja(e,w,rn(t)):n!=null?ja(e,w,rn(n)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+rn(A):e.removeAttribute("name")}function Gs(e,t,n,r,c,f,w,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Dr(e);return}n=n!=null?""+rn(n):"",t=t!=null?""+rn(t):n,A||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=A?e.checked:!!r,e.defaultChecked=!!r,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),Dr(e)}function ja(e,t,n){t==="number"&&Hi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ta(e,t,n,r){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function $s(e,t,n){if(t!=null&&(t=""+rn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+rn(n):""}function Ys(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(s(92));if(Q(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=rn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Dr(e)}function Oa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vs(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||zo.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Is(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&n[c]!==r&&Vs(e,c,r)}else for(var f in t)t.hasOwnProperty(f)&&Vs(e,f,t[f])}function Br(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Do=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qi(e){return Do.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Lr=null;function Ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ie=null,oe=null;function fe(e){var t=Tn(e);if(t&&(e=t.stateNode)){var n=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Mr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var c=r[Dt]||null;if(!c)throw Error(s(90));Mr(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Li(r)}break e;case"textarea":$s(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ta(e,!!n.multiple,t,!1)}}}var de=!1;function he(e,t,n){if(de)return e(t,n);de=!0;try{var r=e(t);return r}finally{if(de=!1,(ie!==null||oe!==null)&&(zl(),ie&&(t=ie,e=oe,oe=ie=null,fe(t),e)))for(t=0;t<e.length;t++)fe(e[t])}}function Ge(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Dt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Le=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xt=!1;if(Le)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){xt=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{xt=!1}var Xt=null,si=null,On=null;function Xs(){if(On)return On;var e,t=si,n=t.length,r,c="value"in Xt?Xt.value:Xt.textContent,f=c.length;for(e=0;e<n&&t[e]===c[e];e++);var w=n-e;for(r=1;r<=w&&t[n-r]===c[f-r];r++);return On=c.slice(e,1<r?1-r:void 0)}function Ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qs(){return!0}function Od(){return!1}function ln(e){function t(n,r,c,f,w){this._reactName=n,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qs:Od,this.isPropagationStopped=Od,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),t}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=ln(li),Hr=p({},li,{view:0,detail:0}),hv=ln(Hr),Mo,Bo,qr,Zs=p({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qr&&(qr&&e.type==="mousemove"?(Mo=e.screenX-qr.screenX,Bo=e.screenY-qr.screenY):Bo=Mo=0,qr=e),Mo)},movementY:function(e){return"movementY"in e?e.movementY:Bo}}),Cd=ln(Zs),gv=p({},Zs,{dataTransfer:0}),mv=ln(gv),vv=p({},Hr,{relatedTarget:0}),Lo=ln(vv),yv=p({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),pv=ln(yv),bv=p({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wv=ln(bv),_v=p({},li,{data:0}),Nd=ln(_v),xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Av(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ev[e])?!!t[e]:!1}function Ho(){return Av}var jv=p({},Hr,{key:function(e){if(e.key){var t=xv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tv=ln(jv),Ov=p({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=ln(Ov),Cv=p({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),Nv=ln(Cv),Rv=p({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),kv=ln(Rv),zv=p({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=ln(zv),Dv=p({},li,{newState:0,oldState:0}),Mv=ln(Dv),Bv=[9,13,27,32],qo=Le&&"CompositionEvent"in window,Gr=null;Le&&"documentMode"in document&&(Gr=document.documentMode);var Lv=Le&&"TextEvent"in window&&!Gr,kd=Le&&(!qo||Gr&&8<Gr&&11>=Gr),zd=" ",Ud=!1;function Dd(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function Hv(e,t){switch(e){case"compositionend":return Md(t);case"keypress":return t.which!==32?null:(Ud=!0,zd);case"textInput":return e=t.data,e===zd&&Ud?null:e;default:return null}}function qv(e,t){if(Gi)return e==="compositionend"||!qo&&Dd(e,t)?(e=Xs(),On=si=Xt=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kd&&t.locale!=="ko"?null:t.data;default:return null}}var Gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gv[e.type]:t==="textarea"}function Ld(e,t,n,r){ie?oe?oe.push(r):oe=[r]:ie=r,t=ql(t,"onChange"),0<t.length&&(n=new Js("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $r=null,Yr=null;function $v(e){_g(e,0)}function Fs(e){var t=ri(e);if(Li(t))return e}function Hd(e,t){if(e==="change")return t}var qd=!1;if(Le){var Go;if(Le){var $o="oninput"in document;if(!$o){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),$o=typeof Gd.oninput=="function"}Go=$o}else Go=!1;qd=Go&&(!document.documentMode||9<document.documentMode)}function $d(){$r&&($r.detachEvent("onpropertychange",Yd),Yr=$r=null)}function Yd(e){if(e.propertyName==="value"&&Fs(Yr)){var t=[];Ld(t,Yr,e,Ks(e)),he($v,t)}}function Yv(e,t,n){e==="focusin"?($d(),$r=t,Yr=n,$r.attachEvent("onpropertychange",Yd)):e==="focusout"&&$d()}function Vv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fs(Yr)}function Iv(e,t){if(e==="click")return Fs(t)}function Kv(e,t){if(e==="input"||e==="change")return Fs(t)}function Xv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:Xv;function Vr(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var c=n[r];if(!st.call(t,c)||!mn(e[c],t[c]))return!1}return!0}function Vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Id(e,t){var n=Vd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vd(n)}}function Kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hi(e.document)}return t}function Yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Pv=Le&&"documentMode"in document&&11>=document.documentMode,$i=null,Vo=null,Ir=null,Io=!1;function Pd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Io||$i==null||$i!==Hi(r)||(r=$i,"selectionStart"in r&&Yo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ir&&Vr(Ir,r)||(Ir=r,r=ql(Vo,"onSelect"),0<r.length&&(t=new Js("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$i)))}function oi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yi={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},Ko={},Qd={};Le&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function ui(e){if(Ko[e])return Ko[e];if(!Yi[e])return e;var t=Yi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qd)return Ko[e]=t[n];return e}var Jd=ui("animationend"),Zd=ui("animationiteration"),Fd=ui("animationstart"),Qv=ui("transitionrun"),Jv=ui("transitionstart"),Zv=ui("transitioncancel"),Wd=ui("transitionend"),ef=new Map,Xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xo.push("scrollEnd");function $n(e,t){ef.set(e,t),Ce(t,[e])}var Ws=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],Vi=0,Po=0;function el(){for(var e=Vi,t=Po=Vi=0;t<e;){var n=Cn[t];Cn[t++]=null;var r=Cn[t];Cn[t++]=null;var c=Cn[t];Cn[t++]=null;var f=Cn[t];if(Cn[t++]=null,r!==null&&c!==null){var w=r.pending;w===null?c.next=c:(c.next=w.next,w.next=c),r.pending=c}f!==0&&tf(n,c,f)}}function tl(e,t,n,r){Cn[Vi++]=e,Cn[Vi++]=t,Cn[Vi++]=n,Cn[Vi++]=r,Po|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Qo(e,t,n,r){return tl(e,t,n,r),nl(e)}function ci(e,t){return tl(e,null,null,t),nl(e)}function tf(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var c=!1,f=e.return;f!==null;)f.childLanes|=n,r=f.alternate,r!==null&&(r.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-bt(n),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=n|536870912),f):null}function nl(e){if(50<hs)throw hs=0,ic=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ii={};function Fv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,n,r){return new Fv(e,t,n,r)}function Jo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ra(e,t){var n=e.alternate;return n===null?(n=vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function nf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function al(e,t,n,r,c,f){var w=0;if(r=e,typeof e=="function")Jo(e)&&(w=1);else if(typeof e=="string")w=ap(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case C:return e=vn(31,n,t,c),e.elementType=C,e.lanes=f,e;case T:return di(n.children,c,f,t);case N:w=8,c|=24;break;case j:return e=vn(12,n,t,c|2),e.elementType=j,e.lanes=f,e;case ne:return e=vn(13,n,t,c),e.elementType=ne,e.lanes=f,e;case z:return e=vn(19,n,t,c),e.elementType=z,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:w=10;break e;case $:w=9;break e;case B:w=11;break e;case V:w=14;break e;case O:w=16,r=null;break e}w=29,n=Error(s(130,e===null?"null":typeof e,"")),r=null}return t=vn(w,n,t,c),t.elementType=e,t.type=r,t.lanes=f,t}function di(e,t,n,r){return e=vn(7,e,r,t),e.lanes=n,e}function Zo(e,t,n){return e=vn(6,e,null,t),e.lanes=n,e}function af(e){var t=vn(18,null,null,0);return t.stateNode=e,t}function Fo(e,t,n){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rf=new WeakMap;function Nn(e,t){if(typeof e=="object"&&e!==null){var n=rf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Be(t)},rf.set(e,t),t)}return{value:e,source:t,stack:Be(t)}}var Ki=[],Xi=0,il=null,Kr=0,Rn=[],kn=0,Ca=null,Jn=1,Zn="";function sa(e,t){Ki[Xi++]=Kr,Ki[Xi++]=il,il=e,Kr=t}function sf(e,t,n){Rn[kn++]=Jn,Rn[kn++]=Zn,Rn[kn++]=Ca,Ca=e;var r=Jn;e=Zn;var c=32-bt(r)-1;r&=~(1<<c),n+=1;var f=32-bt(t)+c;if(30<f){var w=c-c%5;f=(r&(1<<w)-1).toString(32),r>>=w,c-=w,Jn=1<<32-bt(t)+c|n<<c|r,Zn=f+e}else Jn=1<<f|n<<c|r,Zn=e}function Wo(e){e.return!==null&&(sa(e,1),sf(e,1,0))}function eu(e){for(;e===il;)il=Ki[--Xi],Ki[Xi]=null,Kr=Ki[--Xi],Ki[Xi]=null;for(;e===Ca;)Ca=Rn[--kn],Rn[kn]=null,Zn=Rn[--kn],Rn[kn]=null,Jn=Rn[--kn],Rn[kn]=null}function lf(e,t){Rn[kn++]=Jn,Rn[kn++]=Zn,Rn[kn++]=Ca,Jn=t.id,Zn=t.overflow,Ca=e}var qt=null,it=null,De=!1,Na=null,zn=!1,tu=Error(s(519));function Ra(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xr(Nn(t,e)),tu}function of(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ht]=e,t[Dt]=r,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<ms.length;n++)Re(ms[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Gs(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Ys(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Ag(t.textContent,n)?(r.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),r.onScroll!=null&&Re("scroll",t),r.onScrollEnd!=null&&Re("scrollend",t),r.onClick!=null&&(t.onclick=Gn),t=!0):t=!1,t||Ra(e,!0)}function uf(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:qt=qt.return}}function Pi(e){if(e!==qt)return!1;if(!De)return uf(e),De=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||bc(e.type,e.memoizedProps)),n=!n),n&&it&&Ra(e),uf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));it=Ug(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));it=Ug(e)}else t===27?(t=it,Ia(e.type)?(e=Ec,Ec=null,it=e):it=t):it=qt?Dn(e.stateNode.nextSibling):null;return!0}function fi(){it=qt=null,De=!1}function nu(){var e=Na;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Na=null),e}function Xr(e){Na===null?Na=[e]:Na.push(e)}var au=R(null),hi=null,la=null;function ka(e,t,n){F(au,t._currentValue),t._currentValue=n}function oa(e){e._currentValue=au.current,U(au)}function iu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ru(e,t,n,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var w=c.child;f=f.firstContext;e:for(;f!==null;){var A=f;f=c;for(var M=0;M<t.length;M++)if(A.context===t[M]){f.lanes|=n,A=f.alternate,A!==null&&(A.lanes|=n),iu(f.return,n,e),r||(w=null);break e}f=A.next}}else if(c.tag===18){if(w=c.return,w===null)throw Error(s(341));w.lanes|=n,f=w.alternate,f!==null&&(f.lanes|=n),iu(w,n,e),w=null}else w=c.child;if(w!==null)w.return=c;else for(w=c;w!==null;){if(w===e){w=null;break}if(c=w.sibling,c!==null){c.return=w.return,w=c;break}w=w.return}c=w}}function Qi(e,t,n,r){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var w=c.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var A=c.type;mn(c.pendingProps.value,w.value)||(e!==null?e.push(A):e=[A])}}else if(c===ye.current){if(w=c.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ws):e=[ws])}c=c.return}e!==null&&ru(t,e,n,r),t.flags|=262144}function rl(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gi(e){hi=e,la=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return cf(hi,e)}function sl(e,t){return hi===null&&gi(e),cf(e,t)}function cf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},la===null){if(e===null)throw Error(s(308));la=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else la=la.next=t;return n}var Wv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ey=u.unstable_scheduleCallback,ty=u.unstable_NormalPriority,Tt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function su(){return{controller:new Wv,data:new Map,refCount:0}}function Pr(e){e.refCount--,e.refCount===0&&ey(ty,function(){e.controller.abort()})}var Qr=null,lu=0,Ji=0,Zi=null;function ny(e,t){if(Qr===null){var n=Qr=[];lu=0,Ji=cc(),Zi={status:"pending",value:void 0,then:function(r){n.push(r)}}}return lu++,t.then(df,df),t}function df(){if(--lu===0&&Qr!==null){Zi!==null&&(Zi.status="fulfilled");var e=Qr;Qr=null,Ji=0,Zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ay(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),r}var ff=S.S;S.S=function(e,t){Qh=Ae(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ny(e,t),ff!==null&&ff(e,t)};var mi=R(null);function ou(){var e=mi.current;return e!==null?e:Fe.pooledCache}function ll(e,t){t===null?F(mi,mi.current):F(mi,t.pool)}function hf(){var e=ou();return e===null?null:{parent:Tt._currentValue,pool:e}}var Fi=Error(s(460)),uu=Error(s(474)),ol=Error(s(542)),ul={then:function(){}};function gf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Gn,Gn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yf(e),e;default:if(typeof t.status=="string")t.then(Gn,Gn);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yf(e),e}throw yi=t,Fi}}function vi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(yi=n,Fi):n}}var yi=null;function vf(){if(yi===null)throw Error(s(459));var e=yi;return yi=null,e}function yf(e){if(e===Fi||e===ol)throw Error(s(483))}var Wi=null,Jr=0;function cl(e){var t=Jr;return Jr+=1,Wi===null&&(Wi=[]),mf(Wi,e,t)}function Zr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function dl(e,t){throw t.$$typeof===y?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pf(e){function t(Y,L){if(e){var J=Y.deletions;J===null?(Y.deletions=[L],Y.flags|=16):J.push(L)}}function n(Y,L){if(!e)return null;for(;L!==null;)t(Y,L),L=L.sibling;return null}function r(Y){for(var L=new Map;Y!==null;)Y.key!==null?L.set(Y.key,Y):L.set(Y.index,Y),Y=Y.sibling;return L}function c(Y,L){return Y=ra(Y,L),Y.index=0,Y.sibling=null,Y}function f(Y,L,J){return Y.index=J,e?(J=Y.alternate,J!==null?(J=J.index,J<L?(Y.flags|=67108866,L):J):(Y.flags|=67108866,L)):(Y.flags|=1048576,L)}function w(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function A(Y,L,J,se){return L===null||L.tag!==6?(L=Zo(J,Y.mode,se),L.return=Y,L):(L=c(L,J),L.return=Y,L)}function M(Y,L,J,se){var we=J.type;return we===T?re(Y,L,J.props.children,se,J.key):L!==null&&(L.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===O&&vi(we)===L.type)?(L=c(L,J.props),Zr(L,J),L.return=Y,L):(L=al(J.type,J.key,J.props,null,Y.mode,se),Zr(L,J),L.return=Y,L)}function Z(Y,L,J,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==J.containerInfo||L.stateNode.implementation!==J.implementation?(L=Fo(J,Y.mode,se),L.return=Y,L):(L=c(L,J.children||[]),L.return=Y,L)}function re(Y,L,J,se,we){return L===null||L.tag!==7?(L=di(J,Y.mode,se,we),L.return=Y,L):(L=c(L,J),L.return=Y,L)}function le(Y,L,J){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Zo(""+L,Y.mode,J),L.return=Y,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return J=al(L.type,L.key,L.props,null,Y.mode,J),Zr(J,L),J.return=Y,J;case x:return L=Fo(L,Y.mode,J),L.return=Y,L;case O:return L=vi(L),le(Y,L,J)}if(Q(L)||k(L))return L=di(L,Y.mode,J,null),L.return=Y,L;if(typeof L.then=="function")return le(Y,cl(L),J);if(L.$$typeof===D)return le(Y,sl(Y,L),J);dl(Y,L)}return null}function ee(Y,L,J,se){var we=L!==null?L.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return we!==null?null:A(Y,L,""+J,se);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===we?M(Y,L,J,se):null;case x:return J.key===we?Z(Y,L,J,se):null;case O:return J=vi(J),ee(Y,L,J,se)}if(Q(J)||k(J))return we!==null?null:re(Y,L,J,se,null);if(typeof J.then=="function")return ee(Y,L,cl(J),se);if(J.$$typeof===D)return ee(Y,L,sl(Y,J),se);dl(Y,J)}return null}function ae(Y,L,J,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Y=Y.get(J)||null,A(L,Y,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return Y=Y.get(se.key===null?J:se.key)||null,M(L,Y,se,we);case x:return Y=Y.get(se.key===null?J:se.key)||null,Z(L,Y,se,we);case O:return se=vi(se),ae(Y,L,J,se,we)}if(Q(se)||k(se))return Y=Y.get(J)||null,re(L,Y,se,we,null);if(typeof se.then=="function")return ae(Y,L,J,cl(se),we);if(se.$$typeof===D)return ae(Y,L,J,sl(L,se),we);dl(L,se)}return null}function ge(Y,L,J,se){for(var we=null,He=null,me=L,Oe=L=0,ze=null;me!==null&&Oe<J.length;Oe++){me.index>Oe?(ze=me,me=null):ze=me.sibling;var qe=ee(Y,me,J[Oe],se);if(qe===null){me===null&&(me=ze);break}e&&me&&qe.alternate===null&&t(Y,me),L=f(qe,L,Oe),He===null?we=qe:He.sibling=qe,He=qe,me=ze}if(Oe===J.length)return n(Y,me),De&&sa(Y,Oe),we;if(me===null){for(;Oe<J.length;Oe++)me=le(Y,J[Oe],se),me!==null&&(L=f(me,L,Oe),He===null?we=me:He.sibling=me,He=me);return De&&sa(Y,Oe),we}for(me=r(me);Oe<J.length;Oe++)ze=ae(me,Y,Oe,J[Oe],se),ze!==null&&(e&&ze.alternate!==null&&me.delete(ze.key===null?Oe:ze.key),L=f(ze,L,Oe),He===null?we=ze:He.sibling=ze,He=ze);return e&&me.forEach(function(Ja){return t(Y,Ja)}),De&&sa(Y,Oe),we}function xe(Y,L,J,se){if(J==null)throw Error(s(151));for(var we=null,He=null,me=L,Oe=L=0,ze=null,qe=J.next();me!==null&&!qe.done;Oe++,qe=J.next()){me.index>Oe?(ze=me,me=null):ze=me.sibling;var Ja=ee(Y,me,qe.value,se);if(Ja===null){me===null&&(me=ze);break}e&&me&&Ja.alternate===null&&t(Y,me),L=f(Ja,L,Oe),He===null?we=Ja:He.sibling=Ja,He=Ja,me=ze}if(qe.done)return n(Y,me),De&&sa(Y,Oe),we;if(me===null){for(;!qe.done;Oe++,qe=J.next())qe=le(Y,qe.value,se),qe!==null&&(L=f(qe,L,Oe),He===null?we=qe:He.sibling=qe,He=qe);return De&&sa(Y,Oe),we}for(me=r(me);!qe.done;Oe++,qe=J.next())qe=ae(me,Y,Oe,qe.value,se),qe!==null&&(e&&qe.alternate!==null&&me.delete(qe.key===null?Oe:qe.key),L=f(qe,L,Oe),He===null?we=qe:He.sibling=qe,He=qe);return e&&me.forEach(function(gp){return t(Y,gp)}),De&&sa(Y,Oe),we}function Je(Y,L,J,se){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var we=J.key;L!==null;){if(L.key===we){if(we=J.type,we===T){if(L.tag===7){n(Y,L.sibling),se=c(L,J.props.children),se.return=Y,Y=se;break e}}else if(L.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===O&&vi(we)===L.type){n(Y,L.sibling),se=c(L,J.props),Zr(se,J),se.return=Y,Y=se;break e}n(Y,L);break}else t(Y,L);L=L.sibling}J.type===T?(se=di(J.props.children,Y.mode,se,J.key),se.return=Y,Y=se):(se=al(J.type,J.key,J.props,null,Y.mode,se),Zr(se,J),se.return=Y,Y=se)}return w(Y);case x:e:{for(we=J.key;L!==null;){if(L.key===we)if(L.tag===4&&L.stateNode.containerInfo===J.containerInfo&&L.stateNode.implementation===J.implementation){n(Y,L.sibling),se=c(L,J.children||[]),se.return=Y,Y=se;break e}else{n(Y,L);break}else t(Y,L);L=L.sibling}se=Fo(J,Y.mode,se),se.return=Y,Y=se}return w(Y);case O:return J=vi(J),Je(Y,L,J,se)}if(Q(J))return ge(Y,L,J,se);if(k(J)){if(we=k(J),typeof we!="function")throw Error(s(150));return J=we.call(J),xe(Y,L,J,se)}if(typeof J.then=="function")return Je(Y,L,cl(J),se);if(J.$$typeof===D)return Je(Y,L,sl(Y,J),se);dl(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,L!==null&&L.tag===6?(n(Y,L.sibling),se=c(L,J),se.return=Y,Y=se):(n(Y,L),se=Zo(J,Y.mode,se),se.return=Y,Y=se),w(Y)):n(Y,L)}return function(Y,L,J,se){try{Jr=0;var we=Je(Y,L,J,se);return Wi=null,we}catch(me){if(me===Fi||me===ol)throw me;var He=vn(29,me,null,Y.mode);return He.lanes=se,He.return=Y,He}finally{}}}var pi=pf(!0),bf=pf(!1),za=!1;function cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function du(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,($e&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=nl(e),tf(e,null,n),t}return tl(e,r,t,n),nl(e)}function Fr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ii(e,n)}}function fu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var c=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var w={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?c=f=w:f=f.next=w,n=n.next}while(n!==null);f===null?c=f=t:f=f.next=t}else c=f=t;n={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var hu=!1;function Wr(){if(hu){var e=Zi;if(e!==null)throw e}}function es(e,t,n,r){hu=!1;var c=e.updateQueue;za=!1;var f=c.firstBaseUpdate,w=c.lastBaseUpdate,A=c.shared.pending;if(A!==null){c.shared.pending=null;var M=A,Z=M.next;M.next=null,w===null?f=Z:w.next=Z,w=M;var re=e.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==w&&(A===null?re.firstBaseUpdate=Z:A.next=Z,re.lastBaseUpdate=M))}if(f!==null){var le=c.baseState;w=0,re=Z=M=null,A=f;do{var ee=A.lane&-536870913,ae=ee!==A.lane;if(ae?(ke&ee)===ee:(r&ee)===ee){ee!==0&&ee===Ji&&(hu=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ge=e,xe=A;ee=t;var Je=n;switch(xe.tag){case 1:if(ge=xe.payload,typeof ge=="function"){le=ge.call(Je,le,ee);break e}le=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=xe.payload,ee=typeof ge=="function"?ge.call(Je,le,ee):ge,ee==null)break e;le=p({},le,ee);break e;case 2:za=!0}}ee=A.callback,ee!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=c.callbacks,ae===null?c.callbacks=[ee]:ae.push(ee))}else ae={lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(Z=re=ae,M=le):re=re.next=ae,w|=ee;if(A=A.next,A===null){if(A=c.shared.pending,A===null)break;ae=A,A=ae.next,ae.next=null,c.lastBaseUpdate=ae,c.shared.pending=null}}while(!0);re===null&&(M=le),c.baseState=M,c.firstBaseUpdate=Z,c.lastBaseUpdate=re,f===null&&(c.shared.lanes=0),qa|=w,e.lanes=w,e.memoizedState=le}}function wf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function _f(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)wf(n[e],t)}var er=R(null),fl=R(0);function xf(e,t){e=ya,F(fl,e),F(er,t),ya=e|t.baseLanes}function gu(){F(fl,ya),F(er,er.current)}function mu(){ya=fl.current,U(er),U(fl)}var yn=R(null),Un=null;function Ma(e){var t=e.alternate;F(St,St.current&1),F(yn,e),Un===null&&(t===null||er.current!==null||t.memoizedState!==null)&&(Un=e)}function vu(e){F(St,St.current),F(yn,e),Un===null&&(Un=e)}function Sf(e){e.tag===22?(F(St,St.current),F(yn,e),Un===null&&(Un=e)):Ba()}function Ba(){F(St,St.current),F(yn,yn.current)}function pn(e){U(yn),Un===e&&(Un=null),U(St)}var St=R(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||xc(n)||Sc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=0,Te=null,Pe=null,Ot=null,gl=!1,tr=!1,bi=!1,ml=0,ts=0,nr=null,iy=0;function mt(){throw Error(s(321))}function yu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function pu(e,t,n,r,c,f){return ua=f,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,S.H=e===null||e.memoizedState===null?sh:zu,bi=!1,f=n(r,c),bi=!1,tr&&(f=Af(t,n,r,c)),Ef(e),f}function Ef(e){S.H=is;var t=Pe!==null&&Pe.next!==null;if(ua=0,Ot=Pe=Te=null,gl=!1,ts=0,nr=null,t)throw Error(s(300));e===null||Ct||(e=e.dependencies,e!==null&&rl(e)&&(Ct=!0))}function Af(e,t,n,r){Te=e;var c=0;do{if(tr&&(nr=null),ts=0,tr=!1,25<=c)throw Error(s(301));if(c+=1,Ot=Pe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=lh,f=t(n,r)}while(tr);return f}function ry(){var e=S.H,t=e.useState()[0];return t=typeof t.then=="function"?ns(t):t,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(Te.flags|=1024),t}function bu(){var e=ml!==0;return ml=0,e}function wu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function _u(e){if(gl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gl=!1}ua=0,Ot=Pe=Te=null,tr=!1,ts=ml=0,nr=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Te.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Et(){if(Pe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Ot===null?Te.memoizedState:Ot.next;if(t!==null)Ot=t,Pe=e;else{if(e===null)throw Te.alternate===null?Error(s(467)):Error(s(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Ot===null?Te.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ns(e){var t=ts;return ts+=1,nr===null&&(nr=[]),e=mf(nr,e,t),t=Te,(Ot===null?t.memoizedState:Ot.next)===null&&(t=t.alternate,S.H=t===null||t.memoizedState===null?sh:zu),e}function yl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ns(e);if(e.$$typeof===D)return Gt(e)}throw Error(s(438,String(e)))}function xu(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=vl(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=q;return t.index++,n}function ca(e,t){return typeof t=="function"?t(e):t}function pl(e){var t=Et();return Su(t,Pe,e)}function Su(e,t,n){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var w=c.next;c.next=f.next,f.next=w}t.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var A=w=null,M=null,Z=t,re=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(ke&le)===le:(ua&le)===le){var ee=Z.revertLane;if(ee===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===Ji&&(re=!0);else if((ua&ee)===ee){Z=Z.next,ee===Ji&&(re=!0);continue}else le={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},M===null?(A=M=le,w=f):M=M.next=le,Te.lanes|=ee,qa|=ee;le=Z.action,bi&&n(f,le),f=Z.hasEagerState?Z.eagerState:n(f,le)}else ee={lane:le,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},M===null?(A=M=ee,w=f):M=M.next=ee,Te.lanes|=le,qa|=le;Z=Z.next}while(Z!==null&&Z!==t);if(M===null?w=f:M.next=A,!mn(f,e.memoizedState)&&(Ct=!0,re&&(n=Zi,n!==null)))throw n;e.memoizedState=f,e.baseState=w,e.baseQueue=M,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Eu(e){var t=Et(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,c=n.pending,f=t.memoizedState;if(c!==null){n.pending=null;var w=c=c.next;do f=e(f,w.action),w=w.next;while(w!==c);mn(f,t.memoizedState)||(Ct=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,r]}function jf(e,t,n){var r=Te,c=Et(),f=De;if(f){if(n===void 0)throw Error(s(407));n=n()}else n=t();var w=!mn((Pe||c).memoizedState,n);if(w&&(c.memoizedState=n,Ct=!0),c=c.queue,Tu(Cf.bind(null,r,c,e),[e]),c.getSnapshot!==t||w||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,ar(9,{destroy:void 0},Of.bind(null,r,c,n,t),null),Fe===null)throw Error(s(349));f||(ua&127)!==0||Tf(r,t,n)}return n}function Tf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=vl(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Of(e,t,n,r){t.value=n,t.getSnapshot=r,Nf(t)&&Rf(e)}function Cf(e,t,n){return n(function(){Nf(t)&&Rf(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function Rf(e){var t=ci(e,2);t!==null&&fn(t,e,2)}function Au(e){var t=en();if(typeof e=="function"){var n=e;if(e=n(),bi){jt(!0);try{n()}finally{jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t}function kf(e,t,n,r){return e.baseState=n,Su(e,Pe,typeof r=="function"?r:ca)}function sy(e,t,n,r,c){if(_l(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};S.T!==null?n(!0):f.isTransition=!1,r(f),n=t.pending,n===null?(f.next=t.pending=f,zf(t,f)):(f.next=n.next,t.pending=n.next=f)}}function zf(e,t){var n=t.action,r=t.payload,c=e.state;if(t.isTransition){var f=S.T,w={};S.T=w;try{var A=n(c,r),M=S.S;M!==null&&M(w,A),Uf(e,t,A)}catch(Z){ju(e,t,Z)}finally{f!==null&&w.types!==null&&(f.types=w.types),S.T=f}}else try{f=n(c,r),Uf(e,t,f)}catch(Z){ju(e,t,Z)}}function Uf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Df(e,t,r)},function(r){return ju(e,t,r)}):Df(e,t,n)}function Df(e,t,n){t.status="fulfilled",t.value=n,Mf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,zf(e,n)))}function ju(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Mf(t),t=t.next;while(t!==r)}e.action=null}function Mf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bf(e,t){return t}function Lf(e,t){if(De){var n=Fe.formState;if(n!==null){e:{var r=Te;if(De){if(it){t:{for(var c=it,f=zn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Dn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){it=Dn(c.nextSibling),r=c.data==="F!";break e}}Ra(r)}r=!1}r&&(t=n[0])}}return n=en(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bf,lastRenderedState:t},n.queue=r,n=ah.bind(null,Te,r),r.dispatch=n,r=Au(!1),f=ku.bind(null,Te,!1,r.queue),r=en(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,n=sy.bind(null,Te,c,f,n),c.dispatch=n,r.memoizedState=e,[t,n,!1]}function Hf(e){var t=Et();return qf(t,Pe,e)}function qf(e,t,n){if(t=Su(e,t,Bf)[0],e=pl(ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ns(t)}catch(w){throw w===Fi?ol:w}else r=t;t=Et();var c=t.queue,f=c.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,ar(9,{destroy:void 0},ly.bind(null,c,n),null)),[r,f,e]}function ly(e,t){e.action=t}function Gf(e){var t=Et(),n=Pe;if(n!==null)return qf(t,n,e);Et(),t=t.memoizedState,n=Et();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ar(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Te.updateQueue,t===null&&(t=vl(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function $f(){return Et().memoizedState}function bl(e,t,n,r){var c=en();Te.flags|=e,c.memoizedState=ar(1|t,{destroy:void 0},n,r===void 0?null:r)}function wl(e,t,n,r){var c=Et();r=r===void 0?null:r;var f=c.memoizedState.inst;Pe!==null&&r!==null&&yu(r,Pe.memoizedState.deps)?c.memoizedState=ar(t,f,n,r):(Te.flags|=e,c.memoizedState=ar(1|t,f,n,r))}function Yf(e,t){bl(8390656,8,e,t)}function Tu(e,t){wl(2048,8,e,t)}function oy(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=vl(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Vf(e){var t=Et().memoizedState;return oy({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function If(e,t){return wl(4,2,e,t)}function Kf(e,t){return wl(4,4,e,t)}function Xf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pf(e,t,n){n=n!=null?n.concat([e]):null,wl(4,4,Xf.bind(null,t,e),n)}function Ou(){}function Qf(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&yu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jf(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&yu(t,r[1]))return r[0];if(r=e(),bi){jt(!0);try{e()}finally{jt(!1)}}return n.memoizedState=[r,t],r}function Cu(e,t,n){return n===void 0||(ua&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Zh(),Te.lanes|=e,qa|=e,n)}function Zf(e,t,n,r){return mn(n,t)?n:er.current!==null?(e=Cu(e,n,r),mn(e,t)||(Ct=!0),e):(ua&42)===0||(ua&1073741824)!==0&&(ke&261930)===0?(Ct=!0,e.memoizedState=n):(e=Zh(),Te.lanes|=e,qa|=e,t)}function Ff(e,t,n,r,c){var f=E.p;E.p=f!==0&&8>f?f:8;var w=S.T,A={};S.T=A,ku(e,!1,t,n);try{var M=c(),Z=S.S;if(Z!==null&&Z(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var re=ay(M,r);as(e,t,re,_n(e))}else as(e,t,r,_n(e))}catch(le){as(e,t,{then:function(){},status:"rejected",reason:le},_n())}finally{E.p=f,w!==null&&A.types!==null&&(w.types=A.types),S.T=w}}function uy(){}function Nu(e,t,n,r){if(e.tag!==5)throw Error(s(476));var c=Wf(e).queue;Ff(e,c,t,W,n===null?uy:function(){return eh(e),n(r)})}function Wf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:W},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function eh(e){var t=Wf(e);t.next===null&&(t=e.alternate.memoizedState),as(e,t.next.queue,{},_n())}function Ru(){return Gt(ws)}function th(){return Et().memoizedState}function nh(){return Et().memoizedState}function cy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=_n();e=Ua(n);var r=Da(t,e,n);r!==null&&(fn(r,t,n),Fr(r,t,n)),t={cache:su()},e.payload=t;return}t=t.return}}function dy(e,t,n){var r=_n();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},_l(e)?ih(t,n):(n=Qo(e,t,n,r),n!==null&&(fn(n,e,r),rh(n,t,r)))}function ah(e,t,n){var r=_n();as(e,t,n,r)}function as(e,t,n,r){var c={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(_l(e))ih(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var w=t.lastRenderedState,A=f(w,n);if(c.hasEagerState=!0,c.eagerState=A,mn(A,w))return tl(e,t,c,0),Fe===null&&el(),!1}catch{}finally{}if(n=Qo(e,t,c,r),n!==null)return fn(n,e,r),rh(n,t,r),!0}return!1}function ku(e,t,n,r){if(r={lane:2,revertLane:cc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},_l(e)){if(t)throw Error(s(479))}else t=Qo(e,n,r,2),t!==null&&fn(t,e,2)}function _l(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function ih(e,t){tr=gl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rh(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ii(e,n)}}var is={readContext:Gt,use:yl,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};is.useEffectEvent=mt;var sh={readContext:Gt,use:yl,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:Yf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,bl(4194308,4,Xf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){bl(4,2,e,t)},useMemo:function(e,t){var n=en();t=t===void 0?null:t;var r=e();if(bi){jt(!0);try{e()}finally{jt(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=en();if(n!==void 0){var c=n(t);if(bi){jt(!0);try{n(t)}finally{jt(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=dy.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:function(e){e=Au(e);var t=e.queue,n=ah.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ou,useDeferredValue:function(e,t){var n=en();return Cu(n,e,t)},useTransition:function(){var e=Au(!1);return e=Ff.bind(null,Te,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Te,c=en();if(De){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Fe===null)throw Error(s(349));(ke&127)!==0||Tf(r,t,n)}c.memoizedState=n;var f={value:n,getSnapshot:t};return c.queue=f,Yf(Cf.bind(null,r,f,e),[e]),r.flags|=2048,ar(9,{destroy:void 0},Of.bind(null,r,f,n,t),null),n},useId:function(){var e=en(),t=Fe.identifierPrefix;if(De){var n=Zn,r=Jn;n=(r&~(1<<32-bt(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ml++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=iy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ru,useFormState:Lf,useActionState:Lf,useOptimistic:function(e){var t=en();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ku.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:xu,useCacheRefresh:function(){return en().memoizedState=cy.bind(null,Te)},useEffectEvent:function(e){var t=en(),n={impl:e};return t.memoizedState=n,function(){if(($e&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},zu={readContext:Gt,use:yl,useCallback:Qf,useContext:Gt,useEffect:Tu,useImperativeHandle:Pf,useInsertionEffect:If,useLayoutEffect:Kf,useMemo:Jf,useReducer:pl,useRef:$f,useState:function(){return pl(ca)},useDebugValue:Ou,useDeferredValue:function(e,t){var n=Et();return Zf(n,Pe.memoizedState,e,t)},useTransition:function(){var e=pl(ca)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:jf,useId:th,useHostTransitionStatus:Ru,useFormState:Hf,useActionState:Hf,useOptimistic:function(e,t){var n=Et();return kf(n,Pe,e,t)},useMemoCache:xu,useCacheRefresh:nh};zu.useEffectEvent=Vf;var lh={readContext:Gt,use:yl,useCallback:Qf,useContext:Gt,useEffect:Tu,useImperativeHandle:Pf,useInsertionEffect:If,useLayoutEffect:Kf,useMemo:Jf,useReducer:Eu,useRef:$f,useState:function(){return Eu(ca)},useDebugValue:Ou,useDeferredValue:function(e,t){var n=Et();return Pe===null?Cu(n,e,t):Zf(n,Pe.memoizedState,e,t)},useTransition:function(){var e=Eu(ca)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:jf,useId:th,useHostTransitionStatus:Ru,useFormState:Gf,useActionState:Gf,useOptimistic:function(e,t){var n=Et();return Pe!==null?kf(n,Pe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:xu,useCacheRefresh:nh};lh.useEffectEvent=Vf;function Uu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Du={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_n(),c=Ua(r);c.payload=t,n!=null&&(c.callback=n),t=Da(e,c,r),t!==null&&(fn(t,e,r),Fr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_n(),c=Ua(r);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Da(e,c,r),t!==null&&(fn(t,e,r),Fr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_n(),r=Ua(n);r.tag=2,t!=null&&(r.callback=t),t=Da(e,r,n),t!==null&&(fn(t,e,n),Fr(t,e,n))}};function oh(e,t,n,r,c,f,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,w):t.prototype&&t.prototype.isPureReactComponent?!Vr(n,r)||!Vr(c,f):!0}function uh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Du.enqueueReplaceState(t,t.state,null)}function wi(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function ch(e){Ws(e)}function dh(e){console.error(e)}function fh(e){Ws(e)}function xl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function hh(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Mu(e,t,n){return n=Ua(n),n.tag=3,n.payload={element:null},n.callback=function(){xl(e,t)},n}function gh(e){return e=Ua(e),e.tag=3,e}function mh(e,t,n,r){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){hh(t,n,r)}}var w=n.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){hh(t,n,r),typeof c!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var A=r.stack;this.componentDidCatch(r.value,{componentStack:A!==null?A:""})})}function fy(e,t,n,r,c){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Qi(t,n,c,!0),n=yn.current,n!==null){switch(n.tag){case 31:case 13:return Un===null?Ul():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,r===ul?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),lc(e,r,c)),!1;case 22:return n.flags|=65536,r===ul?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),lc(e,r,c)),!1}throw Error(s(435,n.tag))}return lc(e,r,c),Ul(),!1}if(De)return t=yn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==tu&&(e=Error(s(422),{cause:r}),Xr(Nn(e,n)))):(r!==tu&&(t=Error(s(423),{cause:r}),Xr(Nn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Nn(r,n),c=Mu(e.stateNode,r,c),fu(e,c),vt!==4&&(vt=2)),!1;var f=Error(s(520),{cause:r});if(f=Nn(f,n),fs===null?fs=[f]:fs.push(f),vt!==4&&(vt=2),t===null)return!0;r=Nn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Mu(n.stateNode,r,e),fu(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ga===null||!Ga.has(f))))return n.flags|=65536,c&=-c,n.lanes|=c,c=gh(c),mh(c,e,n,r),fu(n,c),!1}n=n.return}while(n!==null);return!1}var Bu=Error(s(461)),Ct=!1;function $t(e,t,n,r){t.child=e===null?bf(t,null,n,r):pi(t,e.child,n,r)}function vh(e,t,n,r,c){n=n.render;var f=t.ref;if("ref"in r){var w={};for(var A in r)A!=="ref"&&(w[A]=r[A])}else w=r;return gi(t),r=pu(e,t,n,w,f,c),A=bu(),e!==null&&!Ct?(wu(e,t,c),da(e,t,c)):(De&&A&&Wo(t),t.flags|=1,$t(e,t,r,c),t.child)}function yh(e,t,n,r,c){if(e===null){var f=n.type;return typeof f=="function"&&!Jo(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,ph(e,t,f,r,c)):(e=al(n.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Iu(e,c)){var w=f.memoizedProps;if(n=n.compare,n=n!==null?n:Vr,n(w,r)&&e.ref===t.ref)return da(e,t,c)}return t.flags|=1,e=ra(f,r),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,n,r,c){if(e!==null){var f=e.memoizedProps;if(Vr(f,r)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=r=f,Iu(e,c))(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,da(e,t,c)}return Lu(e,t,n,r,c)}function bh(e,t,n,r){var c=r.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~f}else r=0,t.child=null;return wh(e,t,f,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ll(t,f!==null?f.cachePool:null),f!==null?xf(t,f):gu(),Sf(t);else return r=t.lanes=536870912,wh(e,t,f!==null?f.baseLanes|n:n,n,r)}else f!==null?(ll(t,f.cachePool),xf(t,f),Ba(),t.memoizedState=null):(e!==null&&ll(t,null),gu(),Ba());return $t(e,t,c,n),t.child}function rs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function wh(e,t,n,r,c){var f=ou();return f=f===null?null:{parent:Tt._currentValue,pool:f},t.memoizedState={baseLanes:n,cachePool:f},e!==null&&ll(t,null),gu(),Sf(t),e!==null&&Qi(e,t,r,!0),t.childLanes=c,null}function Sl(e,t){return t=Al({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function _h(e,t,n){return pi(t,e.child,null,n),e=Sl(t,t.pendingProps),e.flags|=2,pn(t),t.memoizedState=null,e}function hy(e,t,n){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(r.mode==="hidden")return e=Sl(t,r),t.lanes=536870912,rs(null,e);if(vu(t),(e=it)?(e=zg(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=af(e),n.return=t,t.child=n,qt=t,it=null)):e=null,e===null)throw Ra(t);return t.lanes=536870912,null}return Sl(t,r)}var f=e.memoizedState;if(f!==null){var w=f.dehydrated;if(vu(t),c)if(t.flags&256)t.flags&=-257,t=_h(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ct||Qi(e,t,n,!1),c=(n&e.childLanes)!==0,Ct||c){if(r=Fe,r!==null&&(w=ki(r,n),w!==0&&w!==f.retryLane))throw f.retryLane=w,ci(e,w),fn(r,e,w),Bu;Ul(),t=_h(e,t,n)}else e=f.treeContext,it=Dn(w.nextSibling),qt=t,De=!0,Na=null,zn=!1,e!==null&&lf(t,e),t=Sl(t,r),t.flags|=4096;return t}return e=ra(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function El(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Lu(e,t,n,r,c){return gi(t),n=pu(e,t,n,r,void 0,c),r=bu(),e!==null&&!Ct?(wu(e,t,c),da(e,t,c)):(De&&r&&Wo(t),t.flags|=1,$t(e,t,n,c),t.child)}function xh(e,t,n,r,c,f){return gi(t),t.updateQueue=null,n=Af(t,r,n,c),Ef(e),r=bu(),e!==null&&!Ct?(wu(e,t,f),da(e,t,f)):(De&&r&&Wo(t),t.flags|=1,$t(e,t,n,f),t.child)}function Sh(e,t,n,r,c){if(gi(t),t.stateNode===null){var f=Ii,w=n.contextType;typeof w=="object"&&w!==null&&(f=Gt(w)),f=new n(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Du,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},cu(t),w=n.contextType,f.context=typeof w=="object"&&w!==null?Gt(w):Ii,f.state=t.memoizedState,w=n.getDerivedStateFromProps,typeof w=="function"&&(Uu(t,n,w,r),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&Du.enqueueReplaceState(f,f.state,null),es(t,r,f,c),Wr(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var A=t.memoizedProps,M=wi(n,A);f.props=M;var Z=f.context,re=n.contextType;w=Ii,typeof re=="object"&&re!==null&&(w=Gt(re));var le=n.getDerivedStateFromProps;re=typeof le=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,re||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||Z!==w)&&uh(t,f,r,w),za=!1;var ee=t.memoizedState;f.state=ee,es(t,r,f,c),Wr(),Z=t.memoizedState,A||ee!==Z||za?(typeof le=="function"&&(Uu(t,n,le,r),Z=t.memoizedState),(M=za||oh(t,n,M,r,ee,Z,w))?(re||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=Z),f.props=r,f.state=Z,f.context=w,r=M):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,du(e,t),w=t.memoizedProps,re=wi(n,w),f.props=re,le=t.pendingProps,ee=f.context,Z=n.contextType,M=Ii,typeof Z=="object"&&Z!==null&&(M=Gt(Z)),A=n.getDerivedStateFromProps,(Z=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==le||ee!==M)&&uh(t,f,r,M),za=!1,ee=t.memoizedState,f.state=ee,es(t,r,f,c),Wr();var ae=t.memoizedState;w!==le||ee!==ae||za||e!==null&&e.dependencies!==null&&rl(e.dependencies)?(typeof A=="function"&&(Uu(t,n,A,r),ae=t.memoizedState),(re=za||oh(t,n,re,r,ee,ae,M)||e!==null&&e.dependencies!==null&&rl(e.dependencies))?(Z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,ae,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,ae,M)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ae),f.props=r,f.state=ae,f.context=M,r=re):(typeof f.componentDidUpdate!="function"||w===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,El(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=pi(t,e.child,null,c),t.child=pi(t,null,n,c)):$t(e,t,n,c),t.memoizedState=f.state,e=t.child):e=da(e,t,c),e}function Eh(e,t,n,r){return fi(),t.flags|=256,$t(e,t,n,r),t.child}var Hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qu(e){return{baseLanes:e,cachePool:hf()}}function Gu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=wn),e}function Ah(e,t,n){var r=t.pendingProps,c=!1,f=(t.flags&128)!==0,w;if((w=f)||(w=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),w&&(c=!0,t.flags&=-129),w=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(c?Ma(t):Ba(),(e=it)?(e=zg(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=af(e),n.return=t,t.child=n,qt=t,it=null)):e=null,e===null)throw Ra(t);return Sc(e)?t.lanes=32:t.lanes=536870912,null}var A=r.children;return r=r.fallback,c?(Ba(),c=t.mode,A=Al({mode:"hidden",children:A},c),r=di(r,c,n,null),A.return=t,r.return=t,A.sibling=r,t.child=A,r=t.child,r.memoizedState=qu(n),r.childLanes=Gu(e,w,n),t.memoizedState=Hu,rs(null,r)):(Ma(t),$u(t,A))}var M=e.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(f)t.flags&256?(Ma(t),t.flags&=-257,t=Yu(e,t,n)):t.memoizedState!==null?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),A=r.fallback,c=t.mode,r=Al({mode:"visible",children:r.children},c),A=di(A,c,n,null),A.flags|=2,r.return=t,A.return=t,r.sibling=A,t.child=r,pi(t,e.child,null,n),r=t.child,r.memoizedState=qu(n),r.childLanes=Gu(e,w,n),t.memoizedState=Hu,t=rs(null,r));else if(Ma(t),Sc(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var Z=w.dgst;w=Z,r=Error(s(419)),r.stack="",r.digest=w,Xr({value:r,source:null,stack:null}),t=Yu(e,t,n)}else if(Ct||Qi(e,t,n,!1),w=(n&e.childLanes)!==0,Ct||w){if(w=Fe,w!==null&&(r=ki(w,n),r!==0&&r!==M.retryLane))throw M.retryLane=r,ci(e,r),fn(w,e,r),Bu;xc(A)||Ul(),t=Yu(e,t,n)}else xc(A)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,it=Dn(A.nextSibling),qt=t,De=!0,Na=null,zn=!1,e!==null&&lf(t,e),t=$u(t,r.children),t.flags|=4096);return t}return c?(Ba(),A=r.fallback,c=t.mode,M=e.child,Z=M.sibling,r=ra(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,Z!==null?A=ra(Z,A):(A=di(A,c,n,null),A.flags|=2),A.return=t,r.return=t,r.sibling=A,t.child=r,rs(null,r),r=t.child,A=e.child.memoizedState,A===null?A=qu(n):(c=A.cachePool,c!==null?(M=Tt._currentValue,c=c.parent!==M?{parent:M,pool:M}:c):c=hf(),A={baseLanes:A.baseLanes|n,cachePool:c}),r.memoizedState=A,r.childLanes=Gu(e,w,n),t.memoizedState=Hu,rs(e.child,r)):(Ma(t),n=e.child,e=n.sibling,n=ra(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(w=t.deletions,w===null?(t.deletions=[e],t.flags|=16):w.push(e)),t.child=n,t.memoizedState=null,n)}function $u(e,t){return t=Al({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Al(e,t){return e=vn(22,e,null,t),e.lanes=0,e}function Yu(e,t,n){return pi(t,e.child,null,n),e=$u(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),iu(e.return,t,n)}function Vu(e,t,n,r,c,f){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:c,treeForkCount:f}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=r,w.tail=n,w.tailMode=c,w.treeForkCount=f)}function Th(e,t,n){var r=t.pendingProps,c=r.revealOrder,f=r.tail;r=r.children;var w=St.current,A=(w&2)!==0;if(A?(w=w&1|2,t.flags|=128):w&=1,F(St,w),$t(e,t,r,n),r=De?Kr:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jh(e,n,t);else if(e.tag===19)jh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&hl(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Vu(t,!1,c,n,f,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&hl(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Vu(t,!0,n,null,f,r);break;case"together":Vu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function da(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Qi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=ra(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ra(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Iu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&rl(e)))}function gy(e,t,n){switch(t.tag){case 3:Ee(t,t.stateNode.containerInfo),ka(t,Tt,e.memoizedState.cache),fi();break;case 27:case 5:Ue(t);break;case 4:Ee(t,t.stateNode.containerInfo);break;case 10:ka(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,vu(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ma(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ah(e,t,n):(Ma(t),e=da(e,t,n),e!==null?e.sibling:null);Ma(t);break;case 19:var c=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Qi(e,t,n,!1),r=(n&t.childLanes)!==0),c){if(r)return Th(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(St,St.current),r)break;return null;case 22:return t.lanes=0,bh(e,t,n,t.pendingProps);case 24:ka(t,Tt,e.memoizedState.cache)}return da(e,t,n)}function Oh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ct=!0;else{if(!Iu(e,n)&&(t.flags&128)===0)return Ct=!1,gy(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,De&&(t.flags&1048576)!==0&&sf(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=vi(t.elementType),t.type=e,typeof e=="function")Jo(e)?(r=wi(e,r),t.tag=1,t=Sh(null,t,e,r,n)):(t.tag=0,t=Lu(null,t,e,r,n));else{if(e!=null){var c=e.$$typeof;if(c===B){t.tag=11,t=vh(null,t,e,r,n);break e}else if(c===V){t.tag=14,t=yh(null,t,e,r,n);break e}}throw t=H(e)||e,Error(s(306,t,""))}}return t;case 0:return Lu(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,c=wi(r,t.pendingProps),Sh(e,t,r,c,n);case 3:e:{if(Ee(t,t.stateNode.containerInfo),e===null)throw Error(s(387));r=t.pendingProps;var f=t.memoizedState;c=f.element,du(e,t),es(t,r,null,n);var w=t.memoizedState;if(r=w.cache,ka(t,Tt,r),r!==f.cache&&ru(t,[Tt],n,!0),Wr(),r=w.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:w.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Eh(e,t,r,n);break e}else if(r!==c){c=Nn(Error(s(424)),t),Xr(c),t=Eh(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=Dn(e.firstChild),qt=t,De=!0,Na=null,zn=!0,n=bf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fi(),r===c){t=da(e,t,n);break e}$t(e,t,r,n)}t=t.child}return t;case 26:return El(e,t),e===null?(n=Hg(t.type,null,t.pendingProps,null))?t.memoizedState=n:De||(n=t.type,e=t.pendingProps,r=Gl(ue.current).createElement(n),r[ht]=t,r[Dt]=e,Yt(r,n,e),_t(r),t.stateNode=r):t.memoizedState=Hg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ue(t),e===null&&De&&(r=t.stateNode=Mg(t.type,t.pendingProps,ue.current),qt=t,zn=!0,c=it,Ia(t.type)?(Ec=c,it=Dn(r.firstChild)):it=c),$t(e,t,t.pendingProps.children,n),El(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((c=r=it)&&(r=Vy(r,t.type,t.pendingProps,zn),r!==null?(t.stateNode=r,qt=t,it=Dn(r.firstChild),zn=!1,c=!0):c=!1),c||Ra(t)),Ue(t),c=t.type,f=t.pendingProps,w=e!==null?e.memoizedProps:null,r=f.children,bc(c,f)?r=null:w!==null&&bc(c,w)&&(t.flags|=32),t.memoizedState!==null&&(c=pu(e,t,ry,null,null,n),ws._currentValue=c),El(e,t),$t(e,t,r,n),t.child;case 6:return e===null&&De&&((e=n=it)&&(n=Iy(n,t.pendingProps,zn),n!==null?(t.stateNode=n,qt=t,it=null,e=!0):e=!1),e||Ra(t)),null;case 13:return Ah(e,t,n);case 4:return Ee(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pi(t,null,r,n):$t(e,t,r,n),t.child;case 11:return vh(e,t,t.type,t.pendingProps,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ka(t,t.type,r.value),$t(e,t,r.children,n),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,gi(t),c=Gt(c),r=r(c),t.flags|=1,$t(e,t,r,n),t.child;case 14:return yh(e,t,t.type,t.pendingProps,n);case 15:return ph(e,t,t.type,t.pendingProps,n);case 19:return Th(e,t,n);case 31:return hy(e,t,n);case 22:return bh(e,t,n,t.pendingProps);case 24:return gi(t),r=Gt(Tt),e===null?(c=ou(),c===null&&(c=Fe,f=su(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=n),c=f),t.memoizedState={parent:r,cache:c},cu(t),ka(t,Tt,c)):((e.lanes&n)!==0&&(du(e,t),es(t,null,null,n),Wr()),c=e.memoizedState,f=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ka(t,Tt,r)):(r=f.cache,ka(t,Tt,r),r!==c.cache&&ru(t,[Tt],n,!0))),$t(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function fa(e){e.flags|=4}function Ku(e,t,n,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(tg())e.flags|=8192;else throw yi=ul,uu}else e.flags&=-16777217}function Ch(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vg(t))if(tg())e.flags|=8192;else throw yi=ul,uu}function jl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?an():536870912,e.lanes|=t,lr|=t)}function ss(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function my(e,t,n){var r=t.pendingProps;switch(eu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return rt(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),oa(Tt),be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pi(t)?fa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,nu())),rt(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(fa(t),f!==null?(rt(t),Ch(t,f)):(rt(t),Ku(t,c,null,r,n))):f?f!==e.memoizedState?(fa(t),rt(t),Ch(t,f)):(rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&fa(t),rt(t),Ku(t,c,e,r,n)),null;case 27:if(_e(t),n=ue.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&fa(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return rt(t),null}e=P.current,Pi(t)?of(t):(e=Mg(c,r,n),t.stateNode=e,fa(t))}return rt(t),null;case 5:if(_e(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&fa(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return rt(t),null}if(f=P.current,Pi(t))of(t);else{var w=Gl(ue.current);switch(f){case 1:f=w.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=w.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=w.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=w.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=w.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?w.createElement("select",{is:r.is}):w.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?w.createElement(c,{is:r.is}):w.createElement(c)}}f[ht]=t,f[Dt]=r;e:for(w=t.child;w!==null;){if(w.tag===5||w.tag===6)f.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}t.stateNode=f;e:switch(Yt(f,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&fa(t)}}return rt(t),Ku(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&fa(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(e=ue.current,Pi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,c=qt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[ht]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Ag(e.nodeValue,n)),e||Ra(t,!0)}else e=Gl(e).createTextNode(r),e[ht]=t,t.stateNode=e}return rt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Pi(t),n!==null){if(e===null){if(!r)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ht]=t}else fi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),e=!1}else n=nu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(pn(t),t):(pn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return rt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ht]=t}else fi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),c=!1}else c=nu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(pn(t),t):(pn(t),null)}return pn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),jl(t,t.updateQueue),rt(t),null);case 4:return be(),e===null&&gc(t.stateNode.containerInfo),rt(t),null;case 10:return oa(t.type),rt(t),null;case 19:if(U(St),r=t.memoizedState,r===null)return rt(t),null;if(c=(t.flags&128)!==0,f=r.rendering,f===null)if(c)ss(r,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=hl(e),f!==null){for(t.flags|=128,ss(r,!1),e=f.updateQueue,t.updateQueue=e,jl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)nf(n,e),n=n.sibling;return F(St,St.current&1|2),De&&sa(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ae()>Rl&&(t.flags|=128,c=!0,ss(r,!1),t.lanes=4194304)}else{if(!c)if(e=hl(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,jl(t,e),ss(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!De)return rt(t),null}else 2*Ae()-r.renderingStartTime>Rl&&n!==536870912&&(t.flags|=128,c=!0,ss(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ae(),e.sibling=null,n=St.current,F(St,c?n&1|2:n&1),De&&sa(t,r.treeForkCount),e):(rt(t),null);case 22:case 23:return pn(t),mu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),n=t.updateQueue,n!==null&&jl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&U(mi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),oa(Tt),rt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function vy(e,t){switch(eu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(Tt),be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _e(t),null;case 31:if(t.memoizedState!==null){if(pn(t),t.alternate===null)throw Error(s(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(pn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(St),null;case 4:return be(),null;case 10:return oa(t.type),null;case 22:case 23:return pn(t),mu(),e!==null&&U(mi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oa(Tt),null;case 25:return null;default:return null}}function Nh(e,t){switch(eu(t),t.tag){case 3:oa(Tt),be();break;case 26:case 27:case 5:_e(t);break;case 4:be();break;case 31:t.memoizedState!==null&&pn(t);break;case 13:pn(t);break;case 19:U(St);break;case 10:oa(t.type);break;case 22:case 23:pn(t),mu(),e!==null&&U(mi);break;case 24:oa(Tt)}}function ls(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){r=void 0;var f=n.create,w=n.inst;r=f(),w.destroy=r}n=n.next}while(n!==c)}}catch(A){Ke(t,t.return,A)}}function La(e,t,n){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var w=r.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,c=t;var M=n,Z=A;try{Z()}catch(re){Ke(c,M,re)}}}r=r.next}while(r!==f)}}catch(re){Ke(t,t.return,re)}}function Rh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{_f(t,n)}catch(r){Ke(e,e.return,r)}}}function kh(e,t,n){n.props=wi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ke(e,t,r)}}function os(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(c){Ke(e,t,c)}}function Fn(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(c){Ke(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Ke(e,t,c)}else n.current=null}function zh(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(c){Ke(e,e.return,c)}}function Xu(e,t,n){try{var r=e.stateNode;Ly(r,e.type,n,t),r[Dt]=t}catch(c){Ke(e,e.return,c)}}function Uh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ia(e.type)||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gn));else if(r!==4&&(r===27&&Ia(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Qu(e,t,n),e=e.sibling;e!==null;)Qu(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Ia(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Tl(e,t,n),e=e.sibling;e!==null;)Tl(e,t,n),e=e.sibling}function Dh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Yt(t,r,n),t[ht]=e,t[Dt]=n}catch(f){Ke(e,e.return,f)}}var ha=!1,Nt=!1,Ju=!1,Mh=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function yy(e,t){if(e=e.containerInfo,yc=Pl,e=Xd(e),Yo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var w=0,A=-1,M=-1,Z=0,re=0,le=e,ee=null;t:for(;;){for(var ae;le!==n||c!==0&&le.nodeType!==3||(A=w+c),le!==f||r!==0&&le.nodeType!==3||(M=w+r),le.nodeType===3&&(w+=le.nodeValue.length),(ae=le.firstChild)!==null;)ee=le,le=ae;for(;;){if(le===e)break t;if(ee===n&&++Z===c&&(A=w),ee===f&&++re===r&&(M=w),(ae=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=ae}n=A===-1||M===-1?null:{start:A,end:M}}else n=null}n=n||{start:0,end:0}}else n=null;for(pc={focusedElem:e,selectionRange:n},Pl=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,c=f.memoizedProps,f=f.memoizedState,r=n.stateNode;try{var ge=wi(n.type,c);e=r.getSnapshotBeforeUpdate(ge,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(xe){Ke(n,n.return,xe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)_c(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_c(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}}function Bh(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ma(e,n),r&4&&ls(5,n);break;case 1:if(ma(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(w){Ke(n,n.return,w)}else{var c=wi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Ke(n,n.return,w)}}r&64&&Rh(n),r&512&&os(n,n.return);break;case 3:if(ma(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{_f(e,t)}catch(w){Ke(n,n.return,w)}}break;case 27:t===null&&r&4&&Dh(n);case 26:case 5:ma(e,n),t===null&&r&4&&zh(n),r&512&&os(n,n.return);break;case 12:ma(e,n);break;case 31:ma(e,n),r&4&&qh(e,n);break;case 13:ma(e,n),r&4&&Gh(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=jy.bind(null,n),Ky(e,n))));break;case 22:if(r=n.memoizedState!==null||ha,!r){t=t!==null&&t.memoizedState!==null||Nt,c=ha;var f=Nt;ha=r,(Nt=t)&&!f?va(e,n,(n.subtreeFlags&8772)!==0):ma(e,n),ha=c,Nt=f}break;case 30:break;default:ma(e,n)}}function Lh(e){var t=e.alternate;t!==null&&(e.alternate=null,Lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,on=!1;function ga(e,t,n){for(n=n.child;n!==null;)Hh(e,t,n),n=n.sibling}function Hh(e,t,n){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(pt,n)}catch{}switch(n.tag){case 26:Nt||Fn(n,t),ga(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Nt||Fn(n,t);var r=lt,c=on;Ia(n.type)&&(lt=n.stateNode,on=!1),ga(e,t,n),ys(n.stateNode),lt=r,on=c;break;case 5:Nt||Fn(n,t);case 6:if(r=lt,c=on,lt=null,ga(e,t,n),lt=r,on=c,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(n.stateNode)}catch(f){Ke(n,t,f)}else try{lt.removeChild(n.stateNode)}catch(f){Ke(n,t,f)}break;case 18:lt!==null&&(on?(e=lt,Rg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),mr(e)):Rg(lt,n.stateNode));break;case 4:r=lt,c=on,lt=n.stateNode.containerInfo,on=!0,ga(e,t,n),lt=r,on=c;break;case 0:case 11:case 14:case 15:La(2,n,t),Nt||La(4,n,t),ga(e,t,n);break;case 1:Nt||(Fn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&kh(n,t,r)),ga(e,t,n);break;case 21:ga(e,t,n);break;case 22:Nt=(r=Nt)||n.memoizedState!==null,ga(e,t,n),Nt=r;break;default:ga(e,t,n)}}function qh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mr(e)}catch(n){Ke(t,t.return,n)}}}function Gh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mr(e)}catch(n){Ke(t,t.return,n)}}function py(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mh),t;default:throw Error(s(435,e.tag))}}function Ol(e,t){var n=py(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var c=Ty.bind(null,e,r);r.then(c,c)}})}function un(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var c=n[r],f=e,w=t,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Ia(A.type)){lt=A.stateNode,on=!1;break e}break;case 5:lt=A.stateNode,on=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,on=!0;break e}A=A.return}if(lt===null)throw Error(s(160));Hh(f,w,c),lt=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$h(t,e),t=t.sibling}var Yn=null;function $h(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(t,e),cn(e),r&4&&(La(3,e,e.return),ls(3,e),La(5,e,e.return));break;case 1:un(t,e),cn(e),r&512&&(Nt||n===null||Fn(n,n.return)),r&64&&ha&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var c=Yn;if(un(t,e),cn(e),r&512&&(Nt||n===null||Fn(n,n.return)),r&4){var f=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ht]||f[ht]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),Yt(f,r,n),f[ht]=e,_t(f),r=f;break e;case"link":var w=$g("link","href",c).get(r+(n.href||""));if(w){for(var A=0;A<w.length;A++)if(f=w[A],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){w.splice(A,1);break t}}f=c.createElement(r),Yt(f,r,n),c.head.appendChild(f);break;case"meta":if(w=$g("meta","content",c).get(r+(n.content||""))){for(A=0;A<w.length;A++)if(f=w[A],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){w.splice(A,1);break t}}f=c.createElement(r),Yt(f,r,n),c.head.appendChild(f);break;default:throw Error(s(468,r))}f[ht]=e,_t(f),r=f}e.stateNode=r}else Yg(c,e.type,e.stateNode);else e.stateNode=Gg(c,r,e.memoizedProps);else f!==r?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,r===null?Yg(c,e.type,e.stateNode):Gg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Xu(e,e.memoizedProps,n.memoizedProps)}break;case 27:un(t,e),cn(e),r&512&&(Nt||n===null||Fn(n,n.return)),n!==null&&r&4&&Xu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(un(t,e),cn(e),r&512&&(Nt||n===null||Fn(n,n.return)),e.flags&32){c=e.stateNode;try{Oa(c,"")}catch(ge){Ke(e,e.return,ge)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Xu(e,c,n!==null?n.memoizedProps:c)),r&1024&&(Ju=!0);break;case 6:if(un(t,e),cn(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(ge){Ke(e,e.return,ge)}}break;case 3:if(Vl=null,c=Yn,Yn=$l(t.containerInfo),un(t,e),Yn=c,cn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mr(t.containerInfo)}catch(ge){Ke(e,e.return,ge)}Ju&&(Ju=!1,Yh(e));break;case 4:r=Yn,Yn=$l(e.stateNode.containerInfo),un(t,e),cn(e),Yn=r;break;case 12:un(t,e),cn(e);break;case 31:un(t,e),cn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ol(e,r)));break;case 13:un(t,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Nl=Ae()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ol(e,r)));break;case 22:c=e.memoizedState!==null;var M=n!==null&&n.memoizedState!==null,Z=ha,re=Nt;if(ha=Z||c,Nt=re||M,un(t,e),Nt=re,ha=Z,cn(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||M||ha||Nt||_i(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){M=n=t;try{if(f=M.stateNode,c)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=M.stateNode;var le=M.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ge){Ke(M,M.return,ge)}}}else if(t.tag===6){if(n===null){M=t;try{M.stateNode.nodeValue=c?"":M.memoizedProps}catch(ge){Ke(M,M.return,ge)}}}else if(t.tag===18){if(n===null){M=t;try{var ae=M.stateNode;c?kg(ae,!0):kg(M.stateNode,!1)}catch(ge){Ke(M,M.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ol(e,n))));break;case 19:un(t,e),cn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ol(e,r)));break;case 30:break;case 21:break;default:un(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Uh(r)){n=r;break}r=r.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var c=n.stateNode,f=Pu(e);Tl(e,f,c);break;case 5:var w=n.stateNode;n.flags&32&&(Oa(w,""),n.flags&=-33);var A=Pu(e);Tl(e,A,w);break;case 3:case 4:var M=n.stateNode.containerInfo,Z=Pu(e);Qu(e,Z,M);break;default:throw Error(s(161))}}catch(re){Ke(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Yh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ma(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bh(e,t.alternate,t),t=t.sibling}function _i(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:La(4,t,t.return),_i(t);break;case 1:Fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&kh(t,t.return,n),_i(t);break;case 27:ys(t.stateNode);case 26:case 5:Fn(t,t.return),_i(t);break;case 22:t.memoizedState===null&&_i(t);break;case 30:_i(t);break;default:_i(t)}e=e.sibling}}function va(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,f=t,w=f.flags;switch(f.tag){case 0:case 11:case 15:va(c,f,n),ls(4,f);break;case 1:if(va(c,f,n),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Z){Ke(r,r.return,Z)}if(r=f,c=r.updateQueue,c!==null){var A=r.stateNode;try{var M=c.shared.hiddenCallbacks;if(M!==null)for(c.shared.hiddenCallbacks=null,c=0;c<M.length;c++)wf(M[c],A)}catch(Z){Ke(r,r.return,Z)}}n&&w&64&&Rh(f),os(f,f.return);break;case 27:Dh(f);case 26:case 5:va(c,f,n),n&&r===null&&w&4&&zh(f),os(f,f.return);break;case 12:va(c,f,n);break;case 31:va(c,f,n),n&&w&4&&qh(c,f);break;case 13:va(c,f,n),n&&w&4&&Gh(c,f);break;case 22:f.memoizedState===null&&va(c,f,n),os(f,f.return);break;case 30:break;default:va(c,f,n)}t=t.sibling}}function Zu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Pr(n))}function Fu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pr(e))}function Vn(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vh(e,t,n,r),t=t.sibling}function Vh(e,t,n,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Vn(e,t,n,r),c&2048&&ls(9,t);break;case 1:Vn(e,t,n,r);break;case 3:Vn(e,t,n,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pr(e)));break;case 12:if(c&2048){Vn(e,t,n,r),e=t.stateNode;try{var f=t.memoizedProps,w=f.id,A=f.onPostCommit;typeof A=="function"&&A(w,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Ke(t,t.return,M)}}else Vn(e,t,n,r);break;case 31:Vn(e,t,n,r);break;case 13:Vn(e,t,n,r);break;case 23:break;case 22:f=t.stateNode,w=t.alternate,t.memoizedState!==null?f._visibility&2?Vn(e,t,n,r):us(e,t):f._visibility&2?Vn(e,t,n,r):(f._visibility|=2,ir(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Zu(w,t);break;case 24:Vn(e,t,n,r),c&2048&&Fu(t.alternate,t);break;default:Vn(e,t,n,r)}}function ir(e,t,n,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,w=t,A=n,M=r,Z=w.flags;switch(w.tag){case 0:case 11:case 15:ir(f,w,A,M,c),ls(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?ir(f,w,A,M,c):us(f,w):(re._visibility|=2,ir(f,w,A,M,c)),c&&Z&2048&&Zu(w.alternate,w);break;case 24:ir(f,w,A,M,c),c&&Z&2048&&Fu(w.alternate,w);break;default:ir(f,w,A,M,c)}t=t.sibling}}function us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,c=r.flags;switch(r.tag){case 22:us(n,r),c&2048&&Zu(r.alternate,r);break;case 24:us(n,r),c&2048&&Fu(r.alternate,r);break;default:us(n,r)}t=t.sibling}}var cs=8192;function rr(e,t,n){if(e.subtreeFlags&cs)for(e=e.child;e!==null;)Ih(e,t,n),e=e.sibling}function Ih(e,t,n){switch(e.tag){case 26:rr(e,t,n),e.flags&cs&&e.memoizedState!==null&&ip(n,Yn,e.memoizedState,e.memoizedProps);break;case 5:rr(e,t,n);break;case 3:case 4:var r=Yn;Yn=$l(e.stateNode.containerInfo),rr(e,t,n),Yn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=cs,cs=16777216,rr(e,t,n),cs=r):rr(e,t,n));break;default:rr(e,t,n)}}function Kh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ds(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Lt=r,Ph(r,e)}Kh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xh(e),e=e.sibling}function Xh(e){switch(e.tag){case 0:case 11:case 15:ds(e),e.flags&2048&&La(9,e,e.return);break;case 3:ds(e);break;case 12:ds(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cl(e)):ds(e);break;default:ds(e)}}function Cl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Lt=r,Ph(r,e)}Kh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:La(8,t,t.return),Cl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Cl(t));break;default:Cl(t)}e=e.sibling}}function Ph(e,t){for(;Lt!==null;){var n=Lt;switch(n.tag){case 0:case 11:case 15:La(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Pr(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Lt=r;else e:for(n=e;Lt!==null;){r=Lt;var c=r.sibling,f=r.return;if(Lh(r),r===n){Lt=null;break e}if(c!==null){c.return=f,Lt=c;break e}Lt=f}}}var by={getCacheForType:function(e){var t=Gt(Tt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Gt(Tt).controller.signal}},wy=typeof WeakMap=="function"?WeakMap:Map,$e=0,Fe=null,Ne=null,ke=0,Ie=0,bn=null,Ha=!1,sr=!1,Wu=!1,ya=0,vt=0,qa=0,xi=0,ec=0,wn=0,lr=0,fs=null,dn=null,tc=!1,Nl=0,Qh=0,Rl=1/0,kl=null,Ga=null,Mt=0,$a=null,or=null,pa=0,nc=0,ac=null,Jh=null,hs=0,ic=null;function _n(){return($e&2)!==0&&ke!==0?ke&-ke:S.T!==null?cc():Ui()}function Zh(){if(wn===0)if((ke&536870912)===0||De){var e=na;na<<=1,(na&3932160)===0&&(na=262144),wn=e}else wn=536870912;return e=yn.current,e!==null&&(e.flags|=32),wn}function fn(e,t,n){(e===Fe&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(ur(e,0),Ya(e,ke,wn,!1)),aa(e,n),(($e&2)===0||e!==Fe)&&(e===Fe&&(($e&2)===0&&(xi|=n),vt===4&&Ya(e,ke,wn,!1)),Wn(e))}function Fh(e,t,n){if(($e&6)!==0)throw Error(s(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Wt(e,t),c=r?Sy(e,t):sc(e,t,!0),f=r;do{if(c===0){sr&&!r&&Ya(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!_y(n)){c=sc(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){t=w;e:{var A=e;c=fs;var M=A.current.memoizedState.isDehydrated;if(M&&(ur(A,w).flags|=256),w=sc(A,w,!1),w!==2){if(Wu&&!M){A.errorRecoveryDisabledLanes|=f,xi|=f,c=4;break e}f=dn,dn=c,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}c=w}if(f=!1,c!==2)continue}}if(c===1){ur(e,0),Ya(e,t,0,!0);break}e:{switch(r=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Ya(r,t,wn,!Ha);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=Nl+300-Ae(),10<c)){if(Ya(r,t,wn,!Ha),Ft(r,0,!0)!==0)break e;pa=t,r.timeoutHandle=Cg(Wh.bind(null,r,n,dn,kl,tc,t,wn,xi,lr,Ha,f,"Throttled",-0,0),c);break e}Wh(r,n,dn,kl,tc,t,wn,xi,lr,Ha,f,null,-0,0)}}break}while(!0);Wn(e)}function Wh(e,t,n,r,c,f,w,A,M,Z,re,le,ee,ae){if(e.timeoutHandle=-1,le=t.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Ih(t,f,le);var ge=(f&62914560)===f?Nl-Ae():(f&4194048)===f?Qh-Ae():0;if(ge=rp(le,ge),ge!==null){pa=f,e.cancelPendingCommit=ge(lg.bind(null,e,t,f,n,r,c,w,A,M,re,le,null,ee,ae)),Ya(e,f,w,!Z);return}}lg(e,t,f,n,r,c,w,A,M)}function _y(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var c=n[r],f=c.getSnapshot;c=c.value;try{if(!mn(f(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t,n,r){t&=~ec,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var f=31-bt(c),w=1<<f;r[f]=-1,c&=~w}n!==0&&Ri(e,n,t)}function zl(){return($e&6)===0?(gs(0),!1):!0}function rc(){if(Ne!==null){if(Ie===0)var e=Ne.return;else e=Ne,la=hi=null,_u(e),Wi=null,Jr=0,e=Ne;for(;e!==null;)Nh(e.alternate,e),e=e.return;Ne=null}}function ur(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Gy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pa=0,rc(),Fe=e,Ne=n=ra(e.current,null),ke=t,Ie=0,bn=null,Ha=!1,sr=Wt(e,t),Wu=!1,lr=wn=ec=xi=qa=vt=0,dn=fs=null,tc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-bt(r),f=1<<c;t|=e[c],r&=~f}return ya=t,el(),n}function eg(e,t){Te=null,S.H=is,t===Fi||t===ol?(t=vf(),Ie=3):t===uu?(t=vf(),Ie=4):Ie=t===Bu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,bn=t,Ne===null&&(vt=1,xl(e,Nn(t,e.current)))}function tg(){var e=yn.current;return e===null?!0:(ke&4194048)===ke?Un===null:(ke&62914560)===ke||(ke&536870912)!==0?e===Un:!1}function ng(){var e=S.H;return S.H=is,e===null?is:e}function ag(){var e=S.A;return S.A=by,e}function Ul(){vt=4,Ha||(ke&4194048)!==ke&&yn.current!==null||(sr=!0),(qa&134217727)===0&&(xi&134217727)===0||Fe===null||Ya(Fe,ke,wn,!1)}function sc(e,t,n){var r=$e;$e|=2;var c=ng(),f=ag();(Fe!==e||ke!==t)&&(kl=null,ur(e,t)),t=!1;var w=vt;e:do try{if(Ie!==0&&Ne!==null){var A=Ne,M=bn;switch(Ie){case 8:rc(),w=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(t=!0);var Z=Ie;if(Ie=0,bn=null,cr(e,A,M,Z),n&&sr){w=0;break e}break;default:Z=Ie,Ie=0,bn=null,cr(e,A,M,Z)}}xy(),w=vt;break}catch(re){eg(e,re)}while(!0);return t&&e.shellSuspendCounter++,la=hi=null,$e=r,S.H=c,S.A=f,Ne===null&&(Fe=null,ke=0,el()),w}function xy(){for(;Ne!==null;)ig(Ne)}function Sy(e,t){var n=$e;$e|=2;var r=ng(),c=ag();Fe!==e||ke!==t?(kl=null,Rl=Ae()+500,ur(e,t)):sr=Wt(e,t);e:do try{if(Ie!==0&&Ne!==null){t=Ne;var f=bn;t:switch(Ie){case 1:Ie=0,bn=null,cr(e,t,f,1);break;case 2:case 9:if(gf(f)){Ie=0,bn=null,rg(t);break}t=function(){Ie!==2&&Ie!==9||Fe!==e||(Ie=7),Wn(e)},f.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:gf(f)?(Ie=0,bn=null,rg(t)):(Ie=0,bn=null,cr(e,t,f,7));break;case 5:var w=null;switch(Ne.tag){case 26:w=Ne.memoizedState;case 5:case 27:var A=Ne;if(w?Vg(w):A.stateNode.complete){Ie=0,bn=null;var M=A.sibling;if(M!==null)Ne=M;else{var Z=A.return;Z!==null?(Ne=Z,Dl(Z)):Ne=null}break t}}Ie=0,bn=null,cr(e,t,f,5);break;case 6:Ie=0,bn=null,cr(e,t,f,6);break;case 8:rc(),vt=6;break e;default:throw Error(s(462))}}Ey();break}catch(re){eg(e,re)}while(!0);return la=hi=null,S.H=r,S.A=c,$e=n,Ne!==null?0:(Fe=null,ke=0,el(),vt)}function Ey(){for(;Ne!==null&&!kt();)ig(Ne)}function ig(e){var t=Oh(e.alternate,e,ya);e.memoizedProps=e.pendingProps,t===null?Dl(e):Ne=t}function rg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=xh(n,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=xh(n,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:_u(t);default:Nh(n,t),t=Ne=nf(t,ya),t=Oh(n,t,ya)}e.memoizedProps=e.pendingProps,t===null?Dl(e):Ne=t}function cr(e,t,n,r){la=hi=null,_u(t),Wi=null,Jr=0;var c=t.return;try{if(fy(e,c,t,n,ke)){vt=1,xl(e,Nn(n,e.current)),Ne=null;return}}catch(f){if(c!==null)throw Ne=c,f;vt=1,xl(e,Nn(n,e.current)),Ne=null;return}t.flags&32768?(De||r===1?e=!0:sr||(ke&536870912)!==0?e=!1:(Ha=e=!0,(r===2||r===9||r===3||r===6)&&(r=yn.current,r!==null&&r.tag===13&&(r.flags|=16384))),sg(t,e)):Dl(t)}function Dl(e){var t=e;do{if((t.flags&32768)!==0){sg(t,Ha);return}e=t.return;var n=my(t.alternate,t,ya);if(n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);vt===0&&(vt=5)}function sg(e,t){do{var n=vy(e.alternate,e);if(n!==null){n.flags&=32767,Ne=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=n}while(e!==null);vt=6,Ne=null}function lg(e,t,n,r,c,f,w,A,M){e.cancelPendingCommit=null;do Ml();while(Mt!==0);if(($e&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=Po,Ms(e,n,f,w,A,M),e===Fe&&(Ne=Fe=null,ke=0),or=t,$a=e,pa=n,nc=f,ac=c,Jh=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Oy(at,function(){return fg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=S.T,S.T=null,c=E.p,E.p=2,w=$e,$e|=4;try{yy(e,t,n)}finally{$e=w,E.p=c,S.T=r}}Mt=1,og(),ug(),cg()}}function og(){if(Mt===1){Mt=0;var e=$a,t=or,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=S.T,S.T=null;var r=E.p;E.p=2;var c=$e;$e|=4;try{$h(t,e);var f=pc,w=Xd(e.containerInfo),A=f.focusedElem,M=f.selectionRange;if(w!==A&&A&&A.ownerDocument&&Kd(A.ownerDocument.documentElement,A)){if(M!==null&&Yo(A)){var Z=M.start,re=M.end;if(re===void 0&&(re=Z),"selectionStart"in A)A.selectionStart=Z,A.selectionEnd=Math.min(re,A.value.length);else{var le=A.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var ae=ee.getSelection(),ge=A.textContent.length,xe=Math.min(M.start,ge),Je=M.end===void 0?xe:Math.min(M.end,ge);!ae.extend&&xe>Je&&(w=Je,Je=xe,xe=w);var Y=Id(A,xe),L=Id(A,Je);if(Y&&L&&(ae.rangeCount!==1||ae.anchorNode!==Y.node||ae.anchorOffset!==Y.offset||ae.focusNode!==L.node||ae.focusOffset!==L.offset)){var J=le.createRange();J.setStart(Y.node,Y.offset),ae.removeAllRanges(),xe>Je?(ae.addRange(J),ae.extend(L.node,L.offset)):(J.setEnd(L.node,L.offset),ae.addRange(J))}}}}for(le=[],ae=A;ae=ae.parentNode;)ae.nodeType===1&&le.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var se=le[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Pl=!!yc,pc=yc=null}finally{$e=c,E.p=r,S.T=n}}e.current=t,Mt=2}}function ug(){if(Mt===2){Mt=0;var e=$a,t=or,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=S.T,S.T=null;var r=E.p;E.p=2;var c=$e;$e|=4;try{Bh(e,t.alternate,t)}finally{$e=c,E.p=r,S.T=n}}Mt=3}}function cg(){if(Mt===4||Mt===3){Mt=0,nt();var e=$a,t=or,n=pa,r=Jh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Mt=5:(Mt=0,or=$a=null,dg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ga=null),xa(n),t=t.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(pt,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=S.T,c=E.p,E.p=2,S.T=null;try{for(var f=e.onRecoverableError,w=0;w<r.length;w++){var A=r[w];f(A.value,{componentStack:A.stack})}}finally{S.T=t,E.p=c}}(pa&3)!==0&&Ml(),Wn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===ic?hs++:(hs=0,ic=e):hs=0,gs(0)}}function dg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Pr(t)))}function Ml(){return og(),ug(),cg(),fg()}function fg(){if(Mt!==5)return!1;var e=$a,t=nc;nc=0;var n=xa(pa),r=S.T,c=E.p;try{E.p=32>n?32:n,S.T=null,n=ac,ac=null;var f=$a,w=pa;if(Mt=0,or=$a=null,pa=0,($e&6)!==0)throw Error(s(331));var A=$e;if($e|=4,Xh(f.current),Vh(f,f.current,w,n),$e=A,gs(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(pt,f)}catch{}return!0}finally{E.p=c,S.T=r,dg(e,t)}}function hg(e,t,n){t=Nn(n,t),t=Mu(e.stateNode,t,2),e=Da(e,t,2),e!==null&&(aa(e,2),Wn(e))}function Ke(e,t,n){if(e.tag===3)hg(e,e,n);else for(;t!==null;){if(t.tag===3){hg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ga===null||!Ga.has(r))){e=Nn(n,e),n=gh(2),r=Da(t,n,2),r!==null&&(mh(n,r,t,e),aa(r,2),Wn(r));break}}t=t.return}}function lc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wy;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(n)||(Wu=!0,c.add(n),e=Ay.bind(null,e,t,n),t.then(e,e))}function Ay(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Fe===e&&(ke&n)===n&&(vt===4||vt===3&&(ke&62914560)===ke&&300>Ae()-Nl?($e&2)===0&&ur(e,0):ec|=n,lr===ke&&(lr=0)),Wn(e)}function gg(e,t){t===0&&(t=an()),e=ci(e,t),e!==null&&(aa(e,t),Wn(e))}function jy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gg(e,n)}function Ty(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(t),gg(e,n)}function Oy(e,t){return ut(e,t)}var Bl=null,dr=null,oc=!1,Ll=!1,uc=!1,Va=0;function Wn(e){e!==dr&&e.next===null&&(dr===null?Bl=dr=e:dr=dr.next=e),Ll=!0,oc||(oc=!0,Ny())}function gs(e,t){if(!uc&&Ll){uc=!0;do for(var n=!1,r=Bl;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var w=r.suspendedLanes,A=r.pingedLanes;f=(1<<31-bt(42|e)+1)-1,f&=c&~(w&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,pg(r,f))}else f=ke,f=Ft(r,r===Fe?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Wt(r,f)||(n=!0,pg(r,f));r=r.next}while(n);uc=!1}}function Cy(){mg()}function mg(){Ll=oc=!1;var e=0;Va!==0&&qy()&&(e=Va);for(var t=Ae(),n=null,r=Bl;r!==null;){var c=r.next,f=vg(r,t);f===0?(r.next=null,n===null?Bl=c:n.next=c,c===null&&(dr=n)):(n=r,(e!==0||(f&3)!==0)&&(Ll=!0)),r=c}Mt!==0&&Mt!==5||gs(e),Va!==0&&(Va=0)}function vg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var w=31-bt(f),A=1<<w,M=c[w];M===-1?((A&n)===0||(A&r)!==0)&&(c[w]=ai(A,t)):M<=t&&(e.expiredLanes|=A),f&=~A}if(t=Fe,n=ke,n=Ft(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ze(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Wt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ze(r),xa(n)){case 2:case 8:n=Ln;break;case 32:n=at;break;case 268435456:n=ft;break;default:n=at}return r=yg.bind(null,e),n=ut(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ze(r),e.callbackPriority=2,e.callbackNode=null,2}function yg(e,t){if(Mt!==0&&Mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ml()&&e.callbackNode!==n)return null;var r=ke;return r=Ft(e,e===Fe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Fh(e,r,t),vg(e,Ae()),e.callbackNode!=null&&e.callbackNode===n?yg.bind(null,e):null)}function pg(e,t){if(Ml())return null;Fh(e,t,!0)}function Ny(){$y(function(){($e&6)!==0?ut(Zt,Cy):mg()})}function cc(){if(Va===0){var e=Ji;e===0&&(e=nn,nn<<=1,(nn&261888)===0&&(nn=256)),Va=e}return Va}function bg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qi(""+e)}function wg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ry(e,t,n,r,c){if(t==="submit"&&n&&n.stateNode===c){var f=bg((c[Dt]||null).action),w=r.submitter;w&&(t=(t=w[Dt]||null)?bg(t.formAction):w.getAttribute("formAction"),t!==null&&(f=t,w=null));var A=new Js("action","action",null,r,c);e.push({event:A,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Va!==0){var M=w?wg(c,w):new FormData(c);Nu(n,{pending:!0,data:M,method:c.method,action:f},null,M)}}else typeof f=="function"&&(A.preventDefault(),M=w?wg(c,w):new FormData(c),Nu(n,{pending:!0,data:M,method:c.method,action:f},f,M))},currentTarget:c}]})}}for(var dc=0;dc<Xo.length;dc++){var fc=Xo[dc],ky=fc.toLowerCase(),zy=fc[0].toUpperCase()+fc.slice(1);$n(ky,"on"+zy)}$n(Jd,"onAnimationEnd"),$n(Zd,"onAnimationIteration"),$n(Fd,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Qv,"onTransitionRun"),$n(Jv,"onTransitionStart"),$n(Zv,"onTransitionCancel"),$n(Wd,"onTransitionEnd"),ia("onMouseEnter",["mouseout","mouseover"]),ia("onMouseLeave",["mouseout","mouseover"]),ia("onPointerEnter",["pointerout","pointerover"]),ia("onPointerLeave",["pointerout","pointerover"]),Ce("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ce("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ce("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ce("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ce("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ce("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ms));function _g(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],c=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var w=r.length-1;0<=w;w--){var A=r[w],M=A.instance,Z=A.currentTarget;if(A=A.listener,M!==f&&c.isPropagationStopped())break e;f=A,c.currentTarget=Z;try{f(c)}catch(re){Ws(re)}c.currentTarget=null,f=M}else for(w=0;w<r.length;w++){if(A=r[w],M=A.instance,Z=A.currentTarget,A=A.listener,M!==f&&c.isPropagationStopped())break e;f=A,c.currentTarget=Z;try{f(c)}catch(re){Ws(re)}c.currentTarget=null,f=M}}}}function Re(e,t){var n=t[Sa];n===void 0&&(n=t[Sa]=new Set);var r=e+"__bubble";n.has(r)||(xg(t,e,2,!1),n.add(r))}function hc(e,t,n){var r=0;t&&(r|=4),xg(n,e,r,t)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function gc(e){if(!e[Hl]){e[Hl]=!0,Bs.forEach(function(n){n!=="selectionchange"&&(Uy.has(n)||hc(n,!1,e),hc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hl]||(t[Hl]=!0,hc("selectionchange",!1,t))}}function xg(e,t,n,r){switch(Zg(t)){case 2:var c=op;break;case 8:c=up;break;default:c=Cc}n=c.bind(null,t,n,e),c=void 0,!xt||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function mc(e,t,n,r,c){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var w=r.tag;if(w===3||w===4){var A=r.stateNode.containerInfo;if(A===c)break;if(w===4)for(w=r.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===c)return;w=w.return}for(;A!==null;){if(w=Ea(A),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){r=f=w;continue e}A=A.parentNode}}r=r.return}he(function(){var Z=f,re=Ks(n),le=[];e:{var ee=ef.get(e);if(ee!==void 0){var ae=Js,ge=e;switch(e){case"keypress":if(Ps(n)===0)break e;case"keydown":case"keyup":ae=Tv;break;case"focusin":ge="focus",ae=Lo;break;case"focusout":ge="blur",ae=Lo;break;case"beforeblur":case"afterblur":ae=Lo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Nv;break;case Jd:case Zd:case Fd:ae=pv;break;case Wd:ae=kv;break;case"scroll":case"scrollend":ae=hv;break;case"wheel":ae=Uv;break;case"copy":case"cut":case"paste":ae=wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Rd;break;case"toggle":case"beforetoggle":ae=Mv}var xe=(t&4)!==0,Je=!xe&&(e==="scroll"||e==="scrollend"),Y=xe?ee!==null?ee+"Capture":null:ee;xe=[];for(var L=Z,J;L!==null;){var se=L;if(J=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||J===null||Y===null||(se=Ge(L,Y),se!=null&&xe.push(vs(L,se,J))),Je)break;L=L.return}0<xe.length&&(ee=new ae(ee,ge,null,n,re),le.push({event:ee,listeners:xe}))}}if((t&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ee&&n!==Lr&&(ge=n.relatedTarget||n.fromElement)&&(Ea(ge)||ge[Hn]))break e;if((ae||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,ae?(ge=n.relatedTarget||n.toElement,ae=Z,ge=ge?Ea(ge):null,ge!==null&&(Je=o(ge),xe=ge.tag,ge!==Je||xe!==5&&xe!==27&&xe!==6)&&(ge=null)):(ae=null,ge=Z),ae!==ge)){if(xe=Cd,se="onMouseLeave",Y="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(xe=Rd,se="onPointerLeave",Y="onPointerEnter",L="pointer"),Je=ae==null?ee:ri(ae),J=ge==null?ee:ri(ge),ee=new xe(se,L+"leave",ae,n,re),ee.target=Je,ee.relatedTarget=J,se=null,Ea(re)===Z&&(xe=new xe(Y,L+"enter",ge,n,re),xe.target=J,xe.relatedTarget=Je,se=xe),Je=se,ae&&ge)t:{for(xe=Dy,Y=ae,L=ge,J=0,se=Y;se;se=xe(se))J++;se=0;for(var we=L;we;we=xe(we))se++;for(;0<J-se;)Y=xe(Y),J--;for(;0<se-J;)L=xe(L),se--;for(;J--;){if(Y===L||L!==null&&Y===L.alternate){xe=Y;break t}Y=xe(Y),L=xe(L)}xe=null}else xe=null;ae!==null&&Sg(le,ee,ae,xe,!1),ge!==null&&Je!==null&&Sg(le,Je,ge,xe,!0)}}e:{if(ee=Z?ri(Z):window,ae=ee.nodeName&&ee.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ee.type==="file")var He=Hd;else if(Bd(ee))if(qd)He=Kv;else{He=Vv;var me=Yv}else ae=ee.nodeName,!ae||ae.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Br(Z.elementType)&&(He=Hd):He=Iv;if(He&&(He=He(e,Z))){Ld(le,He,n,re);break e}me&&me(e,ee,Z),e==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&ja(ee,"number",ee.value)}switch(me=Z?ri(Z):window,e){case"focusin":(Bd(me)||me.contentEditable==="true")&&($i=me,Vo=Z,Ir=null);break;case"focusout":Ir=Vo=$i=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,Pd(le,n,re);break;case"selectionchange":if(Pv)break;case"keydown":case"keyup":Pd(le,n,re)}var Oe;if(qo)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Gi?Dd(e,n)&&(ze="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ze="onCompositionStart");ze&&(kd&&n.locale!=="ko"&&(Gi||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Gi&&(Oe=Xs()):(Xt=re,si="value"in Xt?Xt.value:Xt.textContent,Gi=!0)),me=ql(Z,ze),0<me.length&&(ze=new Nd(ze,e,null,n,re),le.push({event:ze,listeners:me}),Oe?ze.data=Oe:(Oe=Md(n),Oe!==null&&(ze.data=Oe)))),(Oe=Lv?Hv(e,n):qv(e,n))&&(ze=ql(Z,"onBeforeInput"),0<ze.length&&(me=new Nd("onBeforeInput","beforeinput",null,n,re),le.push({event:me,listeners:ze}),me.data=Oe)),Ry(le,e,Z,n,re)}_g(le,t)})}function vs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ql(e,t){for(var n=t+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ge(e,n),c!=null&&r.unshift(vs(e,c,f)),c=Ge(e,t),c!=null&&r.push(vs(e,c,f))),e.tag===3)return r;e=e.return}return[]}function Dy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sg(e,t,n,r,c){for(var f=t._reactName,w=[];n!==null&&n!==r;){var A=n,M=A.alternate,Z=A.stateNode;if(A=A.tag,M!==null&&M===r)break;A!==5&&A!==26&&A!==27||Z===null||(M=Z,c?(Z=Ge(n,f),Z!=null&&w.unshift(vs(n,Z,M))):c||(Z=Ge(n,f),Z!=null&&w.push(vs(n,Z,M)))),n=n.return}w.length!==0&&e.push({event:t,listeners:w})}var My=/\r\n?/g,By=/\u0000|\uFFFD/g;function Eg(e){return(typeof e=="string"?e:""+e).replace(My,`
`).replace(By,"")}function Ag(e,t){return t=Eg(t),Eg(e)===t}function Qe(e,t,n,r,c,f){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Oa(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Oa(e,""+r);break;case"className":Bi(e,"class",r);break;case"tabIndex":Bi(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(e,n,r);break;case"style":Is(e,r,f);break;case"data":if(t!=="object"){Bi(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=qi(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&Qe(e,t,"name",c.name,c,null),Qe(e,t,"formEncType",c.formEncType,c,null),Qe(e,t,"formMethod",c.formMethod,c,null),Qe(e,t,"formTarget",c.formTarget,c,null)):(Qe(e,t,"encType",c.encType,c,null),Qe(e,t,"method",c.method,c,null),Qe(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=qi(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Gn);break;case"onScroll":r!=null&&Re("scroll",e);break;case"onScrollEnd":r!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(n=r.__html,n!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=qi(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Mi(e,"popover",r);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Mi(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Uo.get(n)||n,Mi(e,n,r))}}function vc(e,t,n,r,c,f){switch(n){case"style":Is(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(n=r.__html,n!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Oa(e,r):(typeof r=="number"||typeof r=="bigint")&&Oa(e,""+r);break;case"onScroll":r!=null&&Re("scroll",e);break;case"onScrollEnd":r!=null&&Re("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ur.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),f=e[Dt]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,c);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Mi(e,n,r)}}}function Yt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var r=!1,c=!1,f;for(f in n)if(n.hasOwnProperty(f)){var w=n[f];if(w!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qe(e,t,f,w,n,null)}}c&&Qe(e,t,"srcSet",n.srcSet,n,null),r&&Qe(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var A=f=w=c=null,M=null,Z=null;for(r in n)if(n.hasOwnProperty(r)){var re=n[r];if(re!=null)switch(r){case"name":c=re;break;case"type":w=re;break;case"checked":M=re;break;case"defaultChecked":Z=re;break;case"value":f=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,t));break;default:Qe(e,t,r,re,n,null)}}Gs(e,f,A,M,Z,w,c,!1);return;case"select":Re("invalid",e),r=w=f=null;for(c in n)if(n.hasOwnProperty(c)&&(A=n[c],A!=null))switch(c){case"value":f=A;break;case"defaultValue":w=A;break;case"multiple":r=A;default:Qe(e,t,c,A,n,null)}t=f,n=w,e.multiple=!!r,t!=null?Ta(e,!!r,t,!1):n!=null&&Ta(e,!!r,n,!0);return;case"textarea":Re("invalid",e),f=c=r=null;for(w in n)if(n.hasOwnProperty(w)&&(A=n[w],A!=null))switch(w){case"value":r=A;break;case"defaultValue":c=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Qe(e,t,w,A,n,null)}Ys(e,r,c,f);return;case"option":for(M in n)if(n.hasOwnProperty(M)&&(r=n[M],r!=null))switch(M){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Qe(e,t,M,r,n,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(r=0;r<ms.length;r++)Re(ms[r],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(r=n[Z],r!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qe(e,t,Z,r,n,null)}return;default:if(Br(t)){for(re in n)n.hasOwnProperty(re)&&(r=n[re],r!==void 0&&vc(e,t,re,r,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(r=n[A],r!=null&&Qe(e,t,A,r,n,null))}function Ly(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,w=null,A=null,M=null,Z=null,re=null;for(ae in n){var le=n[ae];if(n.hasOwnProperty(ae)&&le!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":M=le;default:r.hasOwnProperty(ae)||Qe(e,t,ae,null,r,le)}}for(var ee in r){var ae=r[ee];if(le=n[ee],r.hasOwnProperty(ee)&&(ae!=null||le!=null))switch(ee){case"type":f=ae;break;case"name":c=ae;break;case"checked":Z=ae;break;case"defaultChecked":re=ae;break;case"value":w=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,t));break;default:ae!==le&&Qe(e,t,ee,ae,r,le)}}Mr(e,w,A,M,Z,re,f,c);return;case"select":ae=w=A=ee=null;for(f in n)if(M=n[f],n.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":ae=M;default:r.hasOwnProperty(f)||Qe(e,t,f,null,r,M)}for(c in r)if(f=r[c],M=n[c],r.hasOwnProperty(c)&&(f!=null||M!=null))switch(c){case"value":ee=f;break;case"defaultValue":A=f;break;case"multiple":w=f;default:f!==M&&Qe(e,t,c,f,r,M)}t=A,n=w,r=ae,ee!=null?Ta(e,!!n,ee,!1):!!r!=!!n&&(t!=null?Ta(e,!!n,t,!0):Ta(e,!!n,n?[]:"",!1));return;case"textarea":ae=ee=null;for(A in n)if(c=n[A],n.hasOwnProperty(A)&&c!=null&&!r.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Qe(e,t,A,null,r,c)}for(w in r)if(c=r[w],f=n[w],r.hasOwnProperty(w)&&(c!=null||f!=null))switch(w){case"value":ee=c;break;case"defaultValue":ae=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Qe(e,t,w,c,r,f)}$s(e,ee,ae);return;case"option":for(var ge in n)if(ee=n[ge],n.hasOwnProperty(ge)&&ee!=null&&!r.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Qe(e,t,ge,null,r,ee)}for(M in r)if(ee=r[M],ae=n[M],r.hasOwnProperty(M)&&ee!==ae&&(ee!=null||ae!=null))switch(M){case"selected":e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Qe(e,t,M,ee,r,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in n)ee=n[xe],n.hasOwnProperty(xe)&&ee!=null&&!r.hasOwnProperty(xe)&&Qe(e,t,xe,null,r,ee);for(Z in r)if(ee=r[Z],ae=n[Z],r.hasOwnProperty(Z)&&ee!==ae&&(ee!=null||ae!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,t));break;default:Qe(e,t,Z,ee,r,ae)}return;default:if(Br(t)){for(var Je in n)ee=n[Je],n.hasOwnProperty(Je)&&ee!==void 0&&!r.hasOwnProperty(Je)&&vc(e,t,Je,void 0,r,ee);for(re in r)ee=r[re],ae=n[re],!r.hasOwnProperty(re)||ee===ae||ee===void 0&&ae===void 0||vc(e,t,re,ee,r,ae);return}}for(var Y in n)ee=n[Y],n.hasOwnProperty(Y)&&ee!=null&&!r.hasOwnProperty(Y)&&Qe(e,t,Y,null,r,ee);for(le in r)ee=r[le],ae=n[le],!r.hasOwnProperty(le)||ee===ae||ee==null&&ae==null||Qe(e,t,le,ee,r,ae)}function jg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var c=n[r],f=c.transferSize,w=c.initiatorType,A=c.duration;if(f&&A&&jg(w)){for(w=0,A=c.responseEnd,r+=1;r<n.length;r++){var M=n[r],Z=M.startTime;if(Z>A)break;var re=M.transferSize,le=M.initiatorType;re&&jg(le)&&(M=M.responseEnd,w+=re*(M<A?1:(A-Z)/(M-Z)))}if(--r,t+=8*(f+w)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yc=null,pc=null;function Gl(e){return e.nodeType===9?e:e.ownerDocument}function Tg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Og(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wc=null;function qy(){var e=window.event;return e&&e.type==="popstate"?e===wc?!1:(wc=e,!0):(wc=null,!1)}var Cg=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,$y=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(e){return Ng.resolve(null).then(e).catch(Yy)}:Cg;function Yy(e){setTimeout(function(){throw e})}function Ia(e){return e==="head"}function Rg(e,t){var n=t,r=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(c),mr(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")ys(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ys(n);for(var f=n.firstChild;f;){var w=f.nextSibling,A=f.nodeName;f[Ht]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=w}}else n==="body"&&ys(e.ownerDocument.body);n=c}while(n);mr(t)}function kg(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function _c(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_c(n),zr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Vy(e,t,n,r){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ht])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function Iy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function zg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function xc(e){return e.data==="$?"||e.data==="$~"}function Sc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ky(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ec=null;function Ug(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Dg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Mg(e,t,n){switch(t=Gl(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ys(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zr(e)}var Mn=new Map,Bg=new Set;function $l(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ba=E.d;E.d={f:Xy,r:Py,D:Qy,C:Jy,L:Zy,m:Fy,X:ep,S:Wy,M:tp};function Xy(){var e=ba.f(),t=zl();return e||t}function Py(e){var t=Tn(e);t!==null&&t.tag===5&&t.type==="form"?eh(t):ba.r(e)}var fr=typeof document>"u"?null:document;function Lg(e,t,n){var r=fr;if(r&&typeof t=="string"&&t){var c=sn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Bg.has(c)||(Bg.add(c),e={rel:e,crossOrigin:n,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),Yt(t,"link",e),_t(t),r.head.appendChild(t)))}}function Qy(e){ba.D(e),Lg("dns-prefetch",e,null)}function Jy(e,t){ba.C(e,t),Lg("preconnect",e,t)}function Zy(e,t,n){ba.L(e,t,n);var r=fr;if(r&&e&&t){var c='link[rel="preload"][as="'+sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+sn(n.imageSizes)+'"]')):c+='[href="'+sn(e)+'"]';var f=c;switch(t){case"style":f=hr(e);break;case"script":f=gr(e)}Mn.has(f)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mn.set(f,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(ps(f))||t==="script"&&r.querySelector(bs(f))||(t=r.createElement("link"),Yt(t,"link",e),_t(t),r.head.appendChild(t)))}}function Fy(e,t){ba.m(e,t);var n=fr;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+sn(r)+'"][href="'+sn(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=gr(e)}if(!Mn.has(f)&&(e=p({rel:"modulepreload",href:e},t),Mn.set(f,e),n.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bs(f)))return}r=n.createElement("link"),Yt(r,"link",e),_t(r),n.head.appendChild(r)}}}function Wy(e,t,n){ba.S(e,t,n);var r=fr;if(r&&e){var c=Aa(r).hoistableStyles,f=hr(e);t=t||"default";var w=c.get(f);if(!w){var A={loading:0,preload:null};if(w=r.querySelector(ps(f)))A.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mn.get(f))&&Ac(e,n);var M=w=r.createElement("link");_t(M),Yt(M,"link",e),M._p=new Promise(function(Z,re){M.onload=Z,M.onerror=re}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Yl(w,t,r)}w={type:"stylesheet",instance:w,count:1,state:A},c.set(f,w)}}}function ep(e,t){ba.X(e,t);var n=fr;if(n&&e){var r=Aa(n).hoistableScripts,c=gr(e),f=r.get(c);f||(f=n.querySelector(bs(c)),f||(e=p({src:e,async:!0},t),(t=Mn.get(c))&&jc(e,t),f=n.createElement("script"),_t(f),Yt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function tp(e,t){ba.M(e,t);var n=fr;if(n&&e){var r=Aa(n).hoistableScripts,c=gr(e),f=r.get(c);f||(f=n.querySelector(bs(c)),f||(e=p({src:e,async:!0,type:"module"},t),(t=Mn.get(c))&&jc(e,t),f=n.createElement("script"),_t(f),Yt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Hg(e,t,n,r){var c=(c=ue.current)?$l(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=hr(n.href),n=Aa(c).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=hr(n.href);var f=Aa(c).hoistableStyles,w=f.get(e);if(w||(c=c.ownerDocument||c,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,w),(f=c.querySelector(ps(e)))&&!f._p&&(w.instance=f,w.state.loading=5),Mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(e,n),f||np(c,e,n,w.state))),t&&r===null)throw Error(s(528,""));return w}if(t&&r!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=gr(n),n=Aa(c).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function hr(e){return'href="'+sn(e)+'"'}function ps(e){return'link[rel="stylesheet"]['+e+"]"}function qg(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function np(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Yt(t,"link",n),_t(t),e.head.appendChild(t))}function gr(e){return'[src="'+sn(e)+'"]'}function bs(e){return"script[async]"+e}function Gg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+sn(n.href)+'"]');if(r)return t.instance=r,_t(r),r;var c=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),_t(r),Yt(r,"style",c),Yl(r,n.precedence,e),t.instance=r;case"stylesheet":c=hr(n.href);var f=e.querySelector(ps(c));if(f)return t.state.loading|=4,t.instance=f,_t(f),f;r=qg(n),(c=Mn.get(c))&&Ac(r,c),f=(e.ownerDocument||e).createElement("link"),_t(f);var w=f;return w._p=new Promise(function(A,M){w.onload=A,w.onerror=M}),Yt(f,"link",r),t.state.loading|=4,Yl(f,n.precedence,e),t.instance=f;case"script":return f=gr(n.src),(c=e.querySelector(bs(f)))?(t.instance=c,_t(c),c):(r=n,(c=Mn.get(f))&&(r=p({},n),jc(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),_t(c),Yt(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Yl(r,n.precedence,e));return t.instance}function Yl(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,w=0;w<r.length;w++){var A=r[w];if(A.dataset.precedence===t)f=A;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function jc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Vl=null;function $g(e,t,n){if(Vl===null){var r=new Map,c=Vl=new Map;c.set(n,r)}else c=Vl,r=c.get(n),r||(r=new Map,c.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var f=n[c];if(!(f[Ht]||f[ht]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(t)||"";w=e+w;var A=r.get(w);A?A.push(f):r.set(w,[f])}}return r}function Yg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ap(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ip(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=hr(r.href),f=t.querySelector(ps(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Il.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=f,_t(f);return}f=t.ownerDocument||t,r=qg(r),(c=Mn.get(c))&&Ac(r,c),f=f.createElement("link"),_t(f);var w=f;w._p=new Promise(function(A,M){w.onload=A,w.onerror=M}),Yt(f,"link",r),n.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Il.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Tc=0;function rp(e,t){return e.stylesheets&&e.count===0&&Xl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Tc===0&&(Tc=62500*Hy());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Tc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Il(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kl=null;function Xl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kl=new Map,t.forEach(sp,e),Kl=null,Il.call(e))}function sp(e,t){if(!(t.state.loading&4)){var n=Kl.get(e);if(n)var r=n.get(null);else{n=new Map,Kl.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var w=c[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(n.set(w.dataset.precedence,w),r=w)}r&&n.set(null,r)}c=t.instance,w=c.getAttribute("data-precedence"),f=n.get(w)||r,f===r&&n.set(null,c),n.set(w,c),this.count++,r=Il.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ws={$$typeof:D,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function lp(e,t,n,r,c,f,w,A,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Ig(e,t,n,r,c,f,w,A,M,Z,re,le){return e=new lp(e,t,n,w,M,Z,re,le,A),t=1,f===!0&&(t|=24),f=vn(3,null,null,t),e.current=f,f.stateNode=e,t=su(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:n,cache:t},cu(f),e}function Kg(e){return e?(e=Ii,e):Ii}function Xg(e,t,n,r,c,f){c=Kg(c),r.context===null?r.context=c:r.pendingContext=c,r=Ua(t),r.payload={element:n},f=f===void 0?null:f,f!==null&&(r.callback=f),n=Da(e,r,t),n!==null&&(fn(n,e,t),Fr(n,e,t))}function Pg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Oc(e,t){Pg(e,t),(e=e.alternate)&&Pg(e,t)}function Qg(e){if(e.tag===13||e.tag===31){var t=ci(e,67108864);t!==null&&fn(t,e,67108864),Oc(e,67108864)}}function Jg(e){if(e.tag===13||e.tag===31){var t=_n();t=zi(t);var n=ci(e,t);n!==null&&fn(n,e,t),Oc(e,t)}}var Pl=!0;function op(e,t,n,r){var c=S.T;S.T=null;var f=E.p;try{E.p=2,Cc(e,t,n,r)}finally{E.p=f,S.T=c}}function up(e,t,n,r){var c=S.T;S.T=null;var f=E.p;try{E.p=8,Cc(e,t,n,r)}finally{E.p=f,S.T=c}}function Cc(e,t,n,r){if(Pl){var c=Nc(r);if(c===null)mc(e,t,r,Ql,n),Fg(e,r);else if(dp(c,e,t,n,r))r.stopPropagation();else if(Fg(e,r),t&4&&-1<cp.indexOf(e)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=wt(f.pendingLanes);if(w!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var M=1<<31-bt(w);A.entanglements[1]|=M,w&=~M}Wn(f),($e&6)===0&&(Rl=Ae()+500,gs(0))}}break;case 31:case 13:A=ci(f,2),A!==null&&fn(A,f,2),zl(),Oc(f,2)}if(f=Nc(r),f===null&&mc(e,t,r,Ql,n),f===c)break;c=f}c!==null&&r.stopPropagation()}else mc(e,t,r,null,n)}}function Nc(e){return e=Ks(e),Rc(e)}var Ql=null;function Rc(e){if(Ql=null,e=Ea(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ql=e,null}function Zg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case Zt:return 2;case Ln:return 8;case at:case tn:return 32;case ft:return 268435456;default:return 32}default:return 32}}var kc=!1,Ka=null,Xa=null,Pa=null,_s=new Map,xs=new Map,Qa=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fg(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":_s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function Ss(e,t,n,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Tn(t),t!==null&&Qg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function dp(e,t,n,r,c){switch(t){case"focusin":return Ka=Ss(Ka,e,t,n,r,c),!0;case"dragenter":return Xa=Ss(Xa,e,t,n,r,c),!0;case"mouseover":return Pa=Ss(Pa,e,t,n,r,c),!0;case"pointerover":var f=c.pointerId;return _s.set(f,Ss(_s.get(f)||null,e,t,n,r,c)),!0;case"gotpointercapture":return f=c.pointerId,xs.set(f,Ss(xs.get(f)||null,e,t,n,r,c)),!0}return!1}function Wg(e){var t=Ea(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,Di(e.priority,function(){Jg(n)});return}}else if(t===31){if(t=h(n),t!==null){e.blockedOn=t,Di(e.priority,function(){Jg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nc(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lr=r,n.target.dispatchEvent(r),Lr=null}else return t=Tn(n),t!==null&&Qg(t),e.blockedOn=n,!1;t.shift()}return!0}function e0(e,t,n){Jl(e)&&n.delete(t)}function fp(){kc=!1,Ka!==null&&Jl(Ka)&&(Ka=null),Xa!==null&&Jl(Xa)&&(Xa=null),Pa!==null&&Jl(Pa)&&(Pa=null),_s.forEach(e0),xs.forEach(e0)}function Zl(e,t){e.blockedOn===t&&(e.blockedOn=null,kc||(kc=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,fp)))}var Fl=null;function t0(e){Fl!==e&&(Fl=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Fl===e&&(Fl=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(Rc(r||n)===null)continue;break}var f=Tn(n);f!==null&&(e.splice(t,3),t-=3,Nu(f,{pending:!0,data:c,method:n.method,action:r},r,c))}}))}function mr(e){function t(M){return Zl(M,e)}Ka!==null&&Zl(Ka,e),Xa!==null&&Zl(Xa,e),Pa!==null&&Zl(Pa,e),_s.forEach(t),xs.forEach(t);for(var n=0;n<Qa.length;n++){var r=Qa[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Qa.length&&(n=Qa[0],n.blockedOn===null);)Wg(n),n.blockedOn===null&&Qa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var c=n[r],f=n[r+1],w=c[Dt]||null;if(typeof f=="function")w||t0(n);else if(w){var A=null;if(f&&f.hasAttribute("formAction")){if(c=f,w=f[Dt]||null)A=w.formAction;else if(Rc(c)!==null)continue}else A=w.action;typeof A=="function"?n[r+1]=A:(n.splice(r,3),r-=3),t0(n)}}}function n0(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(w){return c=w})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function zc(e){this._internalRoot=e}Wl.prototype.render=zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,r=_n();Xg(n,r,e,t,null,null)},Wl.prototype.unmount=zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xg(e.current,2,null,e,null,null),zl(),t[Hn]=null}};function Wl(e){this._internalRoot=e}Wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ui();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qa.length&&t!==0&&t<Qa[n].priority;n++);Qa.splice(n,0,e),n===0&&Wg(e)}};var a0=a.version;if(a0!=="19.2.0")throw Error(s(527,a0,"19.2.0"));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var hp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{pt=eo.inject(hp),Ye=eo}catch{}}return As.createRoot=function(e,t){if(!l(e))throw Error(s(299));var n=!1,r="",c=ch,f=dh,w=fh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(w=t.onRecoverableError)),t=Ig(e,1,!1,null,null,n,r,null,c,f,w,n0),e[Hn]=t.current,gc(e),new zc(t)},As.hydrateRoot=function(e,t,n){if(!l(e))throw Error(s(299));var r=!1,c="",f=ch,w=dh,A=fh,M=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(M=n.formState)),t=Ig(e,1,!0,t,n??null,r,c,M,f,w,A,n0),t.context=Kg(null),n=t.current,r=_n(),r=zi(r),c=Ua(r),c.callback=null,Da(n,c,r),n=r,t.current.lanes=n,aa(t,n),Wn(t),e[Hn]=t.current,gc(e),new Wl(t)},As.version="19.2.0",As}var h0;function Ap(){if(h0)return Mc.exports;h0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(a){console.error(a)}}return u(),Mc.exports=Ep(),Mc.exports}var jp=Ap(),Fc=function(u,a){return Fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},Fc(u,a)};function F0(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Fc(u,a);function i(){this.constructor=u}u.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}var fo=function(){return fo=Object.assign||function(a){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},fo.apply(this,arguments)};function Cr(u,a){var i={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&a.indexOf(s)<0&&(i[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(u);l<s.length;l++)a.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(u,s[l])&&(i[s[l]]=u[s[l]]);return i}function W0(u,a,i,s){var l=arguments.length,o=l<3?a:s===null?s=Object.getOwnPropertyDescriptor(a,i):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(u,a,i,s);else for(var h=u.length-1;h>=0;h--)(d=u[h])&&(o=(l<3?d(o):l>3?d(a,i,o):d(a,i))||o);return l>3&&o&&Object.defineProperty(a,i,o),o}function em(u,a){return function(i,s){a(i,s,u)}}function tm(u,a,i,s,l,o){function d(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var h=s.kind,m=h==="getter"?"get":h==="setter"?"set":"value",g=!a&&u?s.static?u:u.prototype:null,v=a||(g?Object.getOwnPropertyDescriptor(g,s.name):{}),p,y=!1,b=i.length-1;b>=0;b--){var x={};for(var T in s)x[T]=T==="access"?{}:s[T];for(var T in s.access)x.access[T]=s.access[T];x.addInitializer=function(j){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(d(j||null))};var N=(0,i[b])(h==="accessor"?{get:v.get,set:v.set}:v[m],x);if(h==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(p=d(N.get))&&(v.get=p),(p=d(N.set))&&(v.set=p),(p=d(N.init))&&l.unshift(p)}else(p=d(N))&&(h==="field"?l.unshift(p):v[m]=p)}g&&Object.defineProperty(g,s.name,v),y=!0}function nm(u,a,i){for(var s=arguments.length>2,l=0;l<a.length;l++)i=s?a[l].call(u,i):a[l].call(u);return s?i:void 0}function am(u){return typeof u=="symbol"?u:"".concat(u)}function im(u,a,i){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(u,"name",{configurable:!0,value:i?"".concat(i," ",a):a})}function rm(u,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,a)}function ve(u,a,i,s){function l(o){return o instanceof i?o:new i(function(d){d(o)})}return new(i||(i=Promise))(function(o,d){function h(v){try{g(s.next(v))}catch(p){d(p)}}function m(v){try{g(s.throw(v))}catch(p){d(p)}}function g(v){v.done?o(v.value):l(v.value).then(h,m)}g((s=s.apply(u,a||[])).next())})}function sm(u,a){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,l,o,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=h(0),d.throw=h(1),d.return=h(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(v){return m([g,v])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(i=0)),i;)try{if(s=1,l&&(o=g[0]&2?l.return:g[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,g[1])).done)return o;switch(l=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,l=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){i.label=g[1];break}if(g[0]===6&&i.label<o[1]){i.label=o[1],o=g;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(g);break}o[2]&&i.ops.pop(),i.trys.pop();continue}g=a.call(u,i)}catch(v){g=[6,v],l=0}finally{s=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Ao=Object.create?(function(u,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(u,s,l)}):(function(u,a,i,s){s===void 0&&(s=i),u[s]=a[i]});function lm(u,a){for(var i in u)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&Ao(a,u,i)}function ho(u){var a=typeof Symbol=="function"&&Symbol.iterator,i=a&&u[a],s=0;if(i)return i.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function vd(u,a){var i=typeof Symbol=="function"&&u[Symbol.iterator];if(!i)return u;var s=i.call(u),l,o=[],d;try{for(;(a===void 0||a-- >0)&&!(l=s.next()).done;)o.push(l.value)}catch(h){d={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(d)throw d.error}}return o}function om(){for(var u=[],a=0;a<arguments.length;a++)u=u.concat(vd(arguments[a]));return u}function um(){for(var u=0,a=0,i=arguments.length;a<i;a++)u+=arguments[a].length;for(var s=Array(u),l=0,a=0;a<i;a++)for(var o=arguments[a],d=0,h=o.length;d<h;d++,l++)s[l]=o[d];return s}function cm(u,a,i){if(i||arguments.length===2)for(var s=0,l=a.length,o;s<l;s++)(o||!(s in a))&&(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return u.concat(o||Array.prototype.slice.call(a))}function Tr(u){return this instanceof Tr?(this.v=u,this):new Tr(u)}function dm(u,a,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(u,a||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(b){return function(x){return Promise.resolve(x).then(b,p)}}function h(b,x){s[b]&&(l[b]=function(T){return new Promise(function(N,j){o.push([b,T,N,j])>1||m(b,T)})},x&&(l[b]=x(l[b])))}function m(b,x){try{g(s[b](x))}catch(T){y(o[0][3],T)}}function g(b){b.value instanceof Tr?Promise.resolve(b.value.v).then(v,p):y(o[0][2],b)}function v(b){m("next",b)}function p(b){m("throw",b)}function y(b,x){b(x),o.shift(),o.length&&m(o[0][0],o[0][1])}}function fm(u){var a,i;return a={},s("next"),s("throw",function(l){throw l}),s("return"),a[Symbol.iterator]=function(){return this},a;function s(l,o){a[l]=u[l]?function(d){return(i=!i)?{value:Tr(u[l](d)),done:!1}:o?o(d):d}:o}}function hm(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=u[Symbol.asyncIterator],i;return a?a.call(u):(u=typeof ho=="function"?ho(u):u[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(o){i[o]=u[o]&&function(d){return new Promise(function(h,m){d=u[o](d),l(h,m,d.done,d.value)})}}function l(o,d,h,m){Promise.resolve(m).then(function(g){o({value:g,done:h})},d)}}function gm(u,a){return Object.defineProperty?Object.defineProperty(u,"raw",{value:a}):u.raw=a,u}var Tp=Object.create?(function(u,a){Object.defineProperty(u,"default",{enumerable:!0,value:a})}):function(u,a){u.default=a},Wc=function(u){return Wc=Object.getOwnPropertyNames||function(a){var i=[];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[i.length]=s);return i},Wc(u)};function mm(u){if(u&&u.__esModule)return u;var a={};if(u!=null)for(var i=Wc(u),s=0;s<i.length;s++)i[s]!=="default"&&Ao(a,u,i[s]);return Tp(a,u),a}function vm(u){return u&&u.__esModule?u:{default:u}}function ym(u,a,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?u!==a||!s:!a.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(u):s?s.value:a.get(u)}function pm(u,a,i,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?u!==a||!l:!a.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(u,i):l?l.value=i:a.set(u,i),i}function bm(u,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof u=="function"?a===u:u.has(a)}function wm(u,a,i){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var s,l;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=a[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=a[Symbol.dispose],i&&(l=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");l&&(s=function(){try{l.call(this)}catch(o){return Promise.reject(o)}}),u.stack.push({value:a,dispose:s,async:i})}else i&&u.stack.push({async:!0});return a}var Op=typeof SuppressedError=="function"?SuppressedError:function(u,a,i){var s=new Error(i);return s.name="SuppressedError",s.error=u,s.suppressed=a,s};function _m(u){function a(o){u.error=u.hasError?new Op(o,u.error,"An error was suppressed during disposal."):o,u.hasError=!0}var i,s=0;function l(){for(;i=u.stack.pop();)try{if(!i.async&&s===1)return s=0,u.stack.push(i),Promise.resolve().then(l);if(i.dispose){var o=i.dispose.call(i.value);if(i.async)return s|=2,Promise.resolve(o).then(l,function(d){return a(d),l()})}else s|=1}catch(d){a(d)}if(s===1)return u.hasError?Promise.reject(u.error):Promise.resolve();if(u.hasError)throw u.error}return l()}function xm(u,a){return typeof u=="string"&&/^\.\.?\//.test(u)?u.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,s,l,o,d){return s?a?".jsx":".js":l&&(!o||!d)?i:l+o+"."+d.toLowerCase()+"js"}):u}const Cp={__extends:F0,__assign:fo,__rest:Cr,__decorate:W0,__param:em,__esDecorate:tm,__runInitializers:nm,__propKey:am,__setFunctionName:im,__metadata:rm,__awaiter:ve,__generator:sm,__createBinding:Ao,__exportStar:lm,__values:ho,__read:vd,__spread:om,__spreadArrays:um,__spreadArray:cm,__await:Tr,__asyncGenerator:dm,__asyncDelegator:fm,__asyncValues:hm,__makeTemplateObject:gm,__importStar:mm,__importDefault:vm,__classPrivateFieldGet:ym,__classPrivateFieldSet:pm,__classPrivateFieldIn:bm,__addDisposableResource:wm,__disposeResources:_m,__rewriteRelativeImportExtension:xm},Np=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wm,get __assign(){return fo},__asyncDelegator:fm,__asyncGenerator:dm,__asyncValues:hm,__await:Tr,__awaiter:ve,__classPrivateFieldGet:ym,__classPrivateFieldIn:bm,__classPrivateFieldSet:pm,__createBinding:Ao,__decorate:W0,__disposeResources:_m,__esDecorate:tm,__exportStar:lm,__extends:F0,__generator:sm,__importDefault:vm,__importStar:mm,__makeTemplateObject:gm,__metadata:rm,__param:em,__propKey:am,__read:vd,__rest:Cr,__rewriteRelativeImportExtension:xm,__runInitializers:nm,__setFunctionName:im,__spread:om,__spreadArray:cm,__spreadArrays:um,__values:ho,default:Cp},Symbol.toStringTag,{value:"Module"})),Rp=u=>u?(...a)=>u(...a):(...a)=>fetch(...a);class yd extends Error{constructor(a,i="FunctionsError",s){super(a),this.name=i,this.context=s}}class kp extends yd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class g0 extends yd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class m0 extends yd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var ed;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(ed||(ed={}));class zp{constructor(a,{headers:i={},customFetch:s,region:l=ed.Any}={}){this.url=a,this.headers=i,this.region=l,this.fetch=Rp(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return ve(this,arguments,void 0,function*(i,s={}){var l;let o,d;try{const{headers:h,method:m,body:g,signal:v,timeout:p}=s;let y={},{region:b}=s;b||(b=this.region);const x=new URL(`${this.url}/${i}`);b&&b!=="any"&&(y["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let T;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(y["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(y["Content-Type"]="application/json",T=JSON.stringify(g)):T=g;let N=v;p&&(d=new AbortController,o=setTimeout(()=>d.abort(),p),v?(N=d.signal,v.addEventListener("abort",()=>d.abort())):N=d.signal);const j=yield this.fetch(x.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),h),body:T,signal:N}).catch(ne=>{throw new kp(ne)}),$=j.headers.get("x-relay-error");if($&&$==="true")throw new g0(j);if(!j.ok)throw new m0(j);let D=((l=j.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),B;return D==="application/json"?B=yield j.json():D==="application/octet-stream"||D==="application/pdf"?B=yield j.blob():D==="text/event-stream"?B=j:D==="multipart/form-data"?B=yield j.formData():B=yield j.text(),{data:B,error:null,response:j}}catch(h){return{data:null,error:h,response:h instanceof m0||h instanceof g0?h.context:void 0}}finally{o&&clearTimeout(o)}})}}var Qt={};const Nr=vp(Np);var to={},no={},ao={},io={},ro={},so={},v0;function Sm(){if(v0)return so;v0=1,Object.defineProperty(so,"__esModule",{value:!0});class u extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return so.default=u,so}var y0;function Em(){if(y0)return ro;y0=1,Object.defineProperty(ro,"__esModule",{value:!0});const a=Nr.__importDefault(Sm());class i{constructor(l){var o,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(o=l.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,o){return this.headers=new Headers(this.headers),this.headers.set(l,o),this}then(l,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,p,y;let b=null,x=null,T=null,N=m.status,j=m.statusText;if(m.ok){if(this.method!=="HEAD"){const ne=await m.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?x=ne:x=JSON.parse(ne))}const D=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),B=(p=m.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");D&&B&&B.length>1&&(T=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,T=null,N=406,j="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const D=await m.text();try{b=JSON.parse(D),Array.isArray(b)&&m.status===404&&(x=[],b=null,N=200,j="OK")}catch{m.status===404&&D===""?(N=204,j="No Content"):b={message:D}}if(b&&this.isMaybeSingle&&(!((y=b?.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,N=200,j="OK"),b&&this.shouldThrowOnError)throw new a.default(b)}return{error:b,data:x,count:T,status:N,statusText:j}});return this.shouldThrowOnError||(h=h.catch(m=>{var g,v,p,y,b,x;let T="";const N=m?.cause;if(N){const j=(g=N?.message)!==null&&g!==void 0?g:"",$=(v=N?.code)!==null&&v!==void 0?v:"";T=`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,T+=`

Caused by: ${(y=N?.name)!==null&&y!==void 0?y:"Error"}: ${j}`,$&&(T+=` (${$})`),N?.stack&&(T+=`
${N.stack}`)}else T=(b=m?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(x=m?.name)!==null&&x!==void 0?x:"FetchError"}: ${m?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(l,o)}returns(){return this}overrideTypes(){return this}}return ro.default=i,ro}var p0;function Am(){if(p0)return io;p0=1,Object.defineProperty(io,"__esModule",{value:!0});const a=Nr.__importDefault(Em());class i extends a.default{select(l){let o=!1;const d=(l??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:o=!0,nullsFirst:d,foreignTable:h,referencedTable:m=h}={}){const g=m?`${m}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${l}.${o?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:o,referencedTable:d=o}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,o,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(g,`${o-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:o=!1,settings:d=!1,buffers:h=!1,wal:m=!1,format:g="text"}={}){var v;const p=[l?"analyze":null,o?"verbose":null,d?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),y=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${y}"; options=${p};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return io.default=i,io}var b0;function pd(){if(b0)return ao;b0=1,Object.defineProperty(ao,"__esModule",{value:!0});const a=Nr.__importDefault(Am()),i=new RegExp("[,()]");class s extends a.default{eq(o,d){return this.url.searchParams.append(o,`eq.${d}`),this}neq(o,d){return this.url.searchParams.append(o,`neq.${d}`),this}gt(o,d){return this.url.searchParams.append(o,`gt.${d}`),this}gte(o,d){return this.url.searchParams.append(o,`gte.${d}`),this}lt(o,d){return this.url.searchParams.append(o,`lt.${d}`),this}lte(o,d){return this.url.searchParams.append(o,`lte.${d}`),this}like(o,d){return this.url.searchParams.append(o,`like.${d}`),this}likeAllOf(o,d){return this.url.searchParams.append(o,`like(all).{${d.join(",")}}`),this}likeAnyOf(o,d){return this.url.searchParams.append(o,`like(any).{${d.join(",")}}`),this}ilike(o,d){return this.url.searchParams.append(o,`ilike.${d}`),this}ilikeAllOf(o,d){return this.url.searchParams.append(o,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(o,d){return this.url.searchParams.append(o,`ilike(any).{${d.join(",")}}`),this}is(o,d){return this.url.searchParams.append(o,`is.${d}`),this}in(o,d){const h=Array.from(new Set(d)).map(m=>typeof m=="string"&&i.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,d){return typeof d=="string"?this.url.searchParams.append(o,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(o,`cs.{${d.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(d)}`),this}containedBy(o,d){return typeof d=="string"?this.url.searchParams.append(o,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(o,`cd.{${d.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(d)}`),this}rangeGt(o,d){return this.url.searchParams.append(o,`sr.${d}`),this}rangeGte(o,d){return this.url.searchParams.append(o,`nxl.${d}`),this}rangeLt(o,d){return this.url.searchParams.append(o,`sl.${d}`),this}rangeLte(o,d){return this.url.searchParams.append(o,`nxr.${d}`),this}rangeAdjacent(o,d){return this.url.searchParams.append(o,`adj.${d}`),this}overlaps(o,d){return typeof d=="string"?this.url.searchParams.append(o,`ov.${d}`):this.url.searchParams.append(o,`ov.{${d.join(",")}}`),this}textSearch(o,d,{config:h,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${g}fts${v}.${d}`),this}match(o){return Object.entries(o).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(o,d,h){return this.url.searchParams.append(o,`not.${d}.${h}`),this}or(o,{foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,d,h){return this.url.searchParams.append(o,`${d}.${h}`),this}}return ao.default=s,ao}var w0;function jm(){if(w0)return no;w0=1,Object.defineProperty(no,"__esModule",{value:!0});const a=Nr.__importDefault(pd());class i{constructor(l,{headers:o={},schema:d,fetch:h}){this.url=l,this.headers=new Headers(o),this.schema=d,this.fetch=h}select(l,o){const{head:d=!1,count:h}=o??{},m=d?"HEAD":"GET";let g=!1;const v=(l??"*").split("").map(p=>/\s/.test(p)&&!g?"":(p==='"'&&(g=!g),p)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:o,defaultToNull:d=!0}={}){var h;const m="POST";if(o&&this.headers.append("Prefer",`count=${o}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((v,p)=>v.concat(Object.keys(p)),[]);if(g.length>0){const v=[...new Set(g)].map(p=>`"${p}"`);this.url.searchParams.set("columns",v.join(","))}}return new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(l,{onConflict:o,ignoreDuplicates:d=!1,count:h,defaultToNull:m=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),h&&this.headers.append("Prefer",`count=${h}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new a.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(l,{count:o}={}){var d;const h="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var o;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new a.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return no.default=i,no}var _0;function Up(){if(_0)return to;_0=1,Object.defineProperty(to,"__esModule",{value:!0});const u=Nr,a=u.__importDefault(jm()),i=u.__importDefault(pd());class s{constructor(o,{headers:d={},schema:h,fetch:m}={}){this.url=o,this.headers=new Headers(d),this.schemaName=h,this.fetch=m}from(o){const d=new URL(`${this.url}/${o}`);return new a.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,d={},{head:h=!1,get:m=!1,count:g}={}){var v;let p;const y=new URL(`${this.url}/rpc/${o}`);let b;h||m?(p=h?"HEAD":"GET",Object.entries(d).filter(([T,N])=>N!==void 0).map(([T,N])=>[T,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([T,N])=>{y.searchParams.append(T,N)})):(p="POST",b=d);const x=new Headers(this.headers);return g&&x.set("Prefer",`count=${g}`),new i.default({method:p,url:y,headers:x,schema:this.schemaName,body:b,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return to.default=s,to}var x0;function Dp(){if(x0)return Qt;x0=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.PostgrestError=Qt.PostgrestBuilder=Qt.PostgrestTransformBuilder=Qt.PostgrestFilterBuilder=Qt.PostgrestQueryBuilder=Qt.PostgrestClient=void 0;const u=Nr,a=u.__importDefault(Up());Qt.PostgrestClient=a.default;const i=u.__importDefault(jm());Qt.PostgrestQueryBuilder=i.default;const s=u.__importDefault(pd());Qt.PostgrestFilterBuilder=s.default;const l=u.__importDefault(Am());Qt.PostgrestTransformBuilder=l.default;const o=u.__importDefault(Em());Qt.PostgrestBuilder=o.default;const d=u.__importDefault(Sm());return Qt.PostgrestError=d.default,Qt.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:o.default,PostgrestError:d.default},Qt}var Tm=Dp();const Om=Z0(Tm),Mp=mp({__proto__:null,default:Om},[Tm]),{PostgrestClient:Bp,PostgrestQueryBuilder:Xw,PostgrestFilterBuilder:Pw,PostgrestTransformBuilder:Qw,PostgrestBuilder:Jw,PostgrestError:Zw}=Om||Mp;class Lp{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const s=i.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const s=this.getWebSocketConstructor();return new s(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Hp="2.83.0",qp=`realtime-js/${Hp}`,Cm="1.0.0",Gp="2.0.0",S0=Cm,td=1e4,$p=1e3,Yp=100;var ji;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(ji||(ji={}));var Bt;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Bt||(Bt={}));var Bn;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Bn||(Bn={}));var nd;(function(u){u.websocket="websocket"})(nd||(nd={}));var Ti;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Ti||(Ti={}));class Vp{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(a,i){if(this._isArrayBuffer(a.payload))return i(this._binaryEncodePush(a));if(a.event===this.BROADCAST&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let s=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(s))}_binaryEncodePush(a){var i,s;const{event:l,topic:o,payload:d}=a,h=(i=a.ref)!==null&&i!==void 0?i:"",m=(s=a.join_ref)!==null&&s!==void 0?s:"",g=this.META_LENGTH+m.length+h.length+o.length+l.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let p=new DataView(v),y=0;p.setUint8(y++,this.KINDS.push),p.setUint8(y++,m.length),p.setUint8(y++,h.length),p.setUint8(y++,o.length),p.setUint8(y++,l.length),Array.from(m,x=>p.setUint8(y++,x.charCodeAt(0))),Array.from(h,x=>p.setUint8(y++,x.charCodeAt(0))),Array.from(o,x=>p.setUint8(y++,x.charCodeAt(0))),Array.from(l,x=>p.setUint8(y++,x.charCodeAt(0)));var b=new Uint8Array(v.byteLength+d.byteLength);return b.set(new Uint8Array(v),0),b.set(new Uint8Array(d),v.byteLength),b.buffer}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,s,l,o;const d=a.topic,h=(i=a.ref)!==null&&i!==void 0?i:"",m=(s=a.join_ref)!==null&&s!==void 0?s:"",g=a.payload.event,v=(o=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),p=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+d.length+g.length,y=new ArrayBuffer(this.HEADER_LENGTH+p);let b=new DataView(y),x=0;b.setUint8(x++,this.KINDS.userBroadcastPush),b.setUint8(x++,m.length),b.setUint8(x++,h.length),b.setUint8(x++,d.length),b.setUint8(x++,g.length),b.setUint8(x++,this.BINARY_ENCODING),Array.from(m,N=>b.setUint8(x++,N.charCodeAt(0))),Array.from(h,N=>b.setUint8(x++,N.charCodeAt(0))),Array.from(d,N=>b.setUint8(x++,N.charCodeAt(0))),Array.from(g,N=>b.setUint8(x++,N.charCodeAt(0)));var T=new Uint8Array(y.byteLength+v.byteLength);return T.set(new Uint8Array(y),0),T.set(new Uint8Array(v),y.byteLength),T.buffer}_encodeJsonUserBroadcastPush(a){var i,s,l,o;const d=a.topic,h=(i=a.ref)!==null&&i!==void 0?i:"",m=(s=a.join_ref)!==null&&s!==void 0?s:"",g=a.payload.event,v=(o=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&o!==void 0?o:{},y=new TextEncoder().encode(JSON.stringify(v)).buffer,b=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+d.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let T=new DataView(x),N=0;T.setUint8(N++,this.KINDS.userBroadcastPush),T.setUint8(N++,m.length),T.setUint8(N++,h.length),T.setUint8(N++,d.length),T.setUint8(N++,g.length),T.setUint8(N++,this.JSON_ENCODING),Array.from(m,$=>T.setUint8(N++,$.charCodeAt(0))),Array.from(h,$=>T.setUint8(N++,$.charCodeAt(0))),Array.from(d,$=>T.setUint8(N++,$.charCodeAt(0))),Array.from(g,$=>T.setUint8(N++,$.charCodeAt(0)));var j=new Uint8Array(x.byteLength+y.byteLength);return j.set(new Uint8Array(x),0),j.set(new Uint8Array(y),x.byteLength),j.buffer}decode(a,i){if(this._isArrayBuffer(a)){let s=this._binaryDecode(a);return i(s)}if(typeof a=="string"){const s=JSON.parse(a),[l,o,d,h,m]=s;return i({join_ref:l,ref:o,topic:d,event:h,payload:m})}return i({})}_binaryDecode(a){const i=new DataView(a),s=i.getUint8(0),l=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(a,i,l);case this.KINDS.reply:return this._decodeReply(a,i,l);case this.KINDS.broadcast:return this._decodeBroadcast(a,i,l);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,i,l)}}_decodePush(a,i,s){const l=i.getUint8(1),o=i.getUint8(2),d=i.getUint8(3);let h=this.HEADER_LENGTH+this.META_LENGTH-1;const m=s.decode(a.slice(h,h+l));h=h+l;const g=s.decode(a.slice(h,h+o));h=h+o;const v=s.decode(a.slice(h,h+d));h=h+d;const p=JSON.parse(s.decode(a.slice(h,a.byteLength)));return{join_ref:m,ref:null,topic:g,event:v,payload:p}}_decodeReply(a,i,s){const l=i.getUint8(1),o=i.getUint8(2),d=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+this.META_LENGTH;const g=s.decode(a.slice(m,m+l));m=m+l;const v=s.decode(a.slice(m,m+o));m=m+o;const p=s.decode(a.slice(m,m+d));m=m+d;const y=s.decode(a.slice(m,m+h));m=m+h;const b=JSON.parse(s.decode(a.slice(m,a.byteLength))),x={status:y,response:b};return{join_ref:g,ref:v,topic:p,event:Bn.reply,payload:x}}_decodeBroadcast(a,i,s){const l=i.getUint8(1),o=i.getUint8(2);let d=this.HEADER_LENGTH+2;const h=s.decode(a.slice(d,d+l));d=d+l;const m=s.decode(a.slice(d,d+o));d=d+o;const g=JSON.parse(s.decode(a.slice(d,a.byteLength)));return{join_ref:null,ref:null,topic:h,event:m,payload:g}}_decodeUserBroadcast(a,i,s){const l=i.getUint8(1),o=i.getUint8(2),d=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+4;const g=s.decode(a.slice(m,m+l));m=m+l;const v=s.decode(a.slice(m,m+o));m=m+o;const p=s.decode(a.slice(m,m+d));m=m+d;const y=a.slice(m,a.byteLength),b=h===this.JSON_ENCODING?JSON.parse(s.decode(y)):y,x={type:this.BROADCAST,event:v,payload:b};return d>0&&(x.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST,payload:x}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}}class Nm{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(tt||(tt={}));const E0=(u,a,i={})=>{var s;const l=(s=i.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((o,d)=>(o[d]=Ip(d,u,a,l),o),{}):{}},Ip=(u,a,i,s)=>{const l=a.find(h=>h.name===u),o=l?.type,d=i[u];return o&&!s.includes(o)?Rm(o,d):ad(d)},Rm=(u,a)=>{if(u.charAt(0)==="_"){const i=u.slice(1,u.length);return Qp(a,i)}switch(u){case tt.bool:return Kp(a);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return Xp(a);case tt.json:case tt.jsonb:return Pp(a);case tt.timestamp:return Jp(a);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return ad(a);default:return ad(a)}},ad=u=>u,Kp=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},Xp=u=>{if(typeof u=="string"){const a=parseFloat(u);if(!Number.isNaN(a))return a}return u},Pp=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(a){return console.log(`JSON parse error: ${a}`),u}return u},Qp=(u,a)=>{if(typeof u!="string")return u;const i=u.length-1,s=u[i];if(u[0]==="{"&&s==="}"){let o;const d=u.slice(1,i);try{o=JSON.parse("["+d+"]")}catch{o=d?d.split(","):[]}return o.map(h=>Rm(a,h))}return u},Jp=u=>typeof u=="string"?u.replace(" ","T"):u,km=u=>{const a=new URL(u);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class qc{constructor(a,i,s={},l=td){this.channel=a,this.event=i,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var s;return this._hasReceived(a)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var A0;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(A0||(A0={}));class Cs{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:o,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cs.syncState(this.state,l,o,d),this.pendingDiffs.forEach(m=>{this.state=Cs.syncDiff(this.state,m,o,d)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},l=>{const{onJoin:o,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Cs.syncDiff(this.state,l,o,d),h())}),this.onJoin((l,o,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:d})}),this.onLeave((l,o,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,s,l){const o=this.cloneDeep(a),d=this.transformState(i),h={},m={};return this.map(o,(g,v)=>{d[g]||(m[g]=v)}),this.map(d,(g,v)=>{const p=o[g];if(p){const y=v.map(N=>N.presence_ref),b=p.map(N=>N.presence_ref),x=v.filter(N=>b.indexOf(N.presence_ref)<0),T=p.filter(N=>y.indexOf(N.presence_ref)<0);x.length>0&&(h[g]=x),T.length>0&&(m[g]=T)}else h[g]=v}),this.syncDiff(o,{joins:h,leaves:m},s,l)}static syncDiff(a,i,s,l){const{joins:o,leaves:d}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(o,(h,m)=>{var g;const v=(g=a[h])!==null&&g!==void 0?g:[];if(a[h]=this.cloneDeep(m),v.length>0){const p=a[h].map(b=>b.presence_ref),y=v.filter(b=>p.indexOf(b.presence_ref)<0);a[h].unshift(...y)}s(h,v,m)}),this.map(d,(h,m)=>{let g=a[h];if(!g)return;const v=m.map(p=>p.presence_ref);g=g.filter(p=>v.indexOf(p.presence_ref)<0),a[h]=g,l(h,g,m),g.length===0&&delete a[h]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(s=>i(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,s)=>{const l=a[s];return"metas"in l?i[s]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i[s]=l,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var j0;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(j0||(j0={}));var Ns;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(Ns||(Ns={}));var wa;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(wa||(wa={}));class bd{constructor(a,i={config:{}},s){var l,o;if(this.topic=a,this.params=i,this.socket=s,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new qc(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new Nm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new Cs(this),this.broadcastEndpointURL=km(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var s,l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:d,presence:h,private:m}}=this.params,g=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[Ns.PRESENCE]&&this.bindings[Ns.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},y={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>a?.(wa.CHANNEL_ERROR,b)),this._onClose(()=>a?.(wa.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){a?.(wa.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,N=(x=T?.length)!==null&&x!==void 0?x:0,j=[];for(let $=0;$<N;$++){const D=T[$],{filter:{event:B,schema:ne,table:z,filter:V}}=D,O=b&&b[$];if(O&&O.event===B&&O.schema===ne&&O.table===z&&O.filter===V)j.push(Object.assign(Object.assign({},D),{id:O.id}));else{this.unsubscribe(),this.state=Bt.errored,a?.(wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,a&&a(wa.SUBSCRIBED);return}}).receive("error",b=>{this.state=Bt.errored,a?.(wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{a?.(wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,s){return this.state===Bt.joined&&a===Ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,i,s)}async httpSend(a,i,s={}){var l;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const g=await h.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(a,i={}){var s,l;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:d}=a,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var d,h,m;const g=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&o("ok"),g.receive("ok",()=>o("ok")),g.receive("error",()=>o("error")),g.receive("timeout",()=>o("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Bt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new qc(this,Bn.leave,{},a),s.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(a,i,s){const l=new AbortController,o=setTimeout(()=>l.abort(),s),d=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(o),d}_push(a,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new qc(this,a,i,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Yp){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,s){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,s){var l,o;const d=a.toLocaleLowerCase(),{close:h,error:m,leave:g,join:v}=Bn;if(s&&[h,m,g,v].indexOf(d)>=0&&s!==this._joinRef())return;let y=this._onMessage(d,i,s);if(i&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var x,T,N;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((N=(T=b.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===d}).map(b=>b.callback(y,s)):(o=this.bindings[d])===null||o===void 0||o.filter(b=>{var x,T,N,j,$,D;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const B=b.id,ne=(x=b.filter)===null||x===void 0?void 0:x.event;return B&&((T=i.ids)===null||T===void 0?void 0:T.includes(B))&&(ne==="*"||ne?.toLocaleLowerCase()===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const B=($=(j=b?.filter)===null||j===void 0?void 0:j.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return B==="*"||B===((D=i?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:T,table:N,commit_timestamp:j,type:$,errors:D}=x;y=Object.assign(Object.assign({},{schema:T,table:N,commit_timestamp:j,eventType:$,new:{},old:{},errors:D}),this._getPayloadRecords(x))}b.callback(y,s)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,s){const l=a.toLocaleLowerCase(),o={type:l,filter:i,callback:s};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(a,i){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&bd.isEqual(l.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const s in a)if(a[s]!==i[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Bn.close,{},a)}_onError(a){this._on(Bn.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=E0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=E0(a.columns,a.old_record)),i}}const Gc=()=>{},lo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zp=[1e3,2e3,5e3,1e4],Fp=1e4,Wp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eb{constructor(a,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=td,this.transport=null,this.heartbeatIntervalMs=lo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gc,this.ref=0,this.reconnectTimer=null,this.vsn=S0,this.logger=Gc,this.conn=null,this.sendBuffer=[],this.serializer=new Vp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...o)=>l(...o):(...o)=>fetch(...o),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${nd.websocket}`,this.httpEndpoint=km(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Lp.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,s){this.logger(a,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ji.connecting:return Ti.Connecting;case ji.open:return Ti.Open;case ji.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const s=`realtime:${a}`,l=this.getChannels().find(o=>o.topic===s);if(l)return l;{const o=new bd(`realtime:${a}`,i,this);return this.channels.push(o),o}}push(a){const{topic:i,event:s,payload:l,ref:o}=a,d=()=>{this.encode(a,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${i} ${s} (${o})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close($p,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},lo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:l,payload:o,ref:d}=i,h=d?`(${d})`:"",m=o.status||"";this.log("receive",`${m} ${s} ${l} ${h}`.trim(),o),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(l,o,d)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ji.open||this.conn.readyState===ji.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Bn.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const s=a.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${a}${s}${l}`}_workerObjectUrl(a){let i;if(a)i=a;else{const s=new Blob([Wp],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i;a?i=a:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(s=>{const l={access_token:i,version:qp};i&&s.updateJoinPayload(l),s.joinedOnce&&s._isJoined()&&s._push(Bn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(i)}catch(l){this.log("error",`error in ${a} callback`,l)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Nm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,s,l,o,d,h,m,g,v,p,y,b;switch(this.transport=(i=a?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=a?.timeout)!==null&&s!==void 0?s:td,this.heartbeatIntervalMs=(l=a?.heartbeatIntervalMs)!==null&&l!==void 0?l:lo.HEARTBEAT_INTERVAL,this.worker=(o=a?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(d=a?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=a?.heartbeatCallback)!==null&&h!==void 0?h:Gc,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:S0,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(x=>Zp[x-1]||Fp),this.vsn){case Cm:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((x,T)=>T(JSON.stringify(x))),this.decode=(p=a?.decode)!==null&&p!==void 0?p:((x,T)=>T(JSON.parse(x)));break;case Gp:this.encode=(y=a?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=a?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class wd extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function ct(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class tb extends wd{constructor(a,i,s){super(a),this.name="StorageApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class id extends wd{constructor(a,i){super(a),this.name="StorageUnknownError",this.originalError=i}}const _d=u=>u?(...a)=>u(...a):(...a)=>fetch(...a),nb=()=>Response,rd=u=>{if(Array.isArray(u))return u.map(i=>rd(i));if(typeof u=="function"||u!==Object(u))return u;const a={};return Object.entries(u).forEach(([i,s])=>{const l=i.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));a[l]=rd(s)}),a},ab=u=>{if(typeof u!="object"||u===null)return!1;const a=Object.getPrototypeOf(u);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},$c=u=>{var a;return u.msg||u.message||u.error_description||(typeof u.error=="string"?u.error:(a=u.error)===null||a===void 0?void 0:a.message)||JSON.stringify(u)},ib=(u,a,i)=>ve(void 0,void 0,void 0,function*(){const s=yield nb();u instanceof s&&!i?.noResolveJson?u.json().then(l=>{const o=u.status||500,d=l?.statusCode||o+"";a(new tb($c(l),o,d))}).catch(l=>{a(new id($c(l),l))}):a(new id($c(u),u))}),rb=(u,a,i,s)=>{const l={method:u,headers:a?.headers||{}};return u==="GET"||!s?l:(ab(s)?(l.headers=Object.assign({"Content-Type":"application/json"},a?.headers),l.body=JSON.stringify(s)):l.body=s,a?.duplex&&(l.duplex=a.duplex),Object.assign(Object.assign({},l),i))};function Ds(u,a,i,s,l,o){return ve(this,void 0,void 0,function*(){return new Promise((d,h)=>{u(i,rb(a,s,l,o)).then(m=>{if(!m.ok)throw m;return s?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>ib(m,h,s))})})}function ks(u,a,i,s){return ve(this,void 0,void 0,function*(){return Ds(u,"GET",a,i,s)})}function Pn(u,a,i,s,l){return ve(this,void 0,void 0,function*(){return Ds(u,"POST",a,s,l,i)})}function sd(u,a,i,s,l){return ve(this,void 0,void 0,function*(){return Ds(u,"PUT",a,s,l,i)})}function sb(u,a,i,s){return ve(this,void 0,void 0,function*(){return Ds(u,"HEAD",a,Object.assign(Object.assign({},i),{noResolveJson:!0}),s)})}function xd(u,a,i,s,l){return ve(this,void 0,void 0,function*(){return Ds(u,"DELETE",a,s,l,i)})}class lb{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i}then(a,i){return this.execute().then(a,i)}execute(){return ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}}var zm;class ob{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i,this[zm]="BlobDownloadBuilder",this.promise=null}asStream(){return new lb(this.downloadFn,this.shouldThrowOnError)}then(a,i){return this.getPromise().then(a,i)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}}zm=Symbol.toStringTag;const ub={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cb{constructor(a,i={},s,l){this.shouldThrowOnError=!1,this.url=a,this.headers=i,this.bucketId=s,this.fetch=_d(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,i,s,l){return ve(this,void 0,void 0,function*(){try{let o;const d=Object.assign(Object.assign({},T0),l);let h=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",d.cacheControl),m&&o.append("metadata",this.encodeMetadata(m)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.has("cacheControl")||o.append("cacheControl",d.cacheControl),m&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(m))):(o=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(h=Object.assign(Object.assign({},h),l.headers));const g=this._removeEmptyFolders(i),v=this._getFinalPath(g),p=yield(a=="PUT"?sd:Pn)(this.fetch,`${this.url}/object/${v}`,o,Object.assign({headers:h},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}upload(a,i,s){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,i,s)})}uploadToSignedUrl(a,i,s,l){return ve(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(a),d=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",i);try{let m;const g=Object.assign({upsert:T0.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",g.cacheControl)):(m=s,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const p=yield sd(this.fetch,h.toString(),m,{headers:v});return{data:{path:o,fullPath:p.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(ct(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(a,i){return ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(a);const l=Object.assign({},this.headers);i?.upsert&&(l["x-upsert"]="true");const o=yield Pn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:l}),d=new URL(this.url+o.url),h=d.searchParams.get("token");if(!h)throw new wd("No token returned by API");return{data:{signedUrl:d.toString(),path:a,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}})}update(a,i,s){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,i,s)})}move(a,i,s){return ve(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}copy(a,i,s){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}createSignedUrl(a,i,s){return ve(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a),o=yield Pn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:i},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${d}`)},{data:o,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}createSignedUrls(a,i,s){return ve(this,void 0,void 0,function*(){try{const l=yield Pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:a},{headers:this.headers}),o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${o}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}download(a,i){const l=typeof i?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(i?.transform||{}),d=o?`?${o}`:"",h=this._getFinalPath(a),m=()=>ks(this.fetch,`${this.url}/${l}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new ob(m,this.shouldThrowOnError)}info(a){return ve(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{const s=yield ks(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:rd(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}})}exists(a){return ve(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{return yield sb(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s)&&s instanceof id){const l=s.originalError;if([400,404].includes(l?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(a,i){const s=this._getFinalPath(a),l=[],o=i?.download?`download=${i.download===!0?"":i.download}`:"";o!==""&&l.push(o);const h=typeof i?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(i?.transform||{});m!==""&&l.push(m);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${g}`)}}}remove(a){return ve(this,void 0,void 0,function*(){try{return{data:yield xd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}list(a,i,s){return ve(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},ub),i),{prefix:a||""});return{data:yield Pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}listV2(a,i){return ve(this,void 0,void 0,function*(){try{const s=Object.assign({},a);return{data:yield Pn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const i=[];return a.width&&i.push(`width=${a.width}`),a.height&&i.push(`height=${a.height}`),a.resize&&i.push(`resize=${a.resize}`),a.format&&i.push(`format=${a.format}`),a.quality&&i.push(`quality=${a.quality}`),i.join("&")}}const Um="2.83.0",Dm={"X-Client-Info":`storage-js/${Um}`};class db{constructor(a,i={},s,l){this.shouldThrowOnError=!1;const o=new URL(a);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dm),i),this.fetch=_d(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return ve(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(a);return{data:yield ks(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}getBucket(a){return ve(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}createBucket(a){return ve(this,arguments,void 0,function*(i,s={public:!1}){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}updateBucket(a,i){return ve(this,void 0,void 0,function*(){try{return{data:yield sd(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}})}emptyBucket(a){return ve(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}deleteBucket(a){return ve(this,void 0,void 0,function*(){try{return{data:yield xd(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(a){const i={};return a&&("limit"in a&&(i.limit=String(a.limit)),"offset"in a&&(i.offset=String(a.offset)),a.search&&(i.search=a.search),a.sortColumn&&(i.sortColumn=a.sortColumn),a.sortOrder&&(i.sortOrder=a.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class fb{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dm),i),this.fetch=_d(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ve(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}listBuckets(a){return ve(this,void 0,void 0,function*(){try{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const s=i.toString(),l=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield ks(this.fetch,l,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}deleteBucket(a){return ve(this,void 0,void 0,function*(){try{return{data:yield xd(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}}const Sd={"X-Client-Info":`storage-js/${Um}`,"Content-Type":"application/json"};class Mm extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function En(u){return typeof u=="object"&&u!==null&&"__isStorageVectorsError"in u}class Yc extends Mm{constructor(a,i,s){super(a),this.name="StorageVectorsApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hb extends Mm{constructor(a,i){super(a),this.name="StorageVectorsUnknownError",this.originalError=i}}var O0;(function(u){u.InternalError="InternalError",u.S3VectorConflictException="S3VectorConflictException",u.S3VectorNotFoundException="S3VectorNotFoundException",u.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",u.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",u.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(O0||(O0={}));const Ed=u=>u?(...a)=>u(...a):(...a)=>fetch(...a),gb=u=>{if(typeof u!="object"||u===null)return!1;const a=Object.getPrototypeOf(u);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},C0=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),mb=(u,a,i)=>ve(void 0,void 0,void 0,function*(){if(u&&typeof u=="object"&&"status"in u&&"ok"in u&&typeof u.status=="number"&&!i?.noResolveJson){const l=u.status||500,o=u;if(typeof o.json=="function")o.json().then(d=>{const h=d?.statusCode||d?.code||l+"";a(new Yc(C0(d),l,h))}).catch(()=>{const d=l+"",h=o.statusText||`HTTP ${l} error`;a(new Yc(h,l,d))});else{const d=l+"",h=o.statusText||`HTTP ${l} error`;a(new Yc(h,l,d))}}else a(new hb(C0(u),u))}),vb=(u,a,i,s)=>{const l={method:u,headers:a?.headers||{}};return s?(gb(s)?(l.headers=Object.assign({"Content-Type":"application/json"},a?.headers),l.body=JSON.stringify(s)):l.body=s,Object.assign(Object.assign({},l),i)):l};function yb(u,a,i,s,l,o){return ve(this,void 0,void 0,function*(){return new Promise((d,h)=>{u(i,vb(a,s,l,o)).then(m=>{if(!m.ok)throw m;if(s?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>mb(m,h,s))})})}function An(u,a,i,s,l){return ve(this,void 0,void 0,function*(){return yb(u,"POST",a,s,l,i)})}class pb{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sd),i),this.fetch=Ed(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return ve(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}getIndex(a,i){return ve(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(En(s))return{data:null,error:s};throw s}})}listIndexes(a){return ve(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}deleteIndex(a,i){return ve(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(En(s))return{data:null,error:s};throw s}})}}class bb{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sd),i),this.fetch=Ed(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return ve(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield An(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}getVectors(a){return ve(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}listVectors(a){return ve(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield An(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}queryVectors(a){return ve(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}deleteVectors(a){return ve(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield An(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}}class wb{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sd),i),this.fetch=Ed(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ve(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}getBucket(a){return ve(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}listBuckets(){return ve(this,arguments,void 0,function*(a={}){try{return{data:yield An(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}deleteBucket(a){return ve(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(En(i))return{data:null,error:i};throw i}})}}class _b extends wb{constructor(a,i={}){super(a,i.headers||{},i.fetch)}from(a){return new xb(this.url,this.headers,a,this.fetch)}}class xb extends pb{constructor(a,i,s,l){super(a,i,l),this.vectorBucketName=s}createIndex(a){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ve(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ve(this,arguments,void 0,function*(i={}){return a.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ve(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ve(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Sb(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Sb extends bb{constructor(a,i,s,l,o){super(a,i,o),this.vectorBucketName=s,this.indexName=l}putVectors(a){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ve(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ve(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ve(this,arguments,void 0,function*(i={}){return a.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ve(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ve(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Eb extends db{constructor(a,i={},s,l){super(a,i,s,l)}from(a){return new cb(this.url,this.headers,a,this.fetch)}get vectors(){return new _b(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fb(this.url+"/iceberg",this.headers,this.fetch)}}const Ab="2.83.0";let Os="";typeof Deno<"u"?Os="deno":typeof document<"u"?Os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Os="react-native":Os="node";const jb={"X-Client-Info":`supabase-js-${Os}/${Ab}`},Tb={headers:jb},Ob={schema:"public"},Cb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nb={},Rb=u=>u?(...a)=>u(...a):(...a)=>fetch(...a),kb=()=>Headers,zb=(u,a,i)=>{const s=Rb(i),l=kb();return async(o,d)=>{var h;const m=(h=await a())!==null&&h!==void 0?h:u;let g=new l(d?.headers);return g.has("apikey")||g.set("apikey",u),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),s(o,Object.assign(Object.assign({},d),{headers:g}))}};function Ub(u){return u.endsWith("/")?u:u+"/"}function Db(u,a){var i,s;const{db:l,auth:o,realtime:d,global:h}=u,{db:m,auth:g,realtime:v,global:p}=a,y={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},g),o),realtime:Object.assign(Object.assign({},v),d),storage:{},global:Object.assign(Object.assign(Object.assign({},p),h),{headers:Object.assign(Object.assign({},(i=p?.headers)!==null&&i!==void 0?i:{}),(s=h?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return u.accessToken?y.accessToken=u.accessToken:delete y.accessToken,y}function Mb(u){const a=u?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ub(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bm="2.83.0",Sr=30*1e3,ld=3,Vc=ld*Sr,Bb="http://localhost:9999",Lb="supabase.auth.token",Hb={"X-Client-Info":`gotrue-js/${Bm}`},od="X-Supabase-Api-Version",Lm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gb=600*1e3;class zs extends Error{constructor(a,i,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function pe(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class $b extends zs{constructor(a,i,s){super(a,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function Yb(u){return pe(u)&&u.name==="AuthApiError"}class Oi extends zs{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class ti extends zs{constructor(a,i,s,l){super(a,s,l),this.name=i,this.status=s}}class xn extends ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vb(u){return pe(u)&&u.name==="AuthSessionMissingError"}class vr extends ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oo extends ti{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class uo extends ti{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ib(u){return pe(u)&&u.name==="AuthImplicitGrantRedirectError"}class N0 extends ti{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ud extends ti{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function Ic(u){return pe(u)&&u.name==="AuthRetryableFetchError"}class R0 extends ti{constructor(a,i,s){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class cd extends ti{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),k0=` 	
\r=`.split(""),Kb=(()=>{const u=new Array(128);for(let a=0;a<u.length;a+=1)u[a]=-1;for(let a=0;a<k0.length;a+=1)u[k0[a].charCodeAt(0)]=-2;for(let a=0;a<go.length;a+=1)u[go[a].charCodeAt(0)]=a;return u})();function z0(u,a,i){if(u!==null)for(a.queue=a.queue<<8|u,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;i(go[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;i(go[s]),a.queuedBits-=6}}function Hm(u,a,i){const s=Kb[u];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function U0(u){const a=[],i=d=>{a.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=d=>{Qb(d,s,i)};for(let d=0;d<u.length;d+=1)Hm(u.charCodeAt(d),l,o);return a.join("")}function Xb(u,a){if(u<=127){a(u);return}else if(u<=2047){a(192|u>>6),a(128|u&63);return}else if(u<=65535){a(224|u>>12),a(128|u>>6&63),a(128|u&63);return}else if(u<=1114111){a(240|u>>18),a(128|u>>12&63),a(128|u>>6&63),a(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function Pb(u,a){for(let i=0;i<u.length;i+=1){let s=u.charCodeAt(i);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(u.charCodeAt(i+1)-56320&65535|l)+65536,i+=1}Xb(s,a)}}function Qb(u,a,i){if(a.utf8seq===0){if(u<=127){i(u);return}for(let s=1;s<6;s+=1)if((u>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=u&31;else if(a.utf8seq===3)a.codepoint=u&15;else if(a.utf8seq===4)a.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|u&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function jr(u){const a=[],i={queue:0,queuedBits:0},s=l=>{a.push(l)};for(let l=0;l<u.length;l+=1)Hm(u.charCodeAt(l),i,s);return new Uint8Array(a)}function Jb(u){const a=[];return Pb(u,i=>a.push(i)),new Uint8Array(a)}function Ci(u){const a=[],i={queue:0,queuedBits:0},s=l=>{a.push(l)};return u.forEach(l=>z0(l,i,s)),z0(null,i,s),a.join("")}function Zb(u){return Math.round(Date.now()/1e3)+u}function Fb(){return Symbol("auth-callback")}const Vt=()=>typeof window<"u"&&typeof document<"u",Si={tested:!1,writable:!1},qm=()=>{if(!Vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Si.tested)return Si.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Si.tested=!0,Si.writable=!0}catch{Si.tested=!0,Si.writable=!1}return Si.writable};function Wb(u){const a={},i=new URL(u);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,o)=>{a[o]=l})}catch{}return i.searchParams.forEach((s,l)=>{a[l]=s}),a}const Gm=u=>u?(...a)=>u(...a):(...a)=>fetch(...a),e1=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",Er=async(u,a,i)=>{await u.setItem(a,JSON.stringify(i))},Ei=async(u,a)=>{const i=await u.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Za=async(u,a)=>{await u.removeItem(a)};class jo{constructor(){this.promise=new jo.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}jo.promiseConstructor=Promise;function Kc(u){const a=u.split(".");if(a.length!==3)throw new cd("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!qb.test(a[s]))throw new cd("JWT not in base64url format");return{header:JSON.parse(U0(a[0])),payload:JSON.parse(U0(a[1])),signature:jr(a[2]),raw:{header:a[0],payload:a[1]}}}async function t1(u){return await new Promise(a=>{setTimeout(()=>a(null),u)})}function n1(u,a){return new Promise((s,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const d=await u(o);if(!a(o,null,d)){s(d);return}}catch(d){if(!a(o,d)){l(d);return}}})()})}function a1(u){return("0"+u.toString(16)).substr(-2)}function i1(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let l="";for(let o=0;o<56;o++)l+=i.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(a),Array.from(a,a1).join("")}async function r1(u){const i=new TextEncoder().encode(u),s=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(s);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function s1(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const i=await r1(u);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(u,a,i=!1){const s=i1();let l=s;i&&(l+="/PASSWORD_RECOVERY"),await Er(u,`${a}-code-verifier`,l);const o=await s1(s);return[o,s===o?"plain":"s256"]}const l1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function o1(u){const a=u.headers.get(od);if(!a||!a.match(l1))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function u1(u){if(!u)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(u<=a)throw new Error("JWT has expired")}function c1(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pr(u){if(!d1.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xc(){const u={};return new Proxy(u,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function f1(u,a){return new Proxy(u,{get:(i,s,l)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,l)}return!a.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,s,l)}})}function D0(u){return JSON.parse(JSON.stringify(u))}const Ai=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),h1=[502,503,504];async function M0(u){var a;if(!e1(u))throw new ud(Ai(u),0);if(h1.includes(u.status))throw new ud(Ai(u),u.status);let i;try{i=await u.json()}catch(o){throw new Oi(Ai(o),o)}let s;const l=o1(u);if(l&&l.getTime()>=Lm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new R0(Ai(i),u.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new xn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((o,d)=>o&&typeof d=="string",!0))throw new R0(Ai(i),u.status,i.weak_password.reasons);throw new $b(Ai(i),u.status||500,s)}const g1=(u,a,i,s)=>{const l={method:u,headers:a?.headers||{}};return u==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),i))};async function Se(u,a,i,s){var l;const o=Object.assign({},s?.headers);o[od]||(o[od]=Lm["2024-01-01"].name),s?.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const d=(l=s?.query)!==null&&l!==void 0?l:{};s?.redirectTo&&(d.redirect_to=s.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await m1(u,a,i+h,{headers:o,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function m1(u,a,i,s,l,o){const d=g1(a,s,l,o);let h;try{h=await u(i,Object.assign({},d))}catch(m){throw console.error(m),new ud(Ai(m),0)}if(h.ok||await M0(h),s?.noResolveJson)return h;try{return await h.json()}catch(m){await M0(m)}}function In(u){var a;let i=null;p1(u)&&(i=Object.assign({},u),u.expires_at||(i.expires_at=Zb(u.expires_in)));const s=(a=u.user)!==null&&a!==void 0?a:u;return{data:{session:i,user:s},error:null}}function B0(u){const a=In(u);return!a.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(a.data.weak_password=u.weak_password),a}function ei(u){var a;return{data:{user:(a=u.user)!==null&&a!==void 0?a:u},error:null}}function v1(u){return{data:u,error:null}}function y1(u){const{action_link:a,email_otp:i,hashed_token:s,redirect_to:l,verification_type:o}=u,d=Cr(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:a,email_otp:i,hashed_token:s,redirect_to:l,verification_type:o},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function L0(u){return u}function p1(u){return u.access_token&&u.refresh_token&&u.expires_in}const Pc=["global","local","others"];class b1{constructor({url:a="",headers:i={},fetch:s}){this.url=a,this.headers=i,this.fetch=Gm(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=Pc[0]){if(Pc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pc.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,i={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ei})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:i}=a,s=Cr(a,["options"]),l=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(l.new_email=s?.newEmail,delete l.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:y1,redirectTo:i?.redirectTo})}catch(i){if(pe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ei})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,s,l,o,d,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(o=(l=a?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:L0});if(v.error)throw v.error;const p=await v.json(),y=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);g[`${N}Page`]=T}),g.total=parseInt(y)),{data:Object.assign(Object.assign({},p),g),error:null}}catch(g){if(pe(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){pr(a);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ei})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){pr(a);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:ei})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,i=!1){pr(a);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:ei})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){pr(a.userId);try{const{data:i,error:s}=await Se(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:s}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteFactor(a){pr(a.userId),pr(a.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,s,l,o,d,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(o=(l=a?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:L0});if(v.error)throw v.error;const p=await v.json(),y=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);g[`${N}Page`]=T}),g.total=parseInt(y)),{data:Object.assign(Object.assign({},p),g),error:null}}catch(g){if(pe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}}function H0(u={}){return{getItem:a=>u[a]||null,setItem:(a,i)=>{u[a]=i},removeItem:a=>{delete u[a]}}}const br={debug:!!(globalThis&&qm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $m extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class w1 extends $m{}async function _1(u,a,i){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,l.name);try{return await i()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,l.name)}}else{if(a===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new w1(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(br.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function x1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ym(u){if(!/^0x[a-fA-F0-9]{40}$/.test(u))throw new Error(`@supabase/auth-js: Address "${u}" is invalid.`);return u.toLowerCase()}function S1(u){return parseInt(u,16)}function E1(u){const a=new TextEncoder().encode(u);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function A1(u){var a;const{chainId:i,domain:s,expirationTime:l,issuedAt:o=new Date,nonce:d,notBefore:h,requestId:m,resources:g,scheme:v,uri:p,version:y}=u;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((a=u.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${u.statement}`)}const b=Ym(u.address),x=v?`${v}://${s}`:s,T=u.statement?`${u.statement}
`:"",N=`${x} wants you to sign in with your Ethereum account:
${b}

${T}`;let j=`URI: ${p}
Version: ${y}
Chain ID: ${i}${d?`
Nonce: ${d}`:""}
Issued At: ${o.toISOString()}`;if(l&&(j+=`
Expiration Time: ${l.toISOString()}`),h&&(j+=`
Not Before: ${h.toISOString()}`),m&&(j+=`
Request ID: ${m}`),g){let $=`
Resources:`;for(const D of g){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);$+=`
- ${D}`}j+=$}return`${N}
${j}`}class Rt extends Error{constructor({message:a,code:i,cause:s,name:l}){var o;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=l??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=i}}class mo extends Rt{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function j1({error:u,options:a}){var i,s,l;const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if(u.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:u})}else if(u.name==="ConstraintError"){if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:u});if(a.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:u});if(((l=o.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:u})}else{if(u.name==="InvalidStateError")return new Rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:u});if(u.name==="NotAllowedError")return new Rt({message:u.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u});if(u.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:u}):new Rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:u});if(u.name==="SecurityError"){const d=window.location.hostname;if(Vm(d)){if(o.rp.id!==d)return new Rt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:u})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:u})}else if(u.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:u})}else if(u.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:u})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u})}function T1({error:u,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(u.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:u})}else{if(u.name==="NotAllowedError")return new Rt({message:u.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u});if(u.name==="SecurityError"){const s=window.location.hostname;if(Vm(s)){if(i.rpId!==s)return new Rt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:u})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:u})}else if(u.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:u})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u})}class O1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const C1=new O1;function N1(u){if(!u)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(u);const{challenge:a,user:i,excludeCredentials:s}=u,l=Cr(u,["challenge","user","excludeCredentials"]),o=jr(a).buffer,d=Object.assign(Object.assign({},i),{id:jr(i.id).buffer}),h=Object.assign(Object.assign({},l),{challenge:o,user:d});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const g=s[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:jr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function R1(u){if(!u)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(u);const{challenge:a,allowCredentials:i}=u,s=Cr(u,["challenge","allowCredentials"]),l=jr(a).buffer,o=Object.assign(Object.assign({},s),{challenge:l});if(i&&i.length>0){o.allowCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const h=i[d];o.allowCredentials[d]=Object.assign(Object.assign({},h),{id:jr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function k1(u){var a;if("toJSON"in u&&typeof u.toJSON=="function")return u.toJSON();const i=u;return{id:u.id,rawId:u.id,response:{attestationObject:Ci(new Uint8Array(u.response.attestationObject)),clientDataJSON:Ci(new Uint8Array(u.response.clientDataJSON))},type:"public-key",clientExtensionResults:u.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function z1(u){var a;if("toJSON"in u&&typeof u.toJSON=="function")return u.toJSON();const i=u,s=u.getClientExtensionResults(),l=u.response;return{id:u.id,rawId:u.id,response:{authenticatorData:Ci(new Uint8Array(l.authenticatorData)),clientDataJSON:Ci(new Uint8Array(l.clientDataJSON)),signature:Ci(new Uint8Array(l.signature)),userHandle:l.userHandle?Ci(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Vm(u){return u==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(u)}function q0(){var u,a;return!!(Vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((u=navigator?.credentials)===null||u===void 0?void 0:u.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function U1(u){try{const a=await navigator.credentials.create(u);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new mo("Browser returned unexpected credential type",a)}:{data:null,error:new mo("Empty credential response",a)}}catch(a){return{data:null,error:j1({error:a,options:u})}}}async function D1(u){try{const a=await navigator.credentials.get(u);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new mo("Browser returned unexpected credential type",a)}:{data:null,error:new mo("Empty credential response",a)}}catch(a){return{data:null,error:T1({error:a,options:u})}}}const M1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},B1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vo(...u){const a=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),i=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of u)if(l)for(const o in l){const d=l[o];if(d!==void 0)if(Array.isArray(d))s[o]=d;else if(i(d))s[o]=d;else if(a(d)){const h=s[o];a(h)?s[o]=vo(h,d):s[o]=vo(d)}else s[o]=d}return s}function L1(u,a){return vo(M1,u,a||{})}function H1(u,a){return vo(B1,u,a||{})}class q1{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:s,signal:l},o){try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!d)return{data:null,error:h};const m=l??C1.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=L1(d.webauthn.credential_options.publicKey,o?.create),{data:v,error:p}=await U1({publicKey:g,signal:m});return v?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:p}}case"request":{const g=H1(d.webauthn.credential_options.publicKey,o?.request),{data:v,error:p}=await D1(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:m}));return v?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:p}}}}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new Oi("Unexpected error in challenge",d)}}}async _verify({challengeId:a,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!i)return{data:null,error:new zs("rpId is required for WebAuthn authentication")};try{if(!q0())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:s},signal:l},{request:o});if(!d)return{data:null,error:h};const{webauthn:m}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:s,credential_response:m.credential_response}})}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new Oi("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!i)return{data:null,error:new zs("rpId is required for WebAuthn registration")};try{if(!q0())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(v=>{var p;return(p=v.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===a&&y.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:l},{create:o});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new Oi("Unexpected error in register",d)}}}}x1();const G1={url:Bb,storageKey:Lb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function G0(u,a,i){return await i()}const wr={};class Us{get jwks(){var a,i;return(i=(a=wr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=wr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{cachedAt:a})}constructor(a){var i,s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},G1),a);if(this.storageKey=o.storageKey,this.instanceID=(i=Us.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Us.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Vt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new b1({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Gm(o.fetch),this.lock=o.lock||G0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Vt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=_1:this.lock=G0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:qm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=H0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=H0(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bm}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},s="none";if(Vt()&&(i=Wb(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),Vt()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:o}=await this._getSessionFromURL(i,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Ib(o)){const m=(a=o.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:d,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return pe(i)?this._returnResult({error:i}):this._returnResult({error:new Oi("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,s,l;try{const o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=a?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=a?.options)===null||l===void 0?void 0:l.captchaToken}},xform:In}),{data:d,error:h}=o;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(a){var i,s,l;try{let o;if("email"in a){const{email:v,password:p,options:y}=a;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await yr(this.storage,this.storageKey)),o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:v,password:p,data:(i=y?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:x},xform:In})}else if("phone"in a){const{phone:v,password:p,options:y}=a;o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:p,data:(s=y?.data)!==null&&s!==void 0?s:{},channel:(l=y?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:In})}else throw new oo("You must provide either an email or phone number and a password");const{data:d,error:h}=o;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(a){try{let i;if("email"in a){const{email:o,password:d,options:h}=a;i=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:B0})}else if("phone"in a){const{phone:o,password:d,options:h}=a;i=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:B0})}else throw new oo("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const o=new vr;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,s,l,o;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=a.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=a.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,s,l,o,d,h,m,g,v,p,y;let b,x;if("message"in a)b=a.message,x=a.signature;else{const{chain:T,wallet:N,statement:j,options:$}=a;let D;if(Vt())if(typeof N=="object")D=N;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")D=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=N}const B=new URL((i=$?.url)!==null&&i!==void 0?i:window.location.href),ne=await D.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=Ym(ne[0]);let V=(s=$?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!V){const C=await D.request({method:"eth_chainId"});V=S1(C)}const O={domain:B.host,address:z,statement:j,uri:B.href,version:"1",chainId:V,nonce:(l=$?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(o=$?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=$?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=$?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=$?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=$?.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=A1(O),x=await D.request({method:"personal_sign",params:[E1(b),z]})}try{const{data:T,error:N}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((p=a.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=a.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:In});if(N)throw N;if(!T||!T.session||!T.user){const j=new vr;return this._returnResult({data:{user:null,session:null},error:j})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:N})}catch(T){if(pe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(a){var i,s,l,o,d,h,m,g,v,p,y,b;let x,T;if("message"in a)x=a.message,T=a.signature;else{const{chain:N,wallet:j,statement:$,options:D}=a;let B;if(Vt())if(typeof j=="object")B=j;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))B=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=j}const ne=new URL((i=D?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in B&&B.signIn){const z=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),$?{statement:$}:null));let V;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")V=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)V=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)x=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),T=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${ne.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(l=(s=D?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=D?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((p=(v=D?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||p===void 0)&&p.length?["Resources",...D.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const z=await B.signMessage(new TextEncoder().encode(x),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=z}}try{const{data:N,error:j}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Ci(T)},!((y=a.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=a.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:In});if(j)throw j;if(!N||!N.session||!N.user){const $=new vr;return this._returnResult({data:{user:null,session:null},error:$})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(pe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(a){const i=await Ei(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(i??"").split("/");try{const{data:o,error:d}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:In});if(await Za(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!o||!o.session||!o.user){const h=new vr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:d})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(a){try{const{options:i,provider:s,token:l,access_token:o,nonce:d}=a,h=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:o,nonce:d,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:In}),{data:m,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const v=new vr;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,s,l,o,d;try{if("email"in a){const{email:h,options:m}=a;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await yr(this.storage,this.storageKey));const{error:p}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in a){const{phone:h,options:m}=a,{data:g,error:v}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new oo("You must provide either an email or phone number.")}catch(h){if(pe(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(a){var i,s;try{let l,o;"options"in a&&(l=(i=a.options)===null||i===void 0?void 0:i.redirectTo,o=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:h}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:In});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(a){var i,s,l,o,d;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await yr(this.storage,this.storageKey));const g=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=a?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:v1});return!((o=g.data)===null||o===void 0)&&o.url&&Vt()&&!(!((d=a.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(pe(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)throw s;if(!i)throw new xn;const{error:l}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:s,type:l,options:o}=a,{error:d}=await Se(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in a){const{phone:s,type:l,options:o}=a,{data:d,error:h}=await Se(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new oo("You must provide either an email or phone number and a type")}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await Ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<Vc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const d=await Ei(this.userStorage,this.storageKey+"-user");d?.user?a.user=d.user:a.user=Xc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};a.user=f1(a.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:l,error:o}=await this._callRefreshToken(a.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ei}):await this._useSession(async i=>{var s,l,o;const{data:d,error:h}=i;if(h)throw h;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:ei})})}catch(i){if(pe(i))return Vb(i)&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async s=>{const{data:l,error:o}=s;if(o)throw o;if(!l.session)throw new xn;const d=l.session;let h=null,m=null;this.flowType==="pkce"&&a.email!=null&&([h,m]=await yr(this.storage,this.storageKey));const{data:g,error:v}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:ei});if(v)throw v;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(s){if(pe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new xn;const i=Date.now()/1e3;let s=i,l=!0,o=null;const{payload:d}=Kc(a.access_token);if(d.exp&&(s=d.exp,l=s<=i),l){const{data:h,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:m}=await this._getUser(a.access_token);if(m)throw m;o={access_token:a.access_token,refresh_token:a.refresh_token,user:h.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(i){if(pe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var s;if(!a){const{data:d,error:h}=i;if(h)throw h;a=(s=d.session)!==null&&s!==void 0?s:void 0}if(!a?.refresh_token)throw new xn;const{data:l,error:o}=await this._callRefreshToken(a.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!Vt())throw new uo("No browser detected.");if(a.error||a.error_description||a.error_code)throw new uo(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new N0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uo("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new N0("No code detected.");const{data:$,error:D}=await this._exchangeCodeForSession(a.code);if(D)throw D;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:o,refresh_token:d,expires_in:h,expires_at:m,token_type:g}=a;if(!o||!h||!d||!g)throw new uo("No session defined in URL");const v=Math.round(Date.now()/1e3),p=parseInt(h);let y=v+p;m&&(y=parseInt(m));const b=y-v;b*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const x=y-p;v-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,v):v-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,v);const{data:T,error:N}=await this._getUser(o);if(N)throw N;const j={provider_token:s,provider_refresh_token:l,access_token:o,expires_in:p,expires_at:y,refresh_token:d,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:a.type},error:null})}catch(s){if(pe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await Ei(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:l,error:o}=i;if(o)return this._returnResult({error:o});const d=(s=l.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:h}=await this.admin.signOut(d,a);if(h&&!(Yb(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return a!=="others"&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=Fb(),s={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async i=>{var s,l;try{const{data:{session:o},error:d}=i;if(d)throw d;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",a,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",o),console.error(o)}})}async resetPasswordForEmail(a,i={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await yr(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(o){if(pe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var a;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:s,error:l}=await this._useSession(async o=>{var d,h,m,g,v;const{data:p,error:y}=o;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=a.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(g=p.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return Vt()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:a.provider,url:s?.url},error:null})}catch(s){if(pe(s))return this._returnResult({data:{provider:a.provider,url:null},error:s});throw s}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var s;try{const{error:l,data:{session:o}}=i;if(l)throw l;const{options:d,provider:h,token:m,access_token:g,nonce:v}=a,p=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:m,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:In}),{data:y,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new vr}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(l){if(pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var s,l;const{data:o,error:d}=i;if(d)throw d;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(l=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await n1(async l=>(l>0&&await t1(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:In})),(l,o)=>{const d=200*Math.pow(2,l);return o&&Ic(o)&&Date.now()+d-s<Sr})}catch(s){if(this._debug(i,"error",s),pe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",s),Vt()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await Ei(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Ei(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Er(this.userStorage,this.storageKey+"-user",d)),l.user=(a=d?.user)!==null&&a!==void 0?a:Xc()}else if(l&&!l.user&&!l.user){const d=await Ei(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await Za(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,l)):l.user=Xc()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const o=((i=l.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Vc;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Vc}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Ic(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(l.access_token);!h&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var i,s;if(!a)throw new xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new jo;const{data:o,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!o.session)throw new xn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(l,"error",o),pe(o)){const d={data:null,error:o};return Ic(o)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(a,i,s=!0){const l=`#_notifyAllSubscribers(${a})`;this._debug(l,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:i});const o=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(a,i)}catch(m){o.push(m)}});if(await Promise.all(d),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const i=Object.assign({},a),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Er(this.userStorage,this.storageKey+"-user",{user:i.user});const l=Object.assign({},i);delete l.user;const o=D0(l);await Er(this.storage,this.storageKey,o)}else{const l=D0(i);await Er(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Za(this.storage,this.storageKey),await Za(this.storage,this.storageKey+"-code-verifier"),await Za(this.storage,this.storageKey+"-user"),this.userStorage&&await Za(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-a)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Sr}ms, refresh threshold is ${ld} ticks`),l<=ld&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof $m)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,s){const l=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,d]=await yr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(h.toString())}if(s?.queryParams){const o=new URLSearchParams(s.queryParams);l.push(o.toString())}return s?.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${l.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var s;const{data:l,error:o}=i;return o?this._returnResult({data:null,error:o}):await Se(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var s,l;const{data:o,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:g}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:l,error:o}=i;if(o)return this._returnResult({data:null,error:o});const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?k1(a.webauthn.credential_response):z1(a.webauthn.credential_response)})}:{code:a.code}),{data:h,error:m}=await Se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:l,error:o}=i;if(o)return this._returnResult({data:null,error:o});const d=await Se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:N1(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:R1(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:s}=await this._challenge({factorId:a.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const o of(a=i?.factors)!==null&&a!==void 0?a:[])l.all.push(o),o.status==="verified"&&l[o.factor_type].push(o);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kc(s.access_token);let d=null;o.aal&&(d=o.aal);let h=d;((i=(a=s.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const g=o.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;return l?this._returnResult({data:null,error:l}):s?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new xn})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async s=>{const{data:{session:l},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new xn});const d=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&Vt()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(a,i){try{return await this._useSession(async s=>{const{data:{session:l},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new xn});const d=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&Vt()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;return s?this._returnResult({data:null,error:s}):i?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new xn})})}catch(a){if(pe(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;return l?this._returnResult({data:null,error:l}):s?await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:a.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new xn})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let s=i.keys.find(h=>h.kid===a);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(h=>h.kid===a),s&&this.jwks_cached_at+Gb>l)return s;const{data:o,error:d}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,s=o.keys.find(h=>h.kid===a),!s)?null:s}async getClaims(a,i={}){try{let s=a;if(!s){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});s=b.session.access_token}const{header:l,payload:o,signature:d,raw:{header:h,payload:m}}=Kc(s);i?.allowExpired||u1(o.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:o,header:l,signature:d},error:null}}const v=c1(l.alg),p=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,p,d,Jb(`${h}.${m}`)))throw new cd("Invalid JWT signature");return{data:{claims:o,header:l,signature:d},error:null}}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}}Us.nextInstanceID={};const $1=Us;class Y1 extends $1{constructor(a){super(a)}}class V1{constructor(a,i,s){var l,o,d;this.supabaseUrl=a,this.supabaseKey=i;const h=Mb(a);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:Ob,realtime:Nb,auth:Object.assign(Object.assign({},Cb),{storageKey:m}),global:Tb},v=Db(s??{},g);this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=zb(i,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new Bp(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Eb(this.storageUrl.href,this.headers,this.fetch,s?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new zp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,i={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,i,s)}channel(a,i={config:{}}){return this.realtime.channel(a,i)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,i;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:i,detectSessionInUrl:s,storage:l,userStorage:o,storageKey:d,flowType:h,lock:m,debug:g,throwOnError:v},p,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y1({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:d,autoRefreshToken:a,persistSession:i,detectSessionInUrl:s,storage:l,userStorage:o,flowType:h,lock:m,debug:g,throwOnError:v,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new eb(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,s)=>{this._handleTokenChanged(i,"CLIENT",s?.access_token)})}_handleTokenChanged(a,i,s){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I1=(u,a,i)=>new V1(u,a,i);function K1(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const a=u.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}K1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const X1="https://opzqjipvwddyhzzsowoi.supabase.co",P1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wenFqaXB2d2RkeWh6enNvd29pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2Mjk3NjksImV4cCI6MjA3OTIwNTc2OX0.cKiU8zfwbzc9AFmlLOykl5Xy9-gJ52wDFr32ki0YA8I",Sn=I1(X1,P1),Q1=async u=>{const{data:a,error:i}=await Sn.from("user_data").select("id, persone, custom_relazioni, custom_event_types").maybeSingle();if(i&&i.code==="PGRST116")return"USER_NOT_FOUND";if(i)throw console.error("Errore nel fetch dei dati utente:",i),i;return a},J1=async(u,a,i)=>{try{if(a){const{data:s,error:l}=await Sn.from("user_data").update(i).eq("id",a).select().single();if(l)throw l;return s}else{const{data:s,error:l}=await Sn.from("user_data").insert([{...i,user_id:u}]).select().single();if(l)throw l;return s}}catch(s){throw console.error("Errore nel salvataggio dei dati utente:",s),s}},Z1=async(u,a)=>{try{const i=`${u}-${Date.now()}-${a.name}`,{error:s}=await Sn.storage.from("avatars").upload(i,a);if(s)throw s;const{data:l}=Sn.storage.from("avatars").getPublicUrl(i);return l.publicUrl}catch(i){throw console.error("Errore caricamento immagine:",i),i}},F1=async(u,a)=>{try{const i=`${u}-${Date.now()}-${a.name}`,{error:s}=await Sn.storage.from("gift-images").upload(i,a);if(s)throw s;const{data:l}=Sn.storage.from("gift-images").getPublicUrl(i);return l.publicUrl}catch(i){throw console.error("Errore caricamento immagine regalo:",i),i}},W1=["Amico/a","Moglie","Marito","Fidanzato/a","Pap","Mamma","Figlio/a","Fratello","Sorella","Collega"],ew=["Compleanno","Natale","Anniversario","San Valentino","Onomastico","Laurea","Epifania","Festa del Pap"],Im={default:{id:"default",name:"Classico",primary:"#4f46e5",secondary:"#f59e0b",accent:"#e0e7ff",textAccent:"#3730a3"},logo:{id:"logo",name:"Corallo",primary:"#FF7F50",secondary:"#25A79B",accent:"#FEF2F2",textAccent:"#991B1B"},ocean:{id:"ocean",name:"Oceano",primary:"#0284c7",secondary:"#06b6d4",accent:"#e0f2fe",textAccent:"#075985"},forest:{id:"forest",name:"Foresta",primary:"#059669",secondary:"#84cc16",accent:"#d1fae5",textAccent:"#064e3b"},autumn:{id:"autumn",name:"Autunno",primary:"#D97706",secondary:"#F59E0B",accent:"#FEF3C7",textAccent:"#92400E"}},js={generici:[{nome:"Buono Amazon",link:"https://www.amazon.it/s?k=buono+regalo&tag=giftminder-21",img:"img/buonoamazon.png"},{nome:"Powerbank Solare",link:"https://www.amazon.it/s?k=powerbank+solare&tag=giftminder-21",img:"img/solarpowerbank.jpeg"},{nome:"Zaino Tech",link:"https://www.amazon.it/s?k=zaino+laptop&tag=giftminder-21",img:"img/zainotech.jpeg"},{nome:"Borraccia Termica",link:"https://www.amazon.it/s?k=borraccia+termica&tag=giftminder-21",img:"img/Borraccia Termica.jpeg"},{nome:"Speaker Bluetooth",link:"https://www.amazon.it/s?k=speaker+bluetooth&tag=giftminder-21",img:"img/Speaker Bluetooth.jpeg"},{nome:"Organizer Scrivania",link:"https://www.amazon.it/s?k=organizer+scrivania&tag=giftminder-21",img:"img/Organizer Scrivania.jpeg"},{nome:"Cuscino Viaggio",link:"https://www.amazon.it/s?k=cuscino+viaggio+memory&tag=giftminder-21",img:"img/cuscinoviaggio.jpeg"},{nome:"Tazza Personalizzata",link:"https://www.amazon.it/s?k=tazza+divertente&tag=giftminder-21",img:"img/Tazza Personalizzata.jpeg"},{nome:"Caricatore Wireless",link:"https://www.amazon.it/s?k=caricatore+wireless&tag=giftminder-21",img:"img/Caricatore Wireless.jpeg"},{nome:"Agenda Moleskine",link:"https://www.amazon.it/s?k=moleskine&tag=giftminder-21",img:"img/Agenda Moleskine.jpeg"},{nome:"Penna Parker",link:"https://www.amazon.it/s?k=penna+parker&tag=giftminder-21",img:"img/penna parker.jpg"},{nome:"Set Sommelier",link:"https://www.amazon.it/s?k=set+vino&tag=giftminder-21",img:"img/Set Sommelier.jpeg"},{nome:"Diffusore Aromi",link:"https://www.amazon.it/s?k=diffusore+oli+essenziali&tag=giftminder-21",img:"img/Diffusore Aromi.jpeg"},{nome:"Lunch Box Termico",link:"https://www.amazon.it/s?k=lunch+box+porta+pranzo&tag=giftminder-21",img:"img/lunchbox.jpeg"},{nome:"Supporto Laptop",link:"https://www.amazon.it/s?k=supporto+pc+portatile&tag=giftminder-21",img:"img/Supporto Laptop.jpeg"},{nome:"Candela Profumata",link:"https://www.amazon.it/s?k=candela+profumata+regalo&tag=giftminder-21",img:"img/Candela Profumata.jpeg"},{nome:"Trousse da Viaggio",link:"https://www.amazon.it/s?k=beauty+case+viaggio&tag=giftminder-21",img:"img/Trousse da Viaggio.jpeg"},{nome:"Luce da Lettura",link:"https://www.amazon.it/s?k=luce+lettura+clip&tag=giftminder-21",img:"img/Luce da Lettura.jpg"},{nome:"Kit Coltivazione",link:"https://www.amazon.it/s?k=kit+bonsai+o+erbe&tag=giftminder-21",img:"img/Kit Coltivazione.jpeg"},{nome:"Cuffie Wireless",link:"https://www.amazon.it/s?k=cuffie+bluetooth+in+ear&tag=giftminder-21",img:"img/Cuffie Wireless.jpeg"},{nome:"Set Tagliere Formaggi",link:"https://www.amazon.it/s?k=set+tagliere+formaggi&tag=giftminder-21",img:"img/Set Tagliere Formaggi.jpeg"},{nome:"Localizzatore Chiavi",link:"https://www.amazon.it/s?k=trova+chiavi+bluetooth&tag=giftminder-21",img:"img/Localizzatore Chiavi.jpeg"}],Compleanno:[{nome:"Kindle",link:"https://www.amazon.it/s?k=kindle&tag=giftminder-21",img:"img/kindle.jpg"},{nome:"Smartwatch",link:"https://www.amazon.it/s?k=smartwatch&tag=giftminder-21",img:"img/smartwatch.jpeg"},{nome:"Cuffie Noise Cancelling",link:"https://www.amazon.it/s?k=cuffie+anc&tag=giftminder-21",img:"img/Cuffie Noise Cancelling.jpeg"},{nome:"Set Cocktail",link:"https://www.amazon.it/s?k=set+barman&tag=giftminder-21",img:"img/Set Cocktail.jpeg"},{nome:"LEGO Icons",link:"https://www.amazon.it/s?k=lego+adulti&tag=giftminder-21",img:"img/lego-icons.webp"},{nome:"Fotocamera Istantanea",link:"https://www.amazon.it/s?k=instax+mini&tag=giftminder-21",img:"img/instantcamera.jpeg"},{nome:"Massaggiatore Collo",link:"https://www.amazon.it/s?k=massaggiatore+collo&tag=giftminder-21",img:"img/Massaggiatore Collo.jpeg"},{nome:"Telescopio",link:"https://www.amazon.it/s?k=telescopio+astronomico&tag=giftminder-21",img:"img/telescopio.jpg"},{nome:"Giradischi Vintage",link:"https://www.amazon.it/s?k=giradischi&tag=giftminder-21",img:"img/Giradischi Vintage.jpg"},{nome:"Macchina Caff",link:"https://www.amazon.it/s?k=macchina+caffe+espresso&tag=giftminder-21",img:"img/Macchina Caff.jpeg"},{nome:"Drone con Telecamera",link:"https://www.amazon.it/s?k=drone&tag=giftminder-21",img:"img/Drone con Telecamera.jpeg"},{nome:"Tablet",link:"https://www.amazon.it/s?k=tablet&tag=giftminder-21",img:"img/tablet.jpg"}],Natale:[{nome:"Cesto Gourmet",link:"https://www.amazon.it/s?k=cesto+natalizio&tag=giftminder-21",img:"img/cesto gourmet.jpg"},{nome:"Luci Smart",link:"https://www.amazon.it/s?k=philips+hue&tag=giftminder-21",img:"img/luci-smart.jpg"},{nome:"Maglione Natalizio",link:"https://www.amazon.it/s?k=maglione+natale&tag=giftminder-21",img:"img/maglione natalizio.jpeg"},{nome:"Gioco da Tavolo",link:"https://www.amazon.it/s?k=giochi+da+tavolo&tag=giftminder-21",img:"img/set-giochi-tavolo.jpg"},{nome:"Candela Yankee Candle",link:"https://www.amazon.it/s?k=yankee+candle&tag=giftminder-21",img:"img/yankeecandle.jpeg"},{nome:"Coperta Ponderata",link:"https://www.amazon.it/s?k=coperta+ponderata&tag=giftminder-21",img:"img/copertaponderata.webp"},{nome:"Set Degustazione T",link:"https://www.amazon.it/s?k=set+regalo+te&tag=giftminder-21",img:"img/setthe.jpeg"},{nome:"Echo Dot",link:"https://www.amazon.it/s?k=echo+dot&tag=giftminder-21",img:"img/Echo Dot.jpeg"},{nome:"Calze Divertenti",link:"https/www.amazon.it/s?k=calze+pizza&tag=giftminder-21",img:"img/Calze Divertenti.jpeg"},{nome:"Pandoro Artigianale",link:"https://www.amazon.it/s?k=pandoro+artigianale&tag=giftminder-21",img:"img/pandoro_artigianale_serge_pandorodett_1_1000x.webp"},{nome:"Proiettore Stelle",link:"https://www.amazon.it/s?k=proiettore+galassia&tag=giftminder-21",img:"img/proiettorestelle.webp"},{nome:"Set Bombe da Bagno",link:"https://www.amazon.it/s?k=bombe+da+bagno&tag=giftminder-21",img:"img/setbombe.jpg"}],Anniversario:[{nome:"Smartbox Coppia",link:"https://www.amazon.it/s?k=smartbox+coppia&tag=giftminder-21",img:"img/Smartbox Coppia.jpeg"},{nome:"Mappa Stellare",link:"https://www.amazon.it/s?k=mappa+stellare&tag=giftminder-21",img:"img/Mappa Stellare.jpeg"},{nome:"Cornice Digitale",link:"https://www.amazon.it/s?k=cornice+digitale&tag=giftminder-21",img:"img/cornice digitale.jpg"},{nome:"Set Spa Luxury",link:"https://www.amazon.it/s?k=set+spa+regalo&tag=giftminder-21",img:"img/Set Spa Luxury.jpg"},{nome:"Proiettore Portatile",link:"https://www.amazon.it/s?k=mini+proiettore&tag=giftminder-21",img:"img/proiettore portatile.jpeg"},{nome:"Calici Vino Incisi",link:"https://www.amazon.it/s?k=calice+vino+inciso&tag=giftminder-21",img:"img/Calici Vino Incisi.webp"},{nome:"Cena a Lume di Candela",link:"https://www.amazon.it/s?k=kit+cena+romantica&tag=giftminder-21",img:"img/Cena a Lume di Candela.jpeg"},{nome:"Weekend Fuori Porta",link:"https://www.amazon.it/s?k=cofanetto+viaggio&tag=giftminder-21",img:"img/Weekend Fuori Porta.jpeg"}],"San Valentino":[{nome:"Cioccolatini Luxury",link:"https://www.amazon.it/s?k=cioccolatini+regalo&tag=giftminder-21",img:"img/Cioccolatini Luxury.jpeg"},{nome:"Album Foto",link:"https://www.amazon.it/s?k=album+foto+coppia&tag=giftminder-21",img:"img/album-foto.webp"},{nome:"Orso di Rose",link:"https://www.amazon.it/s?k=orso+rose&tag=giftminder-21",img:"img/Orso di Rose.jpeg"},{nome:"Gioiello Personalizzato",link:"https://www.amazon.it/s?k=collana+nome&tag=giftminder-21",img:"img/Gioiello Personalizzato.jpg"},{nome:"Cuscino Cuore",link:"https://www.amazon.it/s?k=cuscino+cuore&tag=giftminder-21",img:"img/Cuscino Cuore.jpeg"},{nome:"Chiave del Cuore",link:"https://www.amazon.it/s?k=portachiavi+coppia&tag=giftminder-21",img:"img/Chiave del Cuore.jpeg"}],Laurea:[{nome:"Penna Stilografica",link:"https://www.amazon.it/s?k=penna+stilografica&tag=giftminder-21",img:"img/Penna Stilografica.jpeg"},{nome:"Borsa Ventiquattrore",link:"https://www.amazon.it/s?k=borsa+lavoro+pelle&tag=giftminder-21",img:"img/Borsa Ventiquattrore.jpeg"},{nome:"Smartwatch Elegante",link:"https://www.amazon.it/s?k=smartwatch+elegante&tag=giftminder-21",img:"img/Smartwatch Elegante.jpeg"}]};function tw(u,a){return a.forEach((function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach((function(s){if(s!=="default"&&!(s in u)){var l=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(u,s,l.get?l:{enumerable:!0,get:function(){return i[s]}})}}))})),Object.freeze(u)}function Km(u,a){return new Promise((function(i,s){let l;return nw(u).then((function(o){try{return l=o,i(new Blob([a.slice(0,2),l,a.slice(2)],{type:"image/jpeg"}))}catch(d){return s(d)}}),s)}))}const nw=u=>new Promise(((a,i)=>{const s=new FileReader;s.addEventListener("load",(({target:{result:l}})=>{const o=new DataView(l);let d=0;if(o.getUint16(d)!==65496)return i("not a valid JPEG");for(d+=2;;){const h=o.getUint16(d);if(h===65498)break;const m=o.getUint16(d+2);if(h===65505&&o.getUint32(d+4)===1165519206){const g=d+10;let v;switch(o.getUint16(g)){case 18761:v=!0;break;case 19789:v=!1;break;default:return i("TIFF header contains invalid endian")}if(o.getUint16(g+2,v)!==42)return i("TIFF header contains invalid version");const p=o.getUint32(g+4,v),y=g+p+2+12*o.getUint16(g+p,v);for(let b=g+p+2;b<y;b+=12)if(o.getUint16(b,v)==274){if(o.getUint16(b+2,v)!==3)return i("Orientation data type is invalid");if(o.getUint32(b+4,v)!==1)return i("Orientation data count is invalid");o.setUint16(b+8,1,v);break}return a(l.slice(d,d+2+m))}d+=2+m}return a(new Blob)})),s.readAsArrayBuffer(u)}));var yo={},aw={get exports(){return yo},set exports(u){yo=u}};(function(u){var a,i,s={};aw.exports=s,s.parse=function(l,o){for(var d=s.bin.readUshort,h=s.bin.readUint,m=0,g={},v=new Uint8Array(l),p=v.length-4;h(v,p)!=101010256;)p--;m=p,m+=4;var y=d(v,m+=4);d(v,m+=2);var b=h(v,m+=2),x=h(v,m+=4);m+=4,m=x;for(var T=0;T<y;T++){h(v,m),m+=4,m+=4,m+=4,h(v,m+=4),b=h(v,m+=4);var N=h(v,m+=4),j=d(v,m+=4),$=d(v,m+2),D=d(v,m+4);m+=6;var B=h(v,m+=8);m+=4,m+=j+$+D,s._readLocal(v,B,g,b,N,o)}return g},s._readLocal=function(l,o,d,h,m,g){var v=s.bin.readUshort,p=s.bin.readUint;p(l,o),v(l,o+=4),v(l,o+=2);var y=v(l,o+=2);p(l,o+=2),p(l,o+=4),o+=4;var b=v(l,o+=8),x=v(l,o+=2);o+=2;var T=s.bin.readUTF8(l,o,b);if(o+=b,o+=x,g)d[T]={size:m,csize:h};else{var N=new Uint8Array(l.buffer,o);if(y==0)d[T]=new Uint8Array(N.buffer.slice(o,o+h));else{if(y!=8)throw"unknown compression method: "+y;var j=new Uint8Array(m);s.inflateRaw(N,j),d[T]=j}}},s.inflateRaw=function(l,o){return s.F.inflate(l,o)},s.inflate=function(l,o){return l[0],l[1],s.inflateRaw(new Uint8Array(l.buffer,l.byteOffset+2,l.length-6),o)},s.deflate=function(l,o){o==null&&(o={level:6});var d=0,h=new Uint8Array(50+Math.floor(1.1*l.length));h[d]=120,h[d+1]=156,d+=2,d=s.F.deflateRaw(l,h,d,o.level);var m=s.adler(l,0,l.length);return h[d+0]=m>>>24&255,h[d+1]=m>>>16&255,h[d+2]=m>>>8&255,h[d+3]=m>>>0&255,new Uint8Array(h.buffer,0,d+4)},s.deflateRaw=function(l,o){o==null&&(o={level:6});var d=new Uint8Array(50+Math.floor(1.1*l.length)),h=s.F.deflateRaw(l,d,h,o.level);return new Uint8Array(d.buffer,0,h)},s.encode=function(l,o){o==null&&(o=!1);var d=0,h=s.bin.writeUint,m=s.bin.writeUshort,g={};for(var v in l){var p=!s._noNeed(v)&&!o,y=l[v],b=s.crc.crc(y,0,y.length);g[v]={cpr:p,usize:y.length,crc:b,file:p?s.deflateRaw(y):y}}for(var v in g)d+=g[v].file.length+30+46+2*s.bin.sizeUTF8(v);d+=22;var x=new Uint8Array(d),T=0,N=[];for(var v in g){var j=g[v];N.push(T),T=s._writeHeader(x,T,v,j,0)}var $=0,D=T;for(var v in g)j=g[v],N.push(T),T=s._writeHeader(x,T,v,j,1,N[$++]);var B=T-D;return h(x,T,101010256),T+=4,m(x,T+=4,$),m(x,T+=2,$),h(x,T+=2,B),h(x,T+=4,D),T+=4,T+=2,x.buffer},s._noNeed=function(l){var o=l.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},s._writeHeader=function(l,o,d,h,m,g){var v=s.bin.writeUint,p=s.bin.writeUshort,y=h.file;return v(l,o,m==0?67324752:33639248),o+=4,m==1&&(o+=2),p(l,o,20),p(l,o+=2,0),p(l,o+=2,h.cpr?8:0),v(l,o+=2,0),v(l,o+=4,h.crc),v(l,o+=4,y.length),v(l,o+=4,h.usize),p(l,o+=4,s.bin.sizeUTF8(d)),p(l,o+=2,0),o+=2,m==1&&(o+=2,o+=2,v(l,o+=6,g),o+=4),o+=s.bin.writeUTF8(l,o,d),m==0&&(l.set(y,o),o+=y.length),o},s.crc={table:(function(){for(var l=new Uint32Array(256),o=0;o<256;o++){for(var d=o,h=0;h<8;h++)1&d?d=3988292384^d>>>1:d>>>=1;l[o]=d}return l})(),update:function(l,o,d,h){for(var m=0;m<h;m++)l=s.crc.table[255&(l^o[d+m])]^l>>>8;return l},crc:function(l,o,d){return 4294967295^s.crc.update(4294967295,l,o,d)}},s.adler=function(l,o,d){for(var h=1,m=0,g=o,v=o+d;g<v;){for(var p=Math.min(g+5552,v);g<p;)m+=h+=l[g++];h%=65521,m%=65521}return m<<16|h},s.bin={readUshort:function(l,o){return l[o]|l[o+1]<<8},writeUshort:function(l,o,d){l[o]=255&d,l[o+1]=d>>8&255},readUint:function(l,o){return 16777216*l[o+3]+(l[o+2]<<16|l[o+1]<<8|l[o])},writeUint:function(l,o,d){l[o]=255&d,l[o+1]=d>>8&255,l[o+2]=d>>16&255,l[o+3]=d>>24&255},readASCII:function(l,o,d){for(var h="",m=0;m<d;m++)h+=String.fromCharCode(l[o+m]);return h},writeASCII:function(l,o,d){for(var h=0;h<d.length;h++)l[o+h]=d.charCodeAt(h)},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,o,d){for(var h,m="",g=0;g<d;g++)m+="%"+s.bin.pad(l[o+g].toString(16));try{h=decodeURIComponent(m)}catch{return s.bin.readASCII(l,o,d)}return h},writeUTF8:function(l,o,d){for(var h=d.length,m=0,g=0;g<h;g++){var v=d.charCodeAt(g);if((4294967168&v)==0)l[o+m]=v,m++;else if((4294965248&v)==0)l[o+m]=192|v>>6,l[o+m+1]=128|v>>0&63,m+=2;else if((4294901760&v)==0)l[o+m]=224|v>>12,l[o+m+1]=128|v>>6&63,l[o+m+2]=128|v>>0&63,m+=3;else{if((4292870144&v)!=0)throw"e";l[o+m]=240|v>>18,l[o+m+1]=128|v>>12&63,l[o+m+2]=128|v>>6&63,l[o+m+3]=128|v>>0&63,m+=4}}return m},sizeUTF8:function(l){for(var o=l.length,d=0,h=0;h<o;h++){var m=l.charCodeAt(h);if((4294967168&m)==0)d++;else if((4294965248&m)==0)d+=2;else if((4294901760&m)==0)d+=3;else{if((4292870144&m)!=0)throw"e";d+=4}}return d}},s.F={},s.F.deflateRaw=function(l,o,d,h){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][h],g=s.F.U,v=s.F._goodIndex;s.F._hash;var p=s.F._putsE,y=0,b=d<<3,x=0,T=l.length;if(h==0){for(;y<T;)p(o,b,y+(G=Math.min(65535,T-y))==T?1:0),b=s.F._copyExact(l,y,G,o,b+8),y+=G;return b>>>3}var N=g.lits,j=g.strt,$=g.prev,D=0,B=0,ne=0,z=0,V=0,O=0;for(T>2&&(j[O=s.F._hash(l,0)]=0),y=0;y<T;y++){if(V=O,y+1<T-2){O=s.F._hash(l,y+1);var C=y+1&32767;$[C]=j[O],j[O]=C}if(x<=y){(D>14e3||B>26697)&&T-y>100&&(x<y&&(N[D]=y-x,D+=2,x=y),b=s.F._writeBlock(y==T-1||x==T?1:0,N,D,z,l,ne,y-ne,o,b),D=B=z=0,ne=y);var q=0;y<T-2&&(q=s.F._bestMatch(l,y,$,V,Math.min(m[2],T-y),m[3]));var G=q>>>16,k=65535&q;if(q!=0){k=65535&q;var K=v(G=q>>>16,g.of0);g.lhst[257+K]++;var H=v(k,g.df0);g.dhst[H]++,z+=g.exb[K]+g.dxb[H],N[D]=G<<23|y-x,N[D+1]=k<<16|K<<8|H,D+=2,x=y+G}else g.lhst[l[y]]++;B++}}for(ne==y&&l.length!=0||(x<y&&(N[D]=y-x,D+=2,x=y),b=s.F._writeBlock(1,N,D,z,l,ne,y-ne,o,b),D=0,B=0,D=B=z=0,ne=y);(7&b)!=0;)b++;return b>>>3},s.F._bestMatch=function(l,o,d,h,m,g){var v=32767&o,p=d[v],y=v-p+32768&32767;if(p==v||h!=s.F._hash(l,o-y))return 0;for(var b=0,x=0,T=Math.min(32767,o);y<=T&&--g!=0&&p!=v;){if(b==0||l[o+b]==l[o+b-y]){var N=s.F._howLong(l,o,y);if(N>b){if(x=y,(b=N)>=m)break;y+2<N&&(N=y+2);for(var j=0,$=0;$<N-2;$++){var D=o-y+$+32768&32767,B=D-d[D]+32768&32767;B>j&&(j=B,p=D)}}}y+=(v=p)-(p=d[v])+32768&32767}return b<<16|x},s.F._howLong=function(l,o,d){if(l[o]!=l[o-d]||l[o+1]!=l[o+1-d]||l[o+2]!=l[o+2-d])return 0;var h=o,m=Math.min(l.length,o+258);for(o+=3;o<m&&l[o]==l[o-d];)o++;return o-h},s.F._hash=function(l,o){return(l[o]<<8|l[o+1])+(l[o+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(l,o,d,h,m,g,v,p,y){var b,x,T,N,j,$,D,B,ne,z=s.F.U,V=s.F._putsF,O=s.F._putsE;z.lhst[256]++,x=(b=s.F.getTrees())[0],T=b[1],N=b[2],j=b[3],$=b[4],D=b[5],B=b[6],ne=b[7];var C=32+((y+3&7)==0?0:8-(y+3&7))+(v<<3),q=h+s.F.contSize(z.fltree,z.lhst)+s.F.contSize(z.fdtree,z.dhst),G=h+s.F.contSize(z.ltree,z.lhst)+s.F.contSize(z.dtree,z.dhst);G+=14+3*D+s.F.contSize(z.itree,z.ihst)+(2*z.ihst[16]+3*z.ihst[17]+7*z.ihst[18]);for(var k=0;k<286;k++)z.lhst[k]=0;for(k=0;k<30;k++)z.dhst[k]=0;for(k=0;k<19;k++)z.ihst[k]=0;var K=C<q&&C<G?0:q<G?1:2;if(V(p,y,l),V(p,y+1,K),y+=3,K==0){for(;(7&y)!=0;)y++;y=s.F._copyExact(m,g,v,p,y)}else{var H,Q;if(K==1&&(H=z.fltree,Q=z.fdtree),K==2){s.F.makeCodes(z.ltree,x),s.F.revCodes(z.ltree,x),s.F.makeCodes(z.dtree,T),s.F.revCodes(z.dtree,T),s.F.makeCodes(z.itree,N),s.F.revCodes(z.itree,N),H=z.ltree,Q=z.dtree,O(p,y,j-257),O(p,y+=5,$-1),O(p,y+=5,D-4),y+=4;for(var S=0;S<D;S++)O(p,y+3*S,z.itree[1+(z.ordr[S]<<1)]);y+=3*D,y=s.F._codeTiny(B,z.itree,p,y),y=s.F._codeTiny(ne,z.itree,p,y)}for(var E=g,W=0;W<d;W+=2){for(var I=o[W],te=I>>>23,R=E+(8388607&I);E<R;)y=s.F._writeLit(m[E++],H,p,y);if(te!=0){var U=o[W+1],F=U>>16,P=U>>8&255,X=255&U;O(p,y=s.F._writeLit(257+P,H,p,y),te-z.of0[P]),y+=z.exb[P],V(p,y=s.F._writeLit(X,Q,p,y),F-z.df0[X]),y+=z.dxb[X],E+=te}}y=s.F._writeLit(256,H,p,y)}return y},s.F._copyExact=function(l,o,d,h,m){var g=m>>>3;return h[g]=d,h[g+1]=d>>>8,h[g+2]=255-h[g],h[g+3]=255-h[g+1],g+=4,h.set(new Uint8Array(l.buffer,o,d),g),m+(d+4<<3)},s.F.getTrees=function(){for(var l=s.F.U,o=s.F._hufTree(l.lhst,l.ltree,15),d=s.F._hufTree(l.dhst,l.dtree,15),h=[],m=s.F._lenCodes(l.ltree,h),g=[],v=s.F._lenCodes(l.dtree,g),p=0;p<h.length;p+=2)l.ihst[h[p]]++;for(p=0;p<g.length;p+=2)l.ihst[g[p]]++;for(var y=s.F._hufTree(l.ihst,l.itree,7),b=19;b>4&&l.itree[1+(l.ordr[b-1]<<1)]==0;)b--;return[o,d,y,m,v,b,h,g]},s.F.getSecond=function(l){for(var o=[],d=0;d<l.length;d+=2)o.push(l[d+1]);return o},s.F.nonZero=function(l){for(var o="",d=0;d<l.length;d+=2)l[d+1]!=0&&(o+=(d>>1)+",");return o},s.F.contSize=function(l,o){for(var d=0,h=0;h<o.length;h++)d+=o[h]*l[1+(h<<1)];return d},s.F._codeTiny=function(l,o,d,h){for(var m=0;m<l.length;m+=2){var g=l[m],v=l[m+1];h=s.F._writeLit(g,o,d,h);var p=g==16?2:g==17?3:7;g>15&&(s.F._putsE(d,h,v,p),h+=p)}return h},s.F._lenCodes=function(l,o){for(var d=l.length;d!=2&&l[d-1]==0;)d-=2;for(var h=0;h<d;h+=2){var m=l[h+1],g=h+3<d?l[h+3]:-1,v=h+5<d?l[h+5]:-1,p=h==0?-1:l[h-1];if(m==0&&g==m&&v==m){for(var y=h+5;y+2<d&&l[y+2]==m;)y+=2;(b=Math.min(y+1-h>>>1,138))<11?o.push(17,b-3):o.push(18,b-11),h+=2*b-2}else if(m==p&&g==m&&v==m){for(y=h+5;y+2<d&&l[y+2]==m;)y+=2;var b=Math.min(y+1-h>>>1,6);o.push(16,b-3),h+=2*b-2}else o.push(m,0)}return d>>>1},s.F._hufTree=function(l,o,d){var h=[],m=l.length,g=o.length,v=0;for(v=0;v<g;v+=2)o[v]=0,o[v+1]=0;for(v=0;v<m;v++)l[v]!=0&&h.push({lit:v,f:l[v]});var p=h.length,y=h.slice(0);if(p==0)return 0;if(p==1){var b=h[0].lit;return y=b==0?1:0,o[1+(b<<1)]=1,o[1+(y<<1)]=1,1}h.sort((function(B,ne){return B.f-ne.f}));var x=h[0],T=h[1],N=0,j=1,$=2;for(h[0]={lit:-1,f:x.f+T.f,l:x,r:T,d:0};j!=p-1;)x=N!=j&&($==p||h[N].f<h[$].f)?h[N++]:h[$++],T=N!=j&&($==p||h[N].f<h[$].f)?h[N++]:h[$++],h[j++]={lit:-1,f:x.f+T.f,l:x,r:T};var D=s.F.setDepth(h[j-1],0);for(D>d&&(s.F.restrictDepth(y,d,D),D=d),v=0;v<p;v++)o[1+(y[v].lit<<1)]=y[v].d;return D},s.F.setDepth=function(l,o){return l.lit!=-1?(l.d=o,o):Math.max(s.F.setDepth(l.l,o+1),s.F.setDepth(l.r,o+1))},s.F.restrictDepth=function(l,o,d){var h=0,m=1<<d-o,g=0;for(l.sort((function(p,y){return y.d==p.d?p.f-y.f:y.d-p.d})),h=0;h<l.length&&l[h].d>o;h++){var v=l[h].d;l[h].d=o,g+=m-(1<<d-v)}for(g>>>=d-o;g>0;)(v=l[h].d)<o?(l[h].d++,g-=1<<o-v-1):h++;for(;h>=0;h--)l[h].d==o&&g<0&&(l[h].d--,g++);g!=0&&console.log("debt left")},s.F._goodIndex=function(l,o){var d=0;return o[16|d]<=l&&(d|=16),o[8|d]<=l&&(d|=8),o[4|d]<=l&&(d|=4),o[2|d]<=l&&(d|=2),o[1|d]<=l&&(d|=1),d},s.F._writeLit=function(l,o,d,h){return s.F._putsF(d,h,o[l<<1]),h+o[1+(l<<1)]},s.F.inflate=function(l,o){var d=Uint8Array;if(l[0]==3&&l[1]==0)return o||new d(0);var h=s.F,m=h._bitsF,g=h._bitsE,v=h._decodeTiny,p=h.makeCodes,y=h.codes2map,b=h._get17,x=h.U,T=o==null;T&&(o=new d(l.length>>>2<<3));for(var N,j,$=0,D=0,B=0,ne=0,z=0,V=0,O=0,C=0,q=0;$==0;)if($=m(l,q,1),D=m(l,q+1,2),q+=3,D!=0){if(T&&(o=s.F._check(o,C+(1<<17))),D==1&&(N=x.flmap,j=x.fdmap,V=511,O=31),D==2){B=g(l,q,5)+257,ne=g(l,q+5,5)+1,z=g(l,q+10,4)+4,q+=14;for(var G=0;G<38;G+=2)x.itree[G]=0,x.itree[G+1]=0;var k=1;for(G=0;G<z;G++){var K=g(l,q+3*G,3);x.itree[1+(x.ordr[G]<<1)]=K,K>k&&(k=K)}q+=3*z,p(x.itree,k),y(x.itree,k,x.imap),N=x.lmap,j=x.dmap,q=v(x.imap,(1<<k)-1,B+ne,l,q,x.ttree);var H=h._copyOut(x.ttree,0,B,x.ltree);V=(1<<H)-1;var Q=h._copyOut(x.ttree,B,ne,x.dtree);O=(1<<Q)-1,p(x.ltree,H),y(x.ltree,H,N),p(x.dtree,Q),y(x.dtree,Q,j)}for(;;){var S=N[b(l,q)&V];q+=15&S;var E=S>>>4;if(!(E>>>8))o[C++]=E;else{if(E==256)break;var W=C+E-254;if(E>264){var I=x.ldef[E-257];W=C+(I>>>3)+g(l,q,7&I),q+=7&I}var te=j[b(l,q)&O];q+=15&te;var R=te>>>4,U=x.ddef[R],F=(U>>>4)+m(l,q,15&U);for(q+=15&U,T&&(o=s.F._check(o,C+(1<<17)));C<W;)o[C]=o[C++-F],o[C]=o[C++-F],o[C]=o[C++-F],o[C]=o[C++-F];C=W}}}else{(7&q)!=0&&(q+=8-(7&q));var P=4+(q>>>3),X=l[P-4]|l[P-3]<<8;T&&(o=s.F._check(o,C+X)),o.set(new d(l.buffer,l.byteOffset+P,X),C),q=P+X<<3,C+=X}return o.length==C?o:o.slice(0,C)},s.F._check=function(l,o){var d=l.length;if(o<=d)return l;var h=new Uint8Array(Math.max(d<<1,o));return h.set(l,0),h},s.F._decodeTiny=function(l,o,d,h,m,g){for(var v=s.F._bitsE,p=s.F._get17,y=0;y<d;){var b=l[p(h,m)&o];m+=15&b;var x=b>>>4;if(x<=15)g[y]=x,y++;else{var T=0,N=0;x==16?(N=3+v(h,m,2),m+=2,T=g[y-1]):x==17?(N=3+v(h,m,3),m+=3):x==18&&(N=11+v(h,m,7),m+=7);for(var j=y+N;y<j;)g[y]=T,y++}}return m},s.F._copyOut=function(l,o,d,h){for(var m=0,g=0,v=h.length>>>1;g<d;){var p=l[g+o];h[g<<1]=0,h[1+(g<<1)]=p,p>m&&(m=p),g++}for(;g<v;)h[g<<1]=0,h[1+(g<<1)]=0,g++;return m},s.F.makeCodes=function(l,o){for(var d,h,m,g,v=s.F.U,p=l.length,y=v.bl_count,b=0;b<=o;b++)y[b]=0;for(b=1;b<p;b+=2)y[l[b]]++;var x=v.next_code;for(d=0,y[0]=0,h=1;h<=o;h++)d=d+y[h-1]<<1,x[h]=d;for(m=0;m<p;m+=2)(g=l[m+1])!=0&&(l[m]=x[g],x[g]++)},s.F.codes2map=function(l,o,d){for(var h=l.length,m=s.F.U.rev15,g=0;g<h;g+=2)if(l[g+1]!=0)for(var v=g>>1,p=l[g+1],y=v<<4|p,b=o-p,x=l[g]<<b,T=x+(1<<b);x!=T;)d[m[x]>>>15-o]=y,x++},s.F.revCodes=function(l,o){for(var d=s.F.U.rev15,h=15-o,m=0;m<l.length;m+=2){var g=l[m]<<o-l[m+1];l[m]=d[g]>>>h}},s.F._putsE=function(l,o,d){d<<=7&o;var h=o>>>3;l[h]|=d,l[h+1]|=d>>>8},s.F._putsF=function(l,o,d){d<<=7&o;var h=o>>>3;l[h]|=d,l[h+1]|=d>>>8,l[h+2]|=d>>>16},s.F._bitsE=function(l,o,d){return(l[o>>>3]|l[1+(o>>>3)]<<8)>>>(7&o)&(1<<d)-1},s.F._bitsF=function(l,o,d){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16)>>>(7&o)&(1<<d)-1},s.F._get17=function(l,o){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16)>>>(7&o)},s.F._get25=function(l,o){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16|l[3+(o>>>3)]<<24)>>>(7&o)},s.F.U=(a=Uint16Array,i=Uint32Array,{next_code:new a(16),bl_count:new a(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new a(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new a(512),fltree:[],fdmap:new a(32),fdtree:[],lmap:new a(32768),ltree:[],ttree:[],dmap:new a(32768),dtree:[],imap:new a(512),itree:[],rev15:new a(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new a(65536),prev:new a(32768)}),(function(){for(var l=s.F.U,o=0;o<32768;o++){var d=o;d=(4278255360&(d=(4042322160&(d=(3435973836&(d=(2863311530&d)>>>1|(1431655765&d)<<1))>>>2|(858993459&d)<<2))>>>4|(252645135&d)<<4))>>>8|(16711935&d)<<8,l.rev15[o]=(d>>>16|d<<16)>>>17}function h(m,g,v){for(;g--!=0;)m.push(0,v)}for(o=0;o<32;o++)l.ldef[o]=l.of0[o]<<3|l.exb[o],l.ddef[o]=l.df0[o]<<4|l.dxb[o];h(l.fltree,144,8),h(l.fltree,112,9),h(l.fltree,24,7),h(l.fltree,8,8),s.F.makeCodes(l.fltree,9),s.F.codes2map(l.fltree,9,l.flmap),s.F.revCodes(l.fltree,9),h(l.fdtree,32,5),s.F.makeCodes(l.fdtree,5),s.F.codes2map(l.fdtree,5,l.fdmap),s.F.revCodes(l.fdtree,5),h(l.itree,19,0),h(l.ltree,286,0),h(l.dtree,30,0),h(l.ttree,320,0)})()})();var iw=tw({__proto__:null,default:yo},[yo]);const Kn=(function(){var u={nextZero(v,p){for(;v[p]!=0;)p++;return p},readUshort:(v,p)=>v[p]<<8|v[p+1],writeUshort(v,p,y){v[p]=y>>8&255,v[p+1]=255&y},readUint:(v,p)=>16777216*v[p]+(v[p+1]<<16|v[p+2]<<8|v[p+3]),writeUint(v,p,y){v[p]=y>>24&255,v[p+1]=y>>16&255,v[p+2]=y>>8&255,v[p+3]=255&y},readASCII(v,p,y){let b="";for(let x=0;x<y;x++)b+=String.fromCharCode(v[p+x]);return b},writeASCII(v,p,y){for(let b=0;b<y.length;b++)v[p+b]=y.charCodeAt(b)},readBytes(v,p,y){const b=[];for(let x=0;x<y;x++)b.push(v[p+x]);return b},pad:v=>v.length<2?`0${v}`:v,readUTF8(v,p,y){let b,x="";for(let T=0;T<y;T++)x+=`%${u.pad(v[p+T].toString(16))}`;try{b=decodeURIComponent(x)}catch{return u.readASCII(v,p,y)}return b}};function a(v,p,y,b){const x=p*y,T=o(b),N=Math.ceil(p*T/8),j=new Uint8Array(4*x),$=new Uint32Array(j.buffer),{ctype:D}=b,{depth:B}=b,ne=u.readUshort;if(D==6){const I=x<<2;if(B==8)for(var z=0;z<I;z+=4)j[z]=v[z],j[z+1]=v[z+1],j[z+2]=v[z+2],j[z+3]=v[z+3];if(B==16)for(z=0;z<I;z++)j[z]=v[z<<1]}else if(D==2){const I=b.tabs.tRNS;if(I==null){if(B==8)for(z=0;z<x;z++){var V=3*z;$[z]=255<<24|v[V+2]<<16|v[V+1]<<8|v[V]}if(B==16)for(z=0;z<x;z++)V=6*z,$[z]=255<<24|v[V+4]<<16|v[V+2]<<8|v[V]}else{var O=I[0];const te=I[1],R=I[2];if(B==8)for(z=0;z<x;z++){var C=z<<2;V=3*z,$[z]=255<<24|v[V+2]<<16|v[V+1]<<8|v[V],v[V]==O&&v[V+1]==te&&v[V+2]==R&&(j[C+3]=0)}if(B==16)for(z=0;z<x;z++)C=z<<2,V=6*z,$[z]=255<<24|v[V+4]<<16|v[V+2]<<8|v[V],ne(v,V)==O&&ne(v,V+2)==te&&ne(v,V+4)==R&&(j[C+3]=0)}}else if(D==3){const I=b.tabs.PLTE,te=b.tabs.tRNS,R=te?te.length:0;if(B==1)for(var q=0;q<y;q++){var G=q*N,k=q*p;for(z=0;z<p;z++){C=k+z<<2;var K=3*(H=v[G+(z>>3)]>>7-((7&z)<<0)&1);j[C]=I[K],j[C+1]=I[K+1],j[C+2]=I[K+2],j[C+3]=H<R?te[H]:255}}if(B==2)for(q=0;q<y;q++)for(G=q*N,k=q*p,z=0;z<p;z++)C=k+z<<2,K=3*(H=v[G+(z>>2)]>>6-((3&z)<<1)&3),j[C]=I[K],j[C+1]=I[K+1],j[C+2]=I[K+2],j[C+3]=H<R?te[H]:255;if(B==4)for(q=0;q<y;q++)for(G=q*N,k=q*p,z=0;z<p;z++)C=k+z<<2,K=3*(H=v[G+(z>>1)]>>4-((1&z)<<2)&15),j[C]=I[K],j[C+1]=I[K+1],j[C+2]=I[K+2],j[C+3]=H<R?te[H]:255;if(B==8)for(z=0;z<x;z++){var H;C=z<<2,K=3*(H=v[z]),j[C]=I[K],j[C+1]=I[K+1],j[C+2]=I[K+2],j[C+3]=H<R?te[H]:255}}else if(D==4){if(B==8)for(z=0;z<x;z++){C=z<<2;var Q=v[S=z<<1];j[C]=Q,j[C+1]=Q,j[C+2]=Q,j[C+3]=v[S+1]}if(B==16)for(z=0;z<x;z++){var S;C=z<<2,Q=v[S=z<<2],j[C]=Q,j[C+1]=Q,j[C+2]=Q,j[C+3]=v[S+2]}}else if(D==0)for(O=b.tabs.tRNS?b.tabs.tRNS:-1,q=0;q<y;q++){const I=q*N,te=q*p;if(B==1)for(var E=0;E<p;E++){var W=(Q=255*(v[I+(E>>>3)]>>>7-(7&E)&1))==255*O?0:255;$[te+E]=W<<24|Q<<16|Q<<8|Q}else if(B==2)for(E=0;E<p;E++)W=(Q=85*(v[I+(E>>>2)]>>>6-((3&E)<<1)&3))==85*O?0:255,$[te+E]=W<<24|Q<<16|Q<<8|Q;else if(B==4)for(E=0;E<p;E++)W=(Q=17*(v[I+(E>>>1)]>>>4-((1&E)<<2)&15))==17*O?0:255,$[te+E]=W<<24|Q<<16|Q<<8|Q;else if(B==8)for(E=0;E<p;E++)W=(Q=v[I+E])==O?0:255,$[te+E]=W<<24|Q<<16|Q<<8|Q;else if(B==16)for(E=0;E<p;E++)Q=v[I+(E<<1)],W=ne(v,I+(E<<1))==O?0:255,$[te+E]=W<<24|Q<<16|Q<<8|Q}return j}function i(v,p,y,b){const x=o(v),T=Math.ceil(y*x/8),N=new Uint8Array((T+1+v.interlace)*b);return p=v.tabs.CgBI?l(p,N):s(p,N),v.interlace==0?p=d(p,v,0,y,b):v.interlace==1&&(p=(function($,D){const B=D.width,ne=D.height,z=o(D),V=z>>3,O=Math.ceil(B*z/8),C=new Uint8Array(ne*O);let q=0;const G=[0,0,4,0,2,0,1],k=[0,4,0,2,0,1,0],K=[8,8,8,4,4,2,2],H=[8,8,4,4,2,2,1];let Q=0;for(;Q<7;){const E=K[Q],W=H[Q];let I=0,te=0,R=G[Q];for(;R<ne;)R+=E,te++;let U=k[Q];for(;U<B;)U+=W,I++;const F=Math.ceil(I*z/8);d($,D,q,I,te);let P=0,X=G[Q];for(;X<ne;){let ue=k[Q],ye=q+P*F<<3;for(;ue<B;){var S;if(z==1&&(S=(S=$[ye>>3])>>7-(7&ye)&1,C[X*O+(ue>>3)]|=S<<7-((7&ue)<<0)),z==2&&(S=(S=$[ye>>3])>>6-(7&ye)&3,C[X*O+(ue>>2)]|=S<<6-((3&ue)<<1)),z==4&&(S=(S=$[ye>>3])>>4-(7&ye)&15,C[X*O+(ue>>1)]|=S<<4-((1&ue)<<2)),z>=8){const Ee=X*O+ue*V;for(let be=0;be<V;be++)C[Ee+be]=$[(ye>>3)+be]}ye+=z,ue+=W}P++,X+=E}I*te!=0&&(q+=te*(1+F)),Q+=1}return C})(p,v)),p}function s(v,p){return l(new Uint8Array(v.buffer,2,v.length-6),p)}var l=(function(){const v={H:{}};return v.H.N=function(p,y){const b=Uint8Array;let x,T,N=0,j=0,$=0,D=0,B=0,ne=0,z=0,V=0,O=0;if(p[0]==3&&p[1]==0)return y||new b(0);const C=v.H,q=C.b,G=C.e,k=C.R,K=C.n,H=C.A,Q=C.Z,S=C.m,E=y==null;for(E&&(y=new b(p.length>>>2<<5));N==0;)if(N=q(p,O,1),j=q(p,O+1,2),O+=3,j!=0){if(E&&(y=v.H.W(y,V+(1<<17))),j==1&&(x=S.J,T=S.h,ne=511,z=31),j==2){$=G(p,O,5)+257,D=G(p,O+5,5)+1,B=G(p,O+10,4)+4,O+=14;let I=1;for(var W=0;W<38;W+=2)S.Q[W]=0,S.Q[W+1]=0;for(W=0;W<B;W++){const U=G(p,O+3*W,3);S.Q[1+(S.X[W]<<1)]=U,U>I&&(I=U)}O+=3*B,K(S.Q,I),H(S.Q,I,S.u),x=S.w,T=S.d,O=k(S.u,(1<<I)-1,$+D,p,O,S.v);const te=C.V(S.v,0,$,S.C);ne=(1<<te)-1;const R=C.V(S.v,$,D,S.D);z=(1<<R)-1,K(S.C,te),H(S.C,te,x),K(S.D,R),H(S.D,R,T)}for(;;){const I=x[Q(p,O)&ne];O+=15&I;const te=I>>>4;if(!(te>>>8))y[V++]=te;else{if(te==256)break;{let R=V+te-254;if(te>264){const ue=S.q[te-257];R=V+(ue>>>3)+G(p,O,7&ue),O+=7&ue}const U=T[Q(p,O)&z];O+=15&U;const F=U>>>4,P=S.c[F],X=(P>>>4)+q(p,O,15&P);for(O+=15&P;V<R;)y[V]=y[V++-X],y[V]=y[V++-X],y[V]=y[V++-X],y[V]=y[V++-X];V=R}}}}else{(7&O)!=0&&(O+=8-(7&O));const I=4+(O>>>3),te=p[I-4]|p[I-3]<<8;E&&(y=v.H.W(y,V+te)),y.set(new b(p.buffer,p.byteOffset+I,te),V),O=I+te<<3,V+=te}return y.length==V?y:y.slice(0,V)},v.H.W=function(p,y){const b=p.length;if(y<=b)return p;const x=new Uint8Array(b<<1);return x.set(p,0),x},v.H.R=function(p,y,b,x,T,N){const j=v.H.e,$=v.H.Z;let D=0;for(;D<b;){const B=p[$(x,T)&y];T+=15&B;const ne=B>>>4;if(ne<=15)N[D]=ne,D++;else{let z=0,V=0;ne==16?(V=3+j(x,T,2),T+=2,z=N[D-1]):ne==17?(V=3+j(x,T,3),T+=3):ne==18&&(V=11+j(x,T,7),T+=7);const O=D+V;for(;D<O;)N[D]=z,D++}}return T},v.H.V=function(p,y,b,x){let T=0,N=0;const j=x.length>>>1;for(;N<b;){const $=p[N+y];x[N<<1]=0,x[1+(N<<1)]=$,$>T&&(T=$),N++}for(;N<j;)x[N<<1]=0,x[1+(N<<1)]=0,N++;return T},v.H.n=function(p,y){const b=v.H.m,x=p.length;let T,N,j,$;const D=b.j;for(var B=0;B<=y;B++)D[B]=0;for(B=1;B<x;B+=2)D[p[B]]++;const ne=b.K;for(T=0,D[0]=0,N=1;N<=y;N++)T=T+D[N-1]<<1,ne[N]=T;for(j=0;j<x;j+=2)$=p[j+1],$!=0&&(p[j]=ne[$],ne[$]++)},v.H.A=function(p,y,b){const x=p.length,T=v.H.m.r;for(let N=0;N<x;N+=2)if(p[N+1]!=0){const j=N>>1,$=p[N+1],D=j<<4|$,B=y-$;let ne=p[N]<<B;const z=ne+(1<<B);for(;ne!=z;)b[T[ne]>>>15-y]=D,ne++}},v.H.l=function(p,y){const b=v.H.m.r,x=15-y;for(let T=0;T<p.length;T+=2){const N=p[T]<<y-p[T+1];p[T]=b[N]>>>x}},v.H.M=function(p,y,b){b<<=7&y;const x=y>>>3;p[x]|=b,p[x+1]|=b>>>8},v.H.I=function(p,y,b){b<<=7&y;const x=y>>>3;p[x]|=b,p[x+1]|=b>>>8,p[x+2]|=b>>>16},v.H.e=function(p,y,b){return(p[y>>>3]|p[1+(y>>>3)]<<8)>>>(7&y)&(1<<b)-1},v.H.b=function(p,y,b){return(p[y>>>3]|p[1+(y>>>3)]<<8|p[2+(y>>>3)]<<16)>>>(7&y)&(1<<b)-1},v.H.Z=function(p,y){return(p[y>>>3]|p[1+(y>>>3)]<<8|p[2+(y>>>3)]<<16)>>>(7&y)},v.H.i=function(p,y){return(p[y>>>3]|p[1+(y>>>3)]<<8|p[2+(y>>>3)]<<16|p[3+(y>>>3)]<<24)>>>(7&y)},v.H.m=(function(){const p=Uint16Array,y=Uint32Array;return{K:new p(16),j:new p(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new p(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new y(32),J:new p(512),_:[],h:new p(32),$:[],w:new p(32768),C:[],v:[],d:new p(32768),D:[],u:new p(512),Q:[],r:new p(32768),s:new y(286),Y:new y(30),a:new y(19),t:new y(15e3),k:new p(65536),g:new p(32768)}})(),(function(){const p=v.H.m;for(var y=0;y<32768;y++){let x=y;x=(2863311530&x)>>>1|(1431655765&x)<<1,x=(3435973836&x)>>>2|(858993459&x)<<2,x=(4042322160&x)>>>4|(252645135&x)<<4,x=(4278255360&x)>>>8|(16711935&x)<<8,p.r[y]=(x>>>16|x<<16)>>>17}function b(x,T,N){for(;T--!=0;)x.push(0,N)}for(y=0;y<32;y++)p.q[y]=p.S[y]<<3|p.T[y],p.c[y]=p.p[y]<<4|p.z[y];b(p._,144,8),b(p._,112,9),b(p._,24,7),b(p._,8,8),v.H.n(p._,9),v.H.A(p._,9,p.J),v.H.l(p._,9),b(p.$,32,5),v.H.n(p.$,5),v.H.A(p.$,5,p.h),v.H.l(p.$,5),b(p.Q,19,0),b(p.C,286,0),b(p.D,30,0),b(p.v,320,0)})(),v.H.N})();function o(v){return[1,null,3,1,2,null,4][v.ctype]*v.depth}function d(v,p,y,b,x){let T=o(p);const N=Math.ceil(b*T/8);let j,$;T=Math.ceil(T/8);let D=v[y],B=0;if(D>1&&(v[y]=[0,0,1][D-2]),D==3)for(B=T;B<N;B++)v[B+1]=v[B+1]+(v[B+1-T]>>>1)&255;for(let ne=0;ne<x;ne++)if(j=y+ne*N,$=j+ne+1,D=v[$-1],B=0,D==0)for(;B<N;B++)v[j+B]=v[$+B];else if(D==1){for(;B<T;B++)v[j+B]=v[$+B];for(;B<N;B++)v[j+B]=v[$+B]+v[j+B-T]}else if(D==2)for(;B<N;B++)v[j+B]=v[$+B]+v[j+B-N];else if(D==3){for(;B<T;B++)v[j+B]=v[$+B]+(v[j+B-N]>>>1);for(;B<N;B++)v[j+B]=v[$+B]+(v[j+B-N]+v[j+B-T]>>>1)}else{for(;B<T;B++)v[j+B]=v[$+B]+h(0,v[j+B-N],0);for(;B<N;B++)v[j+B]=v[$+B]+h(v[j+B-T],v[j+B-N],v[j+B-T-N])}return v}function h(v,p,y){const b=v+p-y,x=b-v,T=b-p,N=b-y;return x*x<=T*T&&x*x<=N*N?v:T*T<=N*N?p:y}function m(v,p,y){y.width=u.readUint(v,p),p+=4,y.height=u.readUint(v,p),p+=4,y.depth=v[p],p++,y.ctype=v[p],p++,y.compress=v[p],p++,y.filter=v[p],p++,y.interlace=v[p],p++}function g(v,p,y,b,x,T,N,j,$){const D=Math.min(p,x),B=Math.min(y,T);let ne=0,z=0;for(let Q=0;Q<B;Q++)for(let S=0;S<D;S++)if(N>=0&&j>=0?(ne=Q*p+S<<2,z=(j+Q)*x+N+S<<2):(ne=(-j+Q)*p-N+S<<2,z=Q*x+S<<2),$==0)b[z]=v[ne],b[z+1]=v[ne+1],b[z+2]=v[ne+2],b[z+3]=v[ne+3];else if($==1){var V=v[ne+3]*.00392156862745098,O=v[ne]*V,C=v[ne+1]*V,q=v[ne+2]*V,G=b[z+3]*(1/255),k=b[z]*G,K=b[z+1]*G,H=b[z+2]*G;const E=1-V,W=V+G*E,I=W==0?0:1/W;b[z+3]=255*W,b[z+0]=(O+k*E)*I,b[z+1]=(C+K*E)*I,b[z+2]=(q+H*E)*I}else if($==2)V=v[ne+3],O=v[ne],C=v[ne+1],q=v[ne+2],G=b[z+3],k=b[z],K=b[z+1],H=b[z+2],V==G&&O==k&&C==K&&q==H?(b[z]=0,b[z+1]=0,b[z+2]=0,b[z+3]=0):(b[z]=O,b[z+1]=C,b[z+2]=q,b[z+3]=V);else if($==3){if(V=v[ne+3],O=v[ne],C=v[ne+1],q=v[ne+2],G=b[z+3],k=b[z],K=b[z+1],H=b[z+2],V==G&&O==k&&C==K&&q==H)continue;if(V<220&&G>20)return!1}return!0}return{decode:function(p){const y=new Uint8Array(p);let b=8;const x=u,T=x.readUshort,N=x.readUint,j={tabs:{},frames:[]},$=new Uint8Array(y.length);let D,B=0,ne=0;const z=[137,80,78,71,13,10,26,10];for(var V=0;V<8;V++)if(y[V]!=z[V])throw"The input is not a PNG file!";for(;b<y.length;){const Q=x.readUint(y,b);b+=4;const S=x.readASCII(y,b,4);if(b+=4,S=="IHDR")m(y,b,j);else if(S=="iCCP"){for(var O=b;y[O]!=0;)O++;x.readASCII(y,b,O-b),y[O+1];const E=y.slice(O+2,b+Q);let W=null;try{W=s(E)}catch{W=l(E)}j.tabs[S]=W}else if(S=="CgBI")j.tabs[S]=y.slice(b,b+4);else if(S=="IDAT"){for(V=0;V<Q;V++)$[B+V]=y[b+V];B+=Q}else if(S=="acTL")j.tabs[S]={num_frames:N(y,b),num_plays:N(y,b+4)},D=new Uint8Array(y.length);else if(S=="fcTL"){ne!=0&&((H=j.frames[j.frames.length-1]).data=i(j,D.slice(0,ne),H.rect.width,H.rect.height),ne=0);const E={x:N(y,b+12),y:N(y,b+16),width:N(y,b+4),height:N(y,b+8)};let W=T(y,b+22);W=T(y,b+20)/(W==0?100:W);const I={rect:E,delay:Math.round(1e3*W),dispose:y[b+24],blend:y[b+25]};j.frames.push(I)}else if(S=="fdAT"){for(V=0;V<Q-4;V++)D[ne+V]=y[b+V+4];ne+=Q-4}else if(S=="pHYs")j.tabs[S]=[x.readUint(y,b),x.readUint(y,b+4),y[b+8]];else if(S=="cHRM")for(j.tabs[S]=[],V=0;V<8;V++)j.tabs[S].push(x.readUint(y,b+4*V));else if(S=="tEXt"||S=="zTXt"){j.tabs[S]==null&&(j.tabs[S]={});var C=x.nextZero(y,b),q=x.readASCII(y,b,C-b),G=b+Q-C-1;if(S=="tEXt")K=x.readASCII(y,C+1,G);else{var k=s(y.slice(C+2,C+2+G));K=x.readUTF8(k,0,k.length)}j.tabs[S][q]=K}else if(S=="iTXt"){j.tabs[S]==null&&(j.tabs[S]={}),C=0,O=b,C=x.nextZero(y,O),q=x.readASCII(y,O,C-O);const E=y[O=C+1];var K;y[O+1],O+=2,C=x.nextZero(y,O),x.readASCII(y,O,C-O),O=C+1,C=x.nextZero(y,O),x.readUTF8(y,O,C-O),G=Q-((O=C+1)-b),E==0?K=x.readUTF8(y,O,G):(k=s(y.slice(O,O+G)),K=x.readUTF8(k,0,k.length)),j.tabs[S][q]=K}else if(S=="PLTE")j.tabs[S]=x.readBytes(y,b,Q);else if(S=="hIST"){const E=j.tabs.PLTE.length/3;for(j.tabs[S]=[],V=0;V<E;V++)j.tabs[S].push(T(y,b+2*V))}else if(S=="tRNS")j.ctype==3?j.tabs[S]=x.readBytes(y,b,Q):j.ctype==0?j.tabs[S]=T(y,b):j.ctype==2&&(j.tabs[S]=[T(y,b),T(y,b+2),T(y,b+4)]);else if(S=="gAMA")j.tabs[S]=x.readUint(y,b)/1e5;else if(S=="sRGB")j.tabs[S]=y[b];else if(S=="bKGD")j.ctype==0||j.ctype==4?j.tabs[S]=[T(y,b)]:j.ctype==2||j.ctype==6?j.tabs[S]=[T(y,b),T(y,b+2),T(y,b+4)]:j.ctype==3&&(j.tabs[S]=y[b]);else if(S=="IEND")break;b+=Q,x.readUint(y,b),b+=4}var H;return ne!=0&&((H=j.frames[j.frames.length-1]).data=i(j,D.slice(0,ne),H.rect.width,H.rect.height)),j.data=i(j,$,j.width,j.height),delete j.compress,delete j.interlace,delete j.filter,j},toRGBA8:function(p){const y=p.width,b=p.height;if(p.tabs.acTL==null)return[a(p.data,y,b,p).buffer];const x=[];p.frames[0].data==null&&(p.frames[0].data=p.data);const T=y*b*4,N=new Uint8Array(T),j=new Uint8Array(T),$=new Uint8Array(T);for(let B=0;B<p.frames.length;B++){const ne=p.frames[B],z=ne.rect.x,V=ne.rect.y,O=ne.rect.width,C=ne.rect.height,q=a(ne.data,O,C,p);if(B!=0)for(var D=0;D<T;D++)$[D]=N[D];if(ne.blend==0?g(q,O,C,N,y,b,z,V,0):ne.blend==1&&g(q,O,C,N,y,b,z,V,1),x.push(N.buffer.slice(0)),ne.dispose!=0){if(ne.dispose==1)g(j,O,C,N,y,b,z,V,0);else if(ne.dispose==2)for(D=0;D<T;D++)N[D]=$[D]}}return x},_paeth:h,_copyTile:g,_bin:u}})();(function(){const{_copyTile:u}=Kn,{_bin:a}=Kn,i=Kn._paeth;var s={table:(function(){const O=new Uint32Array(256);for(let C=0;C<256;C++){let q=C;for(let G=0;G<8;G++)1&q?q=3988292384^q>>>1:q>>>=1;O[C]=q}return O})(),update(O,C,q,G){for(let k=0;k<G;k++)O=s.table[255&(O^C[q+k])]^O>>>8;return O},crc:(O,C,q)=>4294967295^s.update(4294967295,O,C,q)};function l(O,C,q,G){C[q]+=O[0]*G>>4,C[q+1]+=O[1]*G>>4,C[q+2]+=O[2]*G>>4,C[q+3]+=O[3]*G>>4}function o(O){return Math.max(0,Math.min(255,O))}function d(O,C){const q=O[0]-C[0],G=O[1]-C[1],k=O[2]-C[2],K=O[3]-C[3];return q*q+G*G+k*k+K*K}function h(O,C,q,G,k,K,H){H==null&&(H=1);const Q=G.length,S=[];for(var E=0;E<Q;E++){const X=G[E];S.push([X>>>0&255,X>>>8&255,X>>>16&255,X>>>24&255])}for(E=0;E<Q;E++){let X=4294967295;for(var W=0,I=0;I<Q;I++){var te=d(S[E],S[I]);I!=E&&te<X&&(X=te,W=I)}}const R=new Uint32Array(k.buffer),U=new Int16Array(C*q*4),F=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(E=0;E<F.length;E++)F[E]=255*((F[E]+.5)/16-.5);for(let X=0;X<q;X++)for(let ue=0;ue<C;ue++){var P;E=4*(X*C+ue),H!=2?P=[o(O[E]+U[E]),o(O[E+1]+U[E+1]),o(O[E+2]+U[E+2]),o(O[E+3]+U[E+3])]:(te=F[4*(3&X)+(3&ue)],P=[o(O[E]+te),o(O[E+1]+te),o(O[E+2]+te),o(O[E+3]+te)]),W=0;let ye=16777215;for(I=0;I<Q;I++){const Ue=d(P,S[I]);Ue<ye&&(ye=Ue,W=I)}const Ee=S[W],be=[P[0]-Ee[0],P[1]-Ee[1],P[2]-Ee[2],P[3]-Ee[3]];H==1&&(ue!=C-1&&l(be,U,E+4,7),X!=q-1&&(ue!=0&&l(be,U,E+4*C-4,3),l(be,U,E+4*C,5),ue!=C-1&&l(be,U,E+4*C+4,1))),K[E>>2]=W,R[E>>2]=G[W]}}function m(O,C,q,G,k){k==null&&(k={});const{crc:K}=s,H=a.writeUint,Q=a.writeUshort,S=a.writeASCII;let E=8;const W=O.frames.length>1;let I,te=!1,R=33+(W?20:0);if(k.sRGB!=null&&(R+=13),k.pHYs!=null&&(R+=21),k.iCCP!=null&&(I=pako.deflate(k.iCCP),R+=21+I.length+4),O.ctype==3){for(var U=O.plte.length,F=0;F<U;F++)O.plte[F]>>>24!=255&&(te=!0);R+=8+3*U+4+(te?8+1*U+4:0)}for(var P=0;P<O.frames.length;P++)W&&(R+=38),R+=(Ee=O.frames[P]).cimg.length+12,P!=0&&(R+=4);R+=12;const X=new Uint8Array(R),ue=[137,80,78,71,13,10,26,10];for(F=0;F<8;F++)X[F]=ue[F];if(H(X,E,13),E+=4,S(X,E,"IHDR"),E+=4,H(X,E,C),E+=4,H(X,E,q),E+=4,X[E]=O.depth,E++,X[E]=O.ctype,E++,X[E]=0,E++,X[E]=0,E++,X[E]=0,E++,H(X,E,K(X,E-17,17)),E+=4,k.sRGB!=null&&(H(X,E,1),E+=4,S(X,E,"sRGB"),E+=4,X[E]=k.sRGB,E++,H(X,E,K(X,E-5,5)),E+=4),k.iCCP!=null){const be=13+I.length;H(X,E,be),E+=4,S(X,E,"iCCP"),E+=4,S(X,E,"ICC profile"),E+=11,E+=2,X.set(I,E),E+=I.length,H(X,E,K(X,E-(be+4),be+4)),E+=4}if(k.pHYs!=null&&(H(X,E,9),E+=4,S(X,E,"pHYs"),E+=4,H(X,E,k.pHYs[0]),E+=4,H(X,E,k.pHYs[1]),E+=4,X[E]=k.pHYs[2],E++,H(X,E,K(X,E-13,13)),E+=4),W&&(H(X,E,8),E+=4,S(X,E,"acTL"),E+=4,H(X,E,O.frames.length),E+=4,H(X,E,k.loop!=null?k.loop:0),E+=4,H(X,E,K(X,E-12,12)),E+=4),O.ctype==3){for(H(X,E,3*(U=O.plte.length)),E+=4,S(X,E,"PLTE"),E+=4,F=0;F<U;F++){const be=3*F,Ue=O.plte[F],_e=255&Ue,et=Ue>>>8&255,gn=Ue>>>16&255;X[E+be+0]=_e,X[E+be+1]=et,X[E+be+2]=gn}if(E+=3*U,H(X,E,K(X,E-3*U-4,3*U+4)),E+=4,te){for(H(X,E,U),E+=4,S(X,E,"tRNS"),E+=4,F=0;F<U;F++)X[E+F]=O.plte[F]>>>24&255;E+=U,H(X,E,K(X,E-U-4,U+4)),E+=4}}let ye=0;for(P=0;P<O.frames.length;P++){var Ee=O.frames[P];W&&(H(X,E,26),E+=4,S(X,E,"fcTL"),E+=4,H(X,E,ye++),E+=4,H(X,E,Ee.rect.width),E+=4,H(X,E,Ee.rect.height),E+=4,H(X,E,Ee.rect.x),E+=4,H(X,E,Ee.rect.y),E+=4,Q(X,E,G[P]),E+=2,Q(X,E,1e3),E+=2,X[E]=Ee.dispose,E++,X[E]=Ee.blend,E++,H(X,E,K(X,E-30,30)),E+=4);const be=Ee.cimg;H(X,E,(U=be.length)+(P==0?0:4)),E+=4;const Ue=E;S(X,E,P==0?"IDAT":"fdAT"),E+=4,P!=0&&(H(X,E,ye++),E+=4),X.set(be,E),E+=U,H(X,E,K(X,Ue,E-Ue)),E+=4}return H(X,E,0),E+=4,S(X,E,"IEND"),E+=4,H(X,E,K(X,E-4,4)),E+=4,X.buffer}function g(O,C,q){for(let G=0;G<O.frames.length;G++){const k=O.frames[G];k.rect.width;const K=k.rect.height,H=new Uint8Array(K*k.bpl+K);k.cimg=b(k.img,K,k.bpp,k.bpl,H,C,q)}}function v(O,C,q,G,k){const K=k[0],H=k[1],Q=k[2],S=k[3],E=k[4],W=k[5];let I=6,te=8,R=255;for(var U=0;U<O.length;U++){const dt=new Uint8Array(O[U]);for(var F=dt.length,P=0;P<F;P+=4)R&=dt[P+3]}const X=R!=255,ue=(function(Ve,Be,st,ut,Ze,kt){const nt=[];for(var Ae=0;Ae<Ve.length;Ae++){const ft=new Uint8Array(Ve[Ae]),zt=new Uint32Array(ft.buffer);var yt;let Ut=0,pt=0,Ye=Be,jt=st,bt=ut?1:0;if(Ae!=0){const ni=kt||ut||Ae==1||nt[Ae-2].dispose!=0?1:2;let Qn=0,_a=1e9;for(let nn=0;nn<ni;nn++){var Zt=new Uint8Array(Ve[Ae-1-nn]);const na=new Uint32Array(Ve[Ae-1-nn]);let It=Be,wt=st,Ft=-1,Wt=-1;for(let an=0;an<st;an++)for(let Kt=0;Kt<Be;Kt++)zt[at=an*Be+Kt]!=na[at]&&(Kt<It&&(It=Kt),Kt>Ft&&(Ft=Kt),an<wt&&(wt=an),an>Wt&&(Wt=an));Ft==-1&&(It=wt=Ft=Wt=0),Ze&&((1&It)==1&&It--,(1&wt)==1&&wt--);const ai=(Ft-It+1)*(Wt-wt+1);ai<_a&&(_a=ai,Qn=nn,Ut=It,pt=wt,Ye=Ft-It+1,jt=Wt-wt+1)}Zt=new Uint8Array(Ve[Ae-1-Qn]),Qn==1&&(nt[Ae-1].dispose=2),yt=new Uint8Array(Ye*jt*4),u(Zt,Be,st,yt,Ye,jt,-Ut,-pt,0),bt=u(ft,Be,st,yt,Ye,jt,-Ut,-pt,3)?1:0,bt==1?y(ft,Be,st,yt,{x:Ut,y:pt,width:Ye,height:jt}):u(ft,Be,st,yt,Ye,jt,-Ut,-pt,0)}else yt=ft.slice(0);nt.push({rect:{x:Ut,y:pt,width:Ye,height:jt},img:yt,blend:bt,dispose:0})}if(ut)for(Ae=0;Ae<nt.length;Ae++){if((tn=nt[Ae]).blend==1)continue;const ft=tn.rect,zt=nt[Ae-1].rect,Ut=Math.min(ft.x,zt.x),pt=Math.min(ft.y,zt.y),Ye={x:Ut,y:pt,width:Math.max(ft.x+ft.width,zt.x+zt.width)-Ut,height:Math.max(ft.y+ft.height,zt.y+zt.height)-pt};nt[Ae-1].dispose=1,Ae-1!=0&&p(Ve,Be,st,nt,Ae-1,Ye,Ze),p(Ve,Be,st,nt,Ae,Ye,Ze)}let Ln=0;if(Ve.length!=1)for(var at=0;at<nt.length;at++){var tn;Ln+=(tn=nt[at]).rect.width*tn.rect.height}return nt})(O,C,q,K,H,Q),ye={},Ee=[],be=[];if(G!=0){const dt=[];for(P=0;P<ue.length;P++)dt.push(ue[P].img.buffer);const Ve=(function(Ze){let kt=0;for(var nt=0;nt<Ze.length;nt++)kt+=Ze[nt].byteLength;const Ae=new Uint8Array(kt);let yt=0;for(nt=0;nt<Ze.length;nt++){const Zt=new Uint8Array(Ze[nt]),Ln=Zt.length;for(let at=0;at<Ln;at+=4){let tn=Zt[at],ft=Zt[at+1],zt=Zt[at+2];const Ut=Zt[at+3];Ut==0&&(tn=ft=zt=0),Ae[yt+at]=tn,Ae[yt+at+1]=ft,Ae[yt+at+2]=zt,Ae[yt+at+3]=Ut}yt+=Ln}return Ae.buffer})(dt),Be=T(Ve,G);for(P=0;P<Be.plte.length;P++)Ee.push(Be.plte[P].est.rgba);let st=0;for(P=0;P<ue.length;P++){const ut=(_e=ue[P]).img.length;var Ue=new Uint8Array(Be.inds.buffer,st>>2,ut>>2);be.push(Ue);const Ze=new Uint8Array(Be.abuf,st,ut);W&&h(_e.img,_e.rect.width,_e.rect.height,Ee,Ze,Ue),_e.img.set(Ze),st+=ut}}else for(U=0;U<ue.length;U++){var _e=ue[U];const dt=new Uint32Array(_e.img.buffer);var et=_e.rect.width;for(F=dt.length,Ue=new Uint8Array(F),be.push(Ue),P=0;P<F;P++){const Ve=dt[P];if(P!=0&&Ve==dt[P-1])Ue[P]=Ue[P-1];else if(P>et&&Ve==dt[P-et])Ue[P]=Ue[P-et];else{let Be=ye[Ve];if(Be==null&&(ye[Ve]=Be=Ee.length,Ee.push(Ve),Ee.length>=300))break;Ue[P]=Be}}}const gn=Ee.length;for(gn<=256&&E==0&&(te=gn<=2?1:gn<=4?2:gn<=16?4:8,te=Math.max(te,S)),U=0;U<ue.length;U++){(_e=ue[U]).rect.x,_e.rect.y,et=_e.rect.width;const dt=_e.rect.height;let Ve=_e.img;new Uint32Array(Ve.buffer);let Be=4*et,st=4;if(gn<=256&&E==0){Be=Math.ceil(te*et/8);var At=new Uint8Array(Be*dt);const ut=be[U];for(let Ze=0;Ze<dt;Ze++){P=Ze*Be;const kt=Ze*et;if(te==8)for(var Xe=0;Xe<et;Xe++)At[P+Xe]=ut[kt+Xe];else if(te==4)for(Xe=0;Xe<et;Xe++)At[P+(Xe>>1)]|=ut[kt+Xe]<<4-4*(1&Xe);else if(te==2)for(Xe=0;Xe<et;Xe++)At[P+(Xe>>2)]|=ut[kt+Xe]<<6-2*(3&Xe);else if(te==1)for(Xe=0;Xe<et;Xe++)At[P+(Xe>>3)]|=ut[kt+Xe]<<7-1*(7&Xe)}Ve=At,I=3,st=1}else if(X==0&&ue.length==1){At=new Uint8Array(et*dt*3);const ut=et*dt;for(P=0;P<ut;P++){const Ze=3*P,kt=4*P;At[Ze]=Ve[kt],At[Ze+1]=Ve[kt+1],At[Ze+2]=Ve[kt+2]}Ve=At,I=2,st=3,Be=3*et}_e.img=Ve,_e.bpl=Be,_e.bpp=st}return{ctype:I,depth:te,plte:Ee,frames:ue}}function p(O,C,q,G,k,K,H){const Q=Uint8Array,S=Uint32Array,E=new Q(O[k-1]),W=new S(O[k-1]),I=k+1<O.length?new Q(O[k+1]):null,te=new Q(O[k]),R=new S(te.buffer);let U=C,F=q,P=-1,X=-1;for(let ye=0;ye<K.height;ye++)for(let Ee=0;Ee<K.width;Ee++){const be=K.x+Ee,Ue=K.y+ye,_e=Ue*C+be,et=R[_e];et==0||G[k-1].dispose==0&&W[_e]==et&&(I==null||I[4*_e+3]!=0)||(be<U&&(U=be),be>P&&(P=be),Ue<F&&(F=Ue),Ue>X&&(X=Ue))}P==-1&&(U=F=P=X=0),H&&((1&U)==1&&U--,(1&F)==1&&F--),K={x:U,y:F,width:P-U+1,height:X-F+1};const ue=G[k];ue.rect=K,ue.blend=1,ue.img=new Uint8Array(K.width*K.height*4),G[k-1].dispose==0?(u(E,C,q,ue.img,K.width,K.height,-K.x,-K.y,0),y(te,C,q,ue.img,K)):u(te,C,q,ue.img,K.width,K.height,-K.x,-K.y,0)}function y(O,C,q,G,k){u(O,C,q,G,k.width,k.height,-k.x,-k.y,2)}function b(O,C,q,G,k,K,H){const Q=[];let S,E=[0,1,2,3,4];K!=-1?E=[K]:(C*G>5e5||q==1)&&(E=[0]),H&&(S={level:0});const W=iw;for(var I=0;I<E.length;I++){for(let U=0;U<C;U++)x(k,O,U,G,q,E[I]);Q.push(W.deflate(k,S))}let te,R=1e9;for(I=0;I<Q.length;I++)Q[I].length<R&&(te=I,R=Q[I].length);return Q[te]}function x(O,C,q,G,k,K){const H=q*G;let Q=H+q;if(O[Q]=K,Q++,K==0)if(G<500)for(var S=0;S<G;S++)O[Q+S]=C[H+S];else O.set(new Uint8Array(C.buffer,H,G),Q);else if(K==1){for(S=0;S<k;S++)O[Q+S]=C[H+S];for(S=k;S<G;S++)O[Q+S]=C[H+S]-C[H+S-k]+256&255}else if(q==0){for(S=0;S<k;S++)O[Q+S]=C[H+S];if(K==2)for(S=k;S<G;S++)O[Q+S]=C[H+S];if(K==3)for(S=k;S<G;S++)O[Q+S]=C[H+S]-(C[H+S-k]>>1)+256&255;if(K==4)for(S=k;S<G;S++)O[Q+S]=C[H+S]-i(C[H+S-k],0,0)+256&255}else{if(K==2)for(S=0;S<G;S++)O[Q+S]=C[H+S]+256-C[H+S-G]&255;if(K==3){for(S=0;S<k;S++)O[Q+S]=C[H+S]+256-(C[H+S-G]>>1)&255;for(S=k;S<G;S++)O[Q+S]=C[H+S]+256-(C[H+S-G]+C[H+S-k]>>1)&255}if(K==4){for(S=0;S<k;S++)O[Q+S]=C[H+S]+256-i(0,C[H+S-G],0)&255;for(S=k;S<G;S++)O[Q+S]=C[H+S]+256-i(C[H+S-k],C[H+S-G],C[H+S-k-G])&255}}}function T(O,C){const q=new Uint8Array(O),G=q.slice(0),k=new Uint32Array(G.buffer),K=N(G,C),H=K[0],Q=K[1],S=q.length,E=new Uint8Array(S>>2);let W;if(q.length<2e7)for(var I=0;I<S;I+=4)W=j(H,te=q[I]*(1/255),R=q[I+1]*(1/255),U=q[I+2]*(1/255),F=q[I+3]*(1/255)),E[I>>2]=W.ind,k[I>>2]=W.est.rgba;else for(I=0;I<S;I+=4){var te=q[I]*.00392156862745098,R=q[I+1]*(1/255),U=q[I+2]*(1/255),F=q[I+3]*(1/255);for(W=H;W.left;)W=$(W.est,te,R,U,F)<=0?W.left:W.right;E[I>>2]=W.ind,k[I>>2]=W.est.rgba}return{abuf:G.buffer,inds:E,plte:Q}}function N(O,C,q){q==null&&(q=1e-4);const G=new Uint32Array(O.buffer),k={i0:0,i1:O.length,bst:null,est:null,tdst:0,left:null,right:null};k.bst=ne(O,k.i0,k.i1),k.est=z(k.bst);const K=[k];for(;K.length<C;){let Q=0,S=0;for(var H=0;H<K.length;H++)K[H].est.L>Q&&(Q=K[H].est.L,S=H);if(Q<q)break;const E=K[S],W=D(O,G,E.i0,E.i1,E.est.e,E.est.eMq255);if(E.i0>=W||E.i1<=W){E.est.L=0;continue}const I={i0:E.i0,i1:W,bst:null,est:null,tdst:0,left:null,right:null};I.bst=ne(O,I.i0,I.i1),I.est=z(I.bst);const te={i0:W,i1:E.i1,bst:null,est:null,tdst:0,left:null,right:null};for(te.bst={R:[],m:[],N:E.bst.N-I.bst.N},H=0;H<16;H++)te.bst.R[H]=E.bst.R[H]-I.bst.R[H];for(H=0;H<4;H++)te.bst.m[H]=E.bst.m[H]-I.bst.m[H];te.est=z(te.bst),E.left=I,E.right=te,K[S]=I,K.push(te)}for(K.sort(((Q,S)=>S.bst.N-Q.bst.N)),H=0;H<K.length;H++)K[H].ind=H;return[k,K]}function j(O,C,q,G,k){if(O.left==null)return O.tdst=(function(I,te,R,U,F){const P=te-I[0],X=R-I[1],ue=U-I[2],ye=F-I[3];return P*P+X*X+ue*ue+ye*ye})(O.est.q,C,q,G,k),O;const K=$(O.est,C,q,G,k);let H=O.left,Q=O.right;K>0&&(H=O.right,Q=O.left);const S=j(H,C,q,G,k);if(S.tdst<=K*K)return S;const E=j(Q,C,q,G,k);return E.tdst<S.tdst?E:S}function $(O,C,q,G,k){const{e:K}=O;return K[0]*C+K[1]*q+K[2]*G+K[3]*k-O.eMq}function D(O,C,q,G,k,K){for(G-=4;q<G;){for(;B(O,q,k)<=K;)q+=4;for(;B(O,G,k)>K;)G-=4;if(q>=G)break;const H=C[q>>2];C[q>>2]=C[G>>2],C[G>>2]=H,q+=4,G-=4}for(;B(O,q,k)>K;)q-=4;return q+4}function B(O,C,q){return O[C]*q[0]+O[C+1]*q[1]+O[C+2]*q[2]+O[C+3]*q[3]}function ne(O,C,q){const G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0],K=q-C>>2;for(let H=C;H<q;H+=4){const Q=O[H]*.00392156862745098,S=O[H+1]*(1/255),E=O[H+2]*(1/255),W=O[H+3]*(1/255);k[0]+=Q,k[1]+=S,k[2]+=E,k[3]+=W,G[0]+=Q*Q,G[1]+=Q*S,G[2]+=Q*E,G[3]+=Q*W,G[5]+=S*S,G[6]+=S*E,G[7]+=S*W,G[10]+=E*E,G[11]+=E*W,G[15]+=W*W}return G[4]=G[1],G[8]=G[2],G[9]=G[6],G[12]=G[3],G[13]=G[7],G[14]=G[11],{R:G,m:k,N:K}}function z(O){const{R:C}=O,{m:q}=O,{N:G}=O,k=q[0],K=q[1],H=q[2],Q=q[3],S=G==0?0:1/G,E=[C[0]-k*k*S,C[1]-k*K*S,C[2]-k*H*S,C[3]-k*Q*S,C[4]-K*k*S,C[5]-K*K*S,C[6]-K*H*S,C[7]-K*Q*S,C[8]-H*k*S,C[9]-H*K*S,C[10]-H*H*S,C[11]-H*Q*S,C[12]-Q*k*S,C[13]-Q*K*S,C[14]-Q*H*S,C[15]-Q*Q*S],W=E,I=V;let te=[Math.random(),Math.random(),Math.random(),Math.random()],R=0,U=0;if(G!=0)for(let P=0;P<16&&(te=I.multVec(W,te),U=Math.sqrt(I.dot(te,te)),te=I.sml(1/U,te),!(P!=0&&Math.abs(U-R)<1e-9));P++)R=U;const F=[k*S,K*S,H*S,Q*S];return{Cov:E,q:F,e:te,L:R,eMq255:I.dot(I.sml(255,F),te),eMq:I.dot(te,F),rgba:(Math.round(255*F[3])<<24|Math.round(255*F[2])<<16|Math.round(255*F[1])<<8|Math.round(255*F[0])<<0)>>>0}}var V={multVec:(O,C)=>[O[0]*C[0]+O[1]*C[1]+O[2]*C[2]+O[3]*C[3],O[4]*C[0]+O[5]*C[1]+O[6]*C[2]+O[7]*C[3],O[8]*C[0]+O[9]*C[1]+O[10]*C[2]+O[11]*C[3],O[12]*C[0]+O[13]*C[1]+O[14]*C[2]+O[15]*C[3]],dot:(O,C)=>O[0]*C[0]+O[1]*C[1]+O[2]*C[2]+O[3]*C[3],sml:(O,C)=>[O*C[0],O*C[1],O*C[2],O*C[3]]};Kn.encode=function(C,q,G,k,K,H,Q){k==null&&(k=0),Q==null&&(Q=!1);const S=v(C,q,G,k,[!1,!1,!1,0,Q,!1]);return g(S,-1),m(S,q,G,K,H)},Kn.encodeLL=function(C,q,G,k,K,H,Q,S){const E={ctype:0+(k==1?0:2)+(K==0?0:4),depth:H,frames:[]},W=(k+K)*H,I=W*q;for(let te=0;te<C.length;te++)E.frames.push({rect:{x:0,y:0,width:q,height:G},img:new Uint8Array(C[te]),blend:0,dispose:1,bpp:Math.ceil(W/8),bpl:Math.ceil(I/8)});return g(E,0,!0),m(E,q,G,Q,S)},Kn.encode.compress=v,Kn.encode.dither=h,Kn.quantize=T,Kn.quantize.getKDtree=N,Kn.quantize.getNearest=j})();const Xm={toArrayBuffer(u,a){const i=u.width,s=u.height,l=i<<2,o=u.getContext("2d").getImageData(0,0,i,s),d=new Uint32Array(o.data.buffer),h=(32*i+31)/32<<2,m=h*s,g=122+m,v=new ArrayBuffer(g),p=new DataView(v),y=1<<20;let b,x,T,N,j=y,$=0,D=0,B=0;function ne(O){p.setUint16(D,O,!0),D+=2}function z(O){p.setUint32(D,O,!0),D+=4}function V(O){D+=O}ne(19778),z(g),V(4),z(122),z(108),z(i),z(-s>>>0),ne(1),ne(32),z(3),z(m),z(2835),z(2835),V(8),z(16711680),z(65280),z(255),z(4278190080),z(1466527264),(function O(){for(;$<s&&j>0;){for(N=122+$*h,b=0;b<l;)j--,x=d[B++],T=x>>>24,p.setUint32(N+b,x<<8|T),b+=4;$++}B<d.length?(j=y,setTimeout(O,Xm._dly)):a(v)})()},toBlob(u,a){this.toArrayBuffer(u,(i=>{a(new Blob([i],{type:"image/bmp"}))}))},_dly:9};var hn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},rw={[hn.CHROME]:16384,[hn.FIREFOX]:11180,[hn.DESKTOP_SAFARI]:16384,[hn.IE]:8192,[hn.IOS]:4096,[hn.ETC]:8192};const Ad=typeof window<"u",Pm=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,po=Ad&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),sw=(Ad||Pm)&&(po&&po.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Qm=(Ad||Pm)&&(po&&po.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function jd(u,a,i=Date.now()){return new Promise((s=>{const l=u.split(","),o=l[0].match(/:(.*?);/)[1],d=globalThis.atob(l[1]);let h=d.length;const m=new Uint8Array(h);for(;h--;)m[h]=d.charCodeAt(h);const g=new Blob([m],{type:o});g.name=a,g.lastModified=i,s(g)}))}function Jm(u){return new Promise(((a,i)=>{const s=new Qm;s.onload=()=>a(s.result),s.onerror=l=>i(l),s.readAsDataURL(u)}))}function Zm(u){return new Promise(((a,i)=>{const s=new Image;s.onload=()=>a(s),s.onerror=l=>i(l),s.src=u}))}function Ni(){if(Ni.cachedResult!==void 0)return Ni.cachedResult;let u=hn.ETC;const{userAgent:a}=navigator;return/Chrom(e|ium)/i.test(a)?u=hn.CHROME:/iP(ad|od|hone)/i.test(a)&&/WebKit/i.test(a)?u=hn.IOS:/Safari/i.test(a)?u=hn.DESKTOP_SAFARI:/Firefox/i.test(a)?u=hn.FIREFOX:(/MSIE/i.test(a)||document.documentMode)&&(u=hn.IE),Ni.cachedResult=u,Ni.cachedResult}function Fm(u,a){const i=Ni(),s=rw[i];let l=u,o=a,d=l*o;const h=l>o?o/l:l/o;for(;d>s*s;){const m=(s+l)/2,g=(s+o)/2;m<g?(o=g,l=g*h):(o=m*h,l=m),d=l*o}return{width:l,height:o}}function To(u,a){let i,s;try{if(i=new OffscreenCanvas(u,a),s=i.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),s=i.getContext("2d")}return i.width=u,i.height=a,[i,s]}function Wm(u,a){const{width:i,height:s}=Fm(u.width,u.height),[l,o]=To(i,s);return a&&/jpe?g/.test(a)&&(o.fillStyle="white",o.fillRect(0,0,l.width,l.height)),o.drawImage(u,0,0,l.width,l.height),l}function co(){return co.cachedResult!==void 0||(co.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),co.cachedResult}function bo(u,a={}){return new Promise((function(i,s){let l,o;var d=function(){try{return o=Wm(l,a.fileType||u.type),i([l,o])}catch(m){return s(m)}},h=function(m){try{var g=function(v){try{throw v}catch(p){return s(p)}};try{let v;return Jm(u).then((function(p){try{return v=p,Zm(v).then((function(y){try{return l=y,(function(){try{return d()}catch(b){return s(b)}})()}catch(b){return g(b)}}),g)}catch(y){return g(y)}}),g)}catch(v){g(v)}}catch(v){return s(v)}};try{if(co()||[hn.DESKTOP_SAFARI,hn.MOBILE_SAFARI].includes(Ni()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(u).then((function(m){try{return l=m,d()}catch{return h()}}),h)}catch{h()}}))}function wo(u,a,i,s,l=1){return new Promise((function(o,d){let h;if(a==="image/png"){let p,y,b;return p=u.getContext("2d"),{data:y}=p.getImageData(0,0,u.width,u.height),b=Kn.encode([y.buffer],u.width,u.height,4096*l),h=new Blob([b],{type:a}),h.name=i,h.lastModified=s,m.call(this)}{let p=function(){return m.call(this)};var g=p;if(a==="image/bmp")return new Promise((y=>Xm.toBlob(u,y))).then((function(y){try{return h=y,h.name=i,h.lastModified=s,p.call(this)}catch(b){return d(b)}}).bind(this),d);{let y=function(){return p.call(this)};var v=y;if(typeof OffscreenCanvas=="function"&&u instanceof OffscreenCanvas)return u.convertToBlob({type:a,quality:l}).then((function(b){try{return h=b,h.name=i,h.lastModified=s,y.call(this)}catch(x){return d(x)}}).bind(this),d);{let b;return b=u.toDataURL(a,l),jd(b,i,s).then((function(x){try{return h=x,y.call(this)}catch(T){return d(T)}}).bind(this),d)}}}function m(){return o(h)}}))}function ta(u){u.width=0,u.height=0}function Ar(){return new Promise((function(u,a){let i,s,l,o;return Ar.cachedResult!==void 0?u(Ar.cachedResult):jd("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(d){try{return i=d,bo(i).then((function(h){try{return s=h[1],wo(s,i.type,i.name,i.lastModified).then((function(m){try{return l=m,ta(s),bo(l).then((function(g){try{return o=g[0],Ar.cachedResult=o.width===1&&o.height===2,u(Ar.cachedResult)}catch(v){return a(v)}}),a)}catch(g){return a(g)}}),a)}catch(m){return a(m)}}),a)}catch(h){return a(h)}}),a)}))}function ev(u){return new Promise(((a,i)=>{const s=new Qm;s.onload=l=>{const o=new DataView(l.target.result);if(o.getUint16(0,!1)!=65496)return a(-2);const d=o.byteLength;let h=2;for(;h<d;){if(o.getUint16(h+2,!1)<=8)return a(-1);const m=o.getUint16(h,!1);if(h+=2,m==65505){if(o.getUint32(h+=2,!1)!=1165519206)return a(-1);const g=o.getUint16(h+=6,!1)==18761;h+=o.getUint32(h+4,g);const v=o.getUint16(h,g);h+=2;for(let p=0;p<v;p++)if(o.getUint16(h+12*p,g)==274)return a(o.getUint16(h+12*p+8,g))}else{if((65280&m)!=65280)break;h+=o.getUint16(h,!1)}}return a(-1)},s.onerror=l=>i(l),s.readAsArrayBuffer(u)}))}function tv(u,a){const{width:i}=u,{height:s}=u,{maxWidthOrHeight:l}=a;let o,d=u;return isFinite(l)&&(i>l||s>l)&&([d,o]=To(i,s),i>s?(d.width=l,d.height=s/i*l):(d.width=i/s*l,d.height=l),o.drawImage(u,0,0,d.width,d.height),ta(u)),d}function nv(u,a){const{width:i}=u,{height:s}=u,[l,o]=To(i,s);switch(a>4&&a<9?(l.width=s,l.height=i):(l.width=i,l.height=s),a){case 2:o.transform(-1,0,0,1,i,0);break;case 3:o.transform(-1,0,0,-1,i,s);break;case 4:o.transform(1,0,0,-1,0,s);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,s,0);break;case 7:o.transform(0,-1,-1,0,s,i);break;case 8:o.transform(0,-1,1,0,0,i)}return o.drawImage(u,0,0,i,s),ta(u),l}function $0(u,a,i=0){return new Promise((function(s,l){let o,d,h,m,g,v,p,y,b,x,T,N,j,$,D,B,ne,z,V,O;function C(G=5){if(a.signal&&a.signal.aborted)throw a.signal.reason;o+=G,a.onProgress(Math.min(o,100))}function q(G){if(a.signal&&a.signal.aborted)throw a.signal.reason;o=Math.min(Math.max(G,o),100),a.onProgress(o)}return o=i,d=a.maxIteration||10,h=1024*a.maxSizeMB*1024,C(),bo(u,a).then((function(G){try{return[,m]=G,C(),g=tv(m,a),C(),new Promise((function(k,K){var H;if(!(H=a.exifOrientation))return ev(u).then((function(S){try{return H=S,Q.call(this)}catch(E){return K(E)}}).bind(this),K);function Q(){return k(H)}return Q.call(this)})).then((function(k){try{return v=k,C(),Ar().then((function(K){try{return p=K?g:nv(g,v),C(),y=a.initialQuality||1,b=a.fileType||u.type,wo(p,b,u.name,u.lastModified,y).then((function(H){try{{let W=function(){if(d--&&(D>h||D>j)){let te,R;return te=O?.95*V.width:V.width,R=O?.95*V.height:V.height,[ne,z]=To(te,R),z.drawImage(V,0,0,te,R),y*=b==="image/png"?.85:.95,wo(ne,b,u.name,u.lastModified,y).then((function(U){try{return B=U,ta(V),V=ne,D=B.size,q(Math.min(99,Math.floor(($-D)/($-h)*100))),W}catch(F){return l(F)}}),l)}return[1]},I=function(){return ta(V),ta(ne),ta(g),ta(p),ta(m),q(100),s(B)};var S=W,E=I;if(x=H,C(),T=x.size>h,N=x.size>u.size,!T&&!N)return q(100),s(x);var Q;return j=u.size,$=x.size,D=$,V=p,O=!a.alwaysKeepResolution&&T,(Q=(function(te){for(;te;){if(te.then)return void te.then(Q,l);try{if(te.pop){if(te.length)return te.pop()?I.call(this):te;te=W}else te=te.call(this)}catch(R){return l(R)}}}).bind(this))(W)}}catch(W){return l(W)}}).bind(this),l)}catch(H){return l(H)}}).bind(this),l)}catch(K){return l(K)}}).bind(this),l)}catch(k){return l(k)}}).bind(this),l)}))}const lw=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Qc;function ow(u,a){return new Promise(((i,s)=>{Qc||(Qc=(function(d){const h=[];return h.push(d),URL.createObjectURL(new Blob(h))})(lw));const l=new Worker(Qc);l.addEventListener("message",(function(d){if(a.signal&&a.signal.aborted)l.terminate();else if(d.data.progress===void 0){if(d.data.error)return s(new Error(d.data.error)),void l.terminate();i(d.data.file),l.terminate()}else a.onProgress(d.data.progress)})),l.addEventListener("error",s),a.signal&&a.signal.addEventListener("abort",(()=>{s(a.signal.reason),l.terminate()})),l.postMessage({file:u,imageCompressionLibUrl:a.libURL,options:{...a,onProgress:void 0,signal:void 0}})}))}function Jt(u,a){return new Promise((function(i,s){let l,o,d,h,m,g;if(l={...a},d=0,{onProgress:h}=l,l.maxSizeMB=l.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof l.useWebWorker!="boolean"||l.useWebWorker,delete l.useWebWorker,l.onProgress=b=>{d=b,typeof h=="function"&&h(d)},!(u instanceof Blob||u instanceof sw))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(u.type))return s(new Error("The file given is not an image"));if(g=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||g)return $0(u,l).then((function(b){try{return o=b,y.call(this)}catch(x){return s(x)}}).bind(this),s);var v=(function(){try{return y.call(this)}catch(b){return s(b)}}).bind(this),p=function(b){try{return $0(u,l).then((function(x){try{return o=x,v()}catch(T){return s(T)}}),s)}catch(x){return s(x)}};try{return l.libURL=l.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ow(u,l).then((function(b){try{return o=b,v()}catch{return p()}}),p)}catch{p()}function y(){try{o.name=u.name,o.lastModified=u.lastModified}catch{}try{l.preserveExif&&u.type==="image/jpeg"&&(!l.fileType||l.fileType&&l.fileType===u.type)&&(o=Km(u,o))}catch{}return i(o)}}))}Jt.getDataUrlFromFile=Jm,Jt.getFilefromDataUrl=jd,Jt.loadImage=Zm,Jt.drawImageInCanvas=Wm,Jt.drawFileInCanvas=bo,Jt.canvasToFile=wo,Jt.getExifOrientation=ev,Jt.handleMaxWidthOrHeight=tv,Jt.followExifOrientation=nv,Jt.cleanupCanvasMemory=ta,Jt.isAutoOrientationInBrowser=Ar,Jt.approximateBelowMaximumCanvasSizeOfBrowser=Fm,Jt.copyExifWithoutOrientation=Km,Jt.getBrowserName=Ni,Jt.version="2.0.2";const uw=u=>{try{return!!new URL(u)}catch{return!1}},Jc=u=>{if(!u)return 1/0;const a=new Date;a.setHours(0,0,0,0);let i=a.getFullYear(),s;if(u.length===5&&u.includes("-")){const[o,d]=u.split("-").map(Number);s=new Date(i,o-1,d)}else s=new Date(u),s.setFullYear(i);s.setHours(0,0,0,0),s<a&&s.setFullYear(i+1);const l=s.getTime()-a.getTime();return Math.ceil(l/(1e3*60*60*24))},dd=(u,a,i)=>{if(!u||!a)return null;const s=new Date(u).getFullYear(),l=a-s;return l<=0?null:i==="Compleanno"?`${l} Anni`:i==="Anniversario"?`${l} Anniv.`:null},cw=u=>/^[a-zA-Z0-9\p{L}\s,.]*$/u.test(u)&&!/\n/.test(u),Zc=(u,a)=>u?u.length<=a?u:u.substring(0,a)+"...":"",av=u=>typeof u!="number"?u:u.toLocaleString("it-IT",{minimumFractionDigits:2,maximumFractionDigits:2}),fd=u=>{if(!u||!u.includes("-"))return"";const[a,i]=u.split("-");return new Date(2e3,parseInt(a,10)-1,parseInt(i,10)).toLocaleDateString("it-IT",{month:"long",day:"numeric"})};async function iv(u,a){if(!a||!u)return null;const i=document.createElement("canvas"),s=u.naturalWidth/u.width,l=u.naturalHeight/u.height;i.width=Math.floor(a.width*s),i.height=Math.floor(a.height*l);const o=i.getContext("2d"),d=window.devicePixelRatio||1;i.width=Math.floor(a.width*s*d),i.height=Math.floor(a.height*l*d),o.setTransform(d,0,0,d,0,0),o.imageSmoothingQuality="high";const h=a.x*s,m=a.y*l;o.drawImage(u,h,m,a.width*s,a.height*l,0,0,a.width*s,a.height*l);const g=await new Promise(p=>i.toBlob(p,"image/jpeg",1));if(!g)return console.error("Failed to create blob"),null;const v={maxSizeMB:.5,maxWidthOrHeight:512,useWebWorker:!0};try{const p=await Jt(g,v);return new File([p],"avatar.jpg",{type:p.type,lastModified:Date.now()})}catch(p){return console.error("Image compression error:",p),null}}const Rs=[{type:"Natale",date:"12-25",is_fixed:!0},{type:"San Valentino",date:"02-14",is_fixed:!0},{type:"Epifania",date:"01-06",is_fixed:!0},{type:"Festa del Pap",date:"03-19",is_fixed:!0}],dw=()=>{const[u,a]=ce.useState(null),[i,s]=ce.useState(!0),[l,o]=ce.useState([]),[d,h]=ce.useState(null),[m,g]=ce.useState([]),[v,p]=ce.useState([]),[y,b]=ce.useState(Im.default),[x,T]=ce.useState(!1),N=ce.useMemo(()=>[...W1,...m],[m]),j=ce.useMemo(()=>[...new Set([...ew,...v])],[v]),[$,D]=ce.useState("login"),[B,ne]=ce.useState(""),[z,V]=ce.useState(""),[O,C]=ce.useState(!1),[q,G]=ce.useState(null),[k,K]=ce.useState("Tutti"),[H,Q]=ce.useState(""),[S,E]=ce.useState(!1),[W,I]=ce.useState(!1),[te,R]=ce.useState(!1),[U,F]=ce.useState(!1),[P,X]=ce.useState(!1),[ue,ye]=ce.useState({show:!1,title:"",msg:"",action:null}),[Ee,be]=ce.useState(!1),[Ue,_e]=ce.useState(null),[et,gn]=ce.useState([]),[At,Xe]=ce.useState(0),[dt,Ve]=ce.useState(!1),[Be,st]=ce.useState(null),[ut,Ze]=ce.useState(null),[kt,nt]=ce.useState(null),[Ae,yt]=ce.useState([]),[Zt,Ln]=ce.useState(""),[at,tn]=ce.useState(""),[ft,zt]=ce.useState("Amico/a"),[Ut,pt]=ce.useState(""),[Ye,jt]=ce.useState(""),[bt,ni]=ce.useState("Compleanno"),[Qn,_a]=ce.useState(""),[nn,na]=ce.useState(""),[It,wt]=ce.useState(""),[Ft,Wt]=ce.useState(""),[ai,an]=ce.useState(new Date().getFullYear()),[Kt,aa]=ce.useState(""),[Ms,Ri]=ce.useState(""),[ii,ki]=ce.useState(""),[zi,xa]=ce.useState(""),[Ui,Di]=ce.useState(""),[jn,ht]=ce.useState("Compleanno"),[Dt,Hn]=ce.useState(""),[Sa,Rr]=ce.useState("");ce.useEffect(()=>{Sn.auth.getSession().then(({data:{session:oe}})=>{a(oe),oe?kr(oe.user.id):s(!1)});const{data:{subscription:ie}}=Sn.auth.onAuthStateChange((oe,fe)=>{a(fe),fe?kr(fe.user.id):(o([]),s(!1))});return()=>ie.unsubscribe()},[]),ce.useEffect(()=>{Ue&&setTimeout(()=>_e(null),3e3)},[Ue]);const Oo={primary:{backgroundColor:y.primary,color:"white"},textPrimary:{color:y.primary},borderPrimary:{borderColor:y.primary},accentBg:{backgroundColor:y.accent,color:y.textAccent},iconColor:{color:y.secondary}},kr=async ie=>{s(!0);try{const oe=await Q1(ie);if(oe==="USER_NOT_FOUND")o([]),g([]),p([]),await Ht({persone:[],custom_relazioni:[],custom_event_types:[]});else if(oe){const fe=oe;o(fe.persone||[]),g(fe.custom_relazioni||[]),p(fe.custom_event_types||[]),h(fe.id)}else _e("Errore inaspettato nel recupero dei dati."),o([]),g([]),p([])}catch{_e("Si  verificato un errore nel recupero dei dati.")}finally{s(!1)}},Ht=async ie=>{if(u)try{const oe=await J1(u.user.id,d,ie);oe&&(h(oe.id),ie.persone&&o(ie.persone),ie.custom_relazioni&&g(ie.custom_relazioni),ie.custom_event_types&&p(ie.custom_event_types))}catch{_e("Errore durante il salvataggio dei dati.")}},zr=ce.useMemo(()=>l.map(ie=>{const oe=ie.eventi.filter(gt=>!gt.archived);if(oe.length===0)return null;const fe=oe.map((gt,Xt)=>({...gt,days:Jc(gt.data),idx:Xt}));fe.sort((gt,Xt)=>gt.days-Xt.days);const de=fe[0],he=new Date,Ge=new Date(de.data);Ge.setFullYear(he.getFullYear());let Le=he.getFullYear();Ge<new Date(he.setHours(0,0,0,0))&&(Le+=1);const xt=dd(de.data,Le,de.tipo);return{id:ie.id,nome:ie.nome,foto:ie.foto,relazione:ie.relazione,nextEvent:de,occorrenza:xt,uidToSelect:`${ie.id}-${de.idx}`}}).filter(Boolean).sort((ie,oe)=>ie.nextEvent.days-oe.nextEvent.days),[l]),Ea=ce.useMemo(()=>l.flatMap(ie=>ie.eventi.map((oe,fe)=>({uid:`${ie.id}-${fe}`,nome:ie.nome,tipo:oe.tipo,archived:oe.archived,giftCount:oe.storicoRegali?.length||0}))).filter(ie=>ie.archived),[l]),Tn=ie=>{const oe=ie==="Tutti"?"generici":js[ie]?ie:"generici";let fe=[];ie==="Tutti"?fe=Object.values(js).flat():fe=[...js[oe]||[],...js.generici];const de=new Set,he=[];for(const xt of fe)de.has(xt.nome)||(de.add(xt.nome),he.push(xt));const Ge=et.map(xt=>xt.nome);let Le=he.filter(xt=>!Ge.includes(xt.nome));Le.length<3&&(Le=he),gn(Le.sort(()=>.5-Math.random()).slice(0,4))},ri=ie=>{G(ie.uidToSelect),K("Tutti"),Q(""),Tn("Tutti"),Ve(!1)},Aa=()=>{G(null)},_t=(ie,oe)=>{G(ie),K("Tutti"),Q(""),Tn("Tutti")},Bs=ie=>{K(ie),Tn(ie)},Ur=()=>{if(!q)return null;const[ie]=q.split("-");return l.find(oe=>oe.id.toString()===ie)},Ce=Ur(),ia=()=>{if(!Ce)return{date:"",type:"",subtext:""};const ie=Ce.partnerId?l.find(On=>On.id===Ce.partnerId):null,oe=ie&&ie.eventi.length>0?`${ie.id}-0`:null,fe=oe?ie.eventi[0].tipo:"";let de=null;if(k==="Tutti"?de=Ce.eventi.filter(On=>!On.archived).sort((On,Xs)=>Jc(On.data)-Jc(Xs.data))[0]:de=Ce.eventi.find(On=>On.tipo===k),!de)return{date:"",type:"",partnerName:ie?.nome,partnerUid:oe,partnerType:fe};const he=new Date,Ge=new Date(de.data);Ge.setFullYear(he.getFullYear());let Le=he.getFullYear();Ge<new Date(he.setHours(0,0,0,0))&&(Le+=1);const xt=dd(de.data,Le,de.tipo),gt=k==="Tutti"?`Prossimo: ${de.tipo}`:de.tipo,Xt=xt?`  ${xt}`:"",si=de.is_fixed||de.data&&de.data.length===5&&de.data.includes("-");return{date:de.data,type:gt+Xt,partnerName:ie?.nome,partnerUid:oe,partnerType:fe,isFixed:si}},Co=ia(),Ls=()=>{if(!Ce)return{breakdown:[],total:"0.00"};const ie={};let oe=0;return Ce.eventi.forEach(de=>{if(de.storicoRegali){const he=de.storicoRegali.reduce((Ge,Le)=>Ge+(Le.prezzo||0),0);he>0&&(ie[de.tipo]=(ie[de.tipo]||0)+he,oe+=he)}}),{breakdown:Object.entries(ie).map(([de,he])=>({type:de,amount:he.toFixed(2)})),total:oe.toFixed(2)}},Hs=()=>{const ie=Ut.trim();if(ie&&!N.includes(ie)){const oe=[...m,ie];Ht({custom_relazioni:oe}),zt(ie),pt(""),_e("Nuova relazione salvata!")}},No=()=>{const ie=Qn.trim();if(ie&&!j.includes(ie)){const oe=[...v,ie];Ht({custom_event_types:oe}),ni(ie),_a(""),_e("Nuovo tipo evento salvato!")}},Mi=()=>{const ie=Dt.trim();if(ie&&!j.includes(ie)){const oe=[...v,ie];Ht({custom_event_types:oe}),ht(ie),Hn(""),_e("Nuovo tipo evento salvato!")}},Bi=()=>{Ln(""),tn(""),zt("Amico/a"),pt(""),jt(""),ni("Compleanno"),_a(""),na(""),nt(null),yt([]),E(!0)},qn=()=>{Ce&&(Ln(Ce.nome),tn(Ce.foto||""),N.includes(Ce.relazione)?(zt(Ce.relazione),pt("")):(zt("Altro"),pt(Ce.relazione)),jt(Ce.partnerId||""),yt(JSON.parse(JSON.stringify(Ce.eventi))),nt(Ce.id),E(!0))},rn=(ie,oe,fe)=>{const de=[...Ae];de[ie]?.is_fixed||(de[ie][oe]=fe,yt(de))},qs=ie=>{if(Ae[ie]?.is_fixed||!confirm("Eliminare questo evento e il suo storico regali?"))return;const oe=Ae.filter((fe,de)=>de!==ie);yt(oe)},Ro=()=>{const ie=Ae.map(fe=>fe.is_fixed?fe.type:null).filter(Boolean),oe=Rs.filter(fe=>!ie.includes(fe.type));if(oe.length===0){_e("Tutti gli eventi fissi sono gi presenti.");return}yt(fe=>[...fe,...oe]),_e("Eventi fissi aggiunti!")},Dr=ie=>{ie.preventDefault();const oe=ft==="Altro"&&Ut.trim()?Ut.trim():ft;let fe;if(kt)fe=l.map(de=>de.id===kt?{...de,nome:Zt,relazione:oe,partnerId:Ye?parseInt(Ye):null,eventi:Ae,foto:at}:de),_e("Dettagli aggiornati!");else{if(new Date(nn).getFullYear()>2099){alert("Data non valida (max 2099)");return}let de=bt==="Altro"&&Qn.trim()?Qn.trim():bt;(de==="Altro"||!de)&&(de="Evento");const he=Date.now(),Ge={id:he,nome:Zt,relazione:oe,foto:at,partnerId:Ye?parseInt(Ye):null,eventi:[{tipo:de,data:nn,storicoRegali:[],archived:!1}]};fe=[...l,Ge],setTimeout(()=>_t(`${he}-0`),100)}Ht({persone:fe}),E(!1)},Li=()=>{Wt(""),an(new Date().getFullYear()),aa(""),Ri(""),ki(""),xa(""),Di("");const ie=k!=="Tutti"?k:Ce?.eventi[0]?.tipo||"";wt(ie),st(null),Ze(null),Tn(ie)},Hi=()=>{Li(),I(!0)},ko=(ie,oe,fe,de)=>{Li(),Wt(ie.oggetto),an(ie.anno),aa(ie.partecipanti||""),Ri(ie.negozio||""),ki(ie.link||""),xa(ie.img||""),Di(ie.prezzo||""),wt(de),st(oe),Ze(fe),I(!0)},sn=()=>{if(!Ft||!Ce)return;if(ii&&!uw(ii)){alert("Link prodotto non valido.");return}if(Kt.trim()&&!cw(Kt)){_e("I partecipanti contengono caratteri non ammessi (solo lettere, numeri, caratteri accentati, spazi, virgole e punti).");return}let ie=0;if(Ui){let he=Ui.toString().replace(",",".");isNaN(he)||(ie=parseFloat(parseFloat(he).toFixed(2)))}let oe=Ms.trim();const fe=ii.trim();if(!oe&&fe)try{oe=new URL(fe.startsWith("http")?fe:`https://${fe}`).hostname.replace("www.","")}catch{}let de=l.map(he=>{if(he.id===Ce.id){let Ge=[...he.eventi],Le=Ge.findIndex(gt=>gt.tipo===It);if(Le===-1){if(pendingNewEventData&&pendingNewEventData.activePersonId===he.id&&(Le=Ge.findIndex(gt=>gt.tipo===pendingNewEventData.tipo)),Le===-1&&Ge.length>0)Le=0;else if(Le===-1&&Ge.length===0)return _e("Nessun evento disponibile per aggiungere il regalo."),he}const xt={anno:parseInt(ai),oggetto:Ft,partecipanti:Kt.trim(),negozio:oe,link:fe,img:zi.trim(),prezzo:ie};if(Be!==null&&Le!==-1){const gt=ut!==null?ut:Le;Ge[gt].storicoRegali[Be]=xt}else Le!==-1&&Ge[Le].storicoRegali.unshift(xt);return Ge.forEach(gt=>gt.storicoRegali.sort((Xt,si)=>si.anno-Xt.anno)),{...he,eventi:Ge}}return he});Ht({persone:de}),setPendingNewEventData(null),I(!1),_e(Be!==null?"Aggiornato!":"Regalo aggiunto!")},Mr=async ie=>{if(u&&ie)try{const oe=await F1(u.user.id,ie);xa(oe),_e("Immagine caricata!")}catch{_e("Errore durante il caricamento dell'immagine.")}},Gs=()=>{let ie=jn==="Altro"&&Dt.trim()?Dt.trim():jn;if(ie==="Altro"||!ie||!Ce||!Sa)return;if(Ce.eventi.some(he=>he.tipo.toLowerCase()===ie.toLowerCase())){_e("La ricorrenza  gi presente."),X(!1),ht("Compleanno"),Hn(""),Rr(""),be(!1);return}if(new Date(Sa).getFullYear()>2099){alert("Data non valida");return}const fe={tipo:ie,data:Sa,storicoRegali:[],archived:!1},de=l.map(he=>he.id===Ce.id?{...he,eventi:[...he.eventi,fe]}:he);Ht({persone:de}),K(ie),_e("Ricorrenza aggiunta!"),X(!1),Ee&&wt(ie),be(!1),ht("Compleanno"),Hn(""),Rr("")},ja=(ie,oe,fe)=>{ye({show:!0,title:ie,msg:oe,action:fe})},Ta=()=>{ue.action&&ue.action(),ye({...ue,show:!1})},$s=(ie,oe)=>{ja("Elimina Regalo","Vuoi eliminare definitivamente questo regalo?",()=>{const fe=l.map(de=>{if(de.id===Ce.id){const he=[...de.eventi];return he[oe].storicoRegali.splice(ie,1),{...de,eventi:he}}return de});Ht({persone:fe}),_e("Regalo eliminato.")})},Ys=()=>{ja("Archivia","Spostare nell'archivio?",()=>{const ie=l.map(oe=>{if(oe.id===Ce.id){const fe=oe.eventi.map(de=>({...de,archived:!0}));return{...oe,eventi:fe}}return oe});Ht({persone:ie}),G(null),_e("Archiviato.")})},Oa=()=>{if(!Ce)return[];let ie=[];if(k==="Tutti")ie=(Ce.eventi||[]).flatMap((oe,fe)=>(oe.storicoRegali||[]).map((de,he)=>({...de,_evtTipo:oe.tipo,_evtData:oe.data,_eIdx:fe,_rIdx:he})));else{const oe=(Ce.eventi||[]).find(de=>de.tipo===k);if(!oe)return[];const fe=Ce.eventi.indexOf(oe);ie=(oe.storicoRegali||[]).map((de,he)=>({...de,_evtTipo:oe.tipo,_evtData:oe.data,_eIdx:fe,_rIdx:he}))}if(ie.sort((oe,fe)=>fe.anno-oe.anno),H.trim()){const oe=H.toLowerCase();ie=ie.filter(fe=>fe.oggetto.toLowerCase().includes(oe)||fe.partecipanti&&fe.partecipanti.toLowerCase().includes(oe)||fe.negozio&&fe.negozio.toLowerCase().includes(oe)||fe.anno.toString().includes(oe))}return ie},zo=()=>{const ie=Ce.eventi.flatMap(oe=>oe.storicoRegali);return av(ie.reduce((oe,fe)=>oe+(fe.prezzo||0),0))},Vs=async ie=>{if(ie.preventDefault(),C(!0),$==="signup"){const{error:oe}=await Sn.auth.signUp({email:B,password:z});alert(oe?oe.message:"Registrazione completata! Controlla la tua email per confermare il tuo account.")}else{const{error:oe}=await Sn.auth.signInWithPassword({email:B,password:z});oe&&alert("Errore login.")}C(!1)},Is=async()=>{await Sn.auth.signInWithOAuth({provider:"google"})},Br=async()=>{await Sn.auth.signOut()},Uo=ie=>{const[oe,fe]=ie.split("-"),de=l.map(he=>{if(he.id.toString()===oe){const Ge=[...he.eventi];return Ge[parseInt(fe)].archived=!1,{...he,eventi:Ge}}return he});Ht({persone:de}),_e("Ripristinato!")},Do=ie=>{ja("Eliminazione Definitiva","Irreversibile.",()=>{const[oe,fe]=ie.split("-"),de=l.map(he=>{if(he.id.toString()===oe){const Ge=he.eventi.filter((Le,xt)=>xt!==parseInt(fe));return{...he,eventi:Ge}}return he}).filter(he=>he.eventi.length>0);Ht({persone:de})})},qi=()=>{Xe(ie=>ie+1),_e("Suggerimenti Amazon aggiornati!")},Gn=async ie=>{if(u)try{const oe=await Z1(u.user.id,ie);tn(oe),_e("Immagine caricata!")}catch{_e("Errore durante il caricamento dell'immagine.")}},Lr=ce.useMemo(()=>{const ie=Object.values(js).flat(),oe=new Set,fe=[];for(const de of ie)oe.has(de.nome)||(oe.add(de.nome),fe.push(de));return fe.sort(()=>.5-Math.random()).slice(0,4)},[At]);return{session:u,loading:i,persone:l,currentTheme:y,setCurrentTheme:b,showSettings:x,setShowSettings:T,relazioniList:N,eventTypesList:j,authMode:$,setAuthMode:D,email:B,setEmail:ne,password:z,setPassword:V,authLoading:O,selectedUid:q,setSelectedUid:G,activeTab:k,setActiveTab:K,searchTerm:H,setSearchTerm:Q,showModalPerson:S,setShowModalPerson:E,showModalGift:W,setShowModalGift:I,showModalStats:te,setShowModalStats:R,showArchive:U,setShowArchive:F,showAddEventModal:P,setShowAddEventModal:X,confirmConfig:ue,setConfirmConfig:ye,toastMsg:Ue,setToastMsg:_e,suggerimenti:et,setSuggerimenti:gn,isAddingEventFromGiftModal:Ee,setIsAddingEventFromGiftModal:be,showPeopleList:dt,setShowPeopleList:Ve,editingGiftIndex:Be,editingGiftEventIndex:ut,editingPersonId:kt,editingEvents:Ae,newPersonName:Zt,setNewPersonName:Ln,newPersonPhoto:at,setNewPersonPhoto:tn,newRelation:ft,setNewRelation:zt,customRelation:Ut,setCustomRelation:pt,newPartnerId:Ye,setNewPartnerId:jt,newEventType:bt,setNewEventType:ni,customEventType:Qn,setCustomEventType:_a,newEventDate:nn,setNewEventDate:na,giftTargetEvent:It,setGiftTargetEvent:wt,giftObj:Ft,setGiftObj:Wt,giftYear:ai,setGiftYear:an,giftParticipants:Kt,setGiftParticipants:aa,giftShop:Ms,setGiftShop:Ri,giftLink:ii,setGiftLink:ki,giftImg:zi,setGiftImg:xa,giftPrice:Ui,setGiftPrice:Di,addEventName:jn,setAddEventName:ht,customAddEventName:Dt,setCustomAddEventName:Hn,addEventDate:Sa,setAddEventDate:Rr,themeStyles:Oo,sidebarList:zr,eventiArchiviati:Ea,activePerson:Ce,headerInfo:Co,amazonSuggestions:Lr,getLastGift:(ie,oe)=>{const fe=l.find(he=>he.id===ie);if(!fe)return null;const de=fe.eventi.find(he=>he.tipo===oe);return!de||!de.storicoRegali||de.storicoRegali.length===0?null:de.storicoRegali[0]},saveCustomRelation:Hs,saveCustomEventType:No,saveCustomAddEventName:Mi,openNewPersonModal:Bi,openEditPersonModal:qn,handleEditEventChange:rn,handleDeleteEventFromEdit:qs,handleAddFixedEvents:Ro,handleSavePerson:Dr,resetGiftForm:Li,openNewGiftModal:Hi,openEditGiftModal:ko,handleSaveRegalo:sn,handleAddEventToPerson:Gs,askConfirm:ja,executeConfirm:Ta,handleDeleteSingleGift:$s,handleArchive:Ys,getFilteredGifts:Oa,getTotaleSpeso:zo,handleEmailAuth:Vs,handleGoogleLogin:Is,handleLogout:Br,handleRestore:Uo,handlePermanentDelete:Do,handlePhotoUpload:Gn,handleGiftImageUpload:Mr,handleSidebarClick:ri,handleHomeClick:Aa,handleSelectUid:_t,handleTabChange:Bs,getActivePerson:Ur,getHeaderInfo:ia,getStatsBreakdown:Ls,handleRefreshAmazonSuggestions:qi,updateSuggestions:Tn}},fw=({authMode:u,setAuthMode:a,email:i,setEmail:s,password:l,setPassword:o,handleEmailAuth:d,authLoading:h,themeStyles:m})=>_.jsx("div",{className:"flex items-center justify-center p-4 font-sans h-full",children:_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md border border-gray-200",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("div",{className:"w-24 h-24 mx-auto mb-4",children:_.jsx("img",{src:"/giftminder/logo.png",alt:"GiftMinder Logo",className:"w-full h-full object-contain"})}),_.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"GiftMinder"})]}),_.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg mb-6",children:[_.jsx("button",{onClick:()=>a("login"),className:`flex-1 py-2 text-sm font-bold rounded-md ${u==="login"?"bg-white shadow text-black":"text-gray-500"}`,children:"Accedi"}),_.jsx("button",{onClick:()=>a("signup"),className:`flex-1 py-2 text-sm font-bold rounded-md ${u==="signup"?"bg-white shadow text-black":"text-gray-500"}`,children:"Registrati"})]}),_.jsxs("form",{onSubmit:d,className:"space-y-4",children:[_.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:g=>s(g.target.value),className:"w-full p-3 border rounded-lg",required:!0}),_.jsx("input",{type:"password",placeholder:"Password",value:l,onChange:g=>o(g.target.value),className:"w-full p-3 border rounded-lg",required:!0}),_.jsx("button",{disabled:h,style:m.primary,className:"w-full py-3 rounded-lg font-bold hover:opacity-90 transition shadow-md",children:h?"...":u==="login"?"Entra":"Registrati"})]})]})});const hw=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rv=(...u)=>u.filter((a,i,s)=>!!a&&s.indexOf(a)===i).join(" ");var gw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mw=ce.forwardRef(({color:u="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:d,...h},m)=>ce.createElement("svg",{ref:m,...gw,width:a,height:a,stroke:u,strokeWidth:s?Number(i)*24/Number(a):i,className:rv("lucide",l),...h},[...d.map(([g,v])=>ce.createElement(g,v)),...Array.isArray(o)?o:[o]]));const We=(u,a)=>{const i=ce.forwardRef(({className:s,...l},o)=>ce.createElement(mw,{ref:o,iconNode:a,className:rv(`lucide-${hw(u)}`,s),...l}));return i.displayName=`${u}`,i};const hd=We("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const sv=We("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const lv=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const _o=We("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const gd=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const vw=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const yw=We("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);const Y0=We("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const xo=We("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const V0=We("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const pw=We("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const bw=We("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const ov=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const ww=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const I0=We("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Td=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const uv=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const _w=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const K0=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const xw=We("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const Ts=We("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const cv=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const X0=We("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);const Sw=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ew=We("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);const So=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Or=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dv=({type:u})=>_.jsx("div",{className:`bg-gray-100 border-2 border-dashed border-gray-300 rounded flex items-center justify-center text-gray-400 text-[10px] font-bold tracking-widest uppercase text-center text-wrap p-2 ${u==="banner"?"w-full h-20 mb-6":"w-full h-24 my-2"}`,children:u==="banner"?"Banner Sponsor":"Pubblicit (AdSense)"}),Aw=({src:u})=>{const[a,i]=ce.useState(!1);return!u||a?_.jsx(xo,{className:"text-gray-300 w-8 h-8"}):_.jsx("img",{src:u,alt:"regalo",className:"w-full h-full object-cover",onError:()=>i(!0)})},jw=({sidebarList:u,handleSidebarClick:a,selectedUid:i,currentTheme:s,themeStyles:l})=>_.jsx("div",{className:"overflow-y-auto flex-1 p-3 space-y-2",children:u.map((o,d)=>_.jsxs(Me.Fragment,{children:[d===3&&_.jsx(dv,{}),_.jsxs("div",{onClick:()=>a(o),className:`p-3 rounded-xl cursor-pointer border transition relative group ${i===o.uidToSelect?"bg-white shadow-md":"border-transparent hover:bg-white hover:shadow-sm"}`,style:i===o.uidToSelect?{borderColor:s.primary}:{},children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[o.foto?_.jsx("img",{src:o.foto,alt:o.nome,className:"w-14 h-14 rounded-full object-cover border-2",style:{borderColor:i===o.uidToSelect?s.primary:"transparent"}}):_.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center border-2",style:{borderColor:i===o.uidToSelect?s.primary:"transparent"},children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:_.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-sm",style:i===o.uidToSelect?l.textPrimary:{},children:o.nome}),_.jsx("p",{className:"text-[11px] text-gray-500 uppercase mt-0.5",children:o.relazione})]})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-lg block w-fit ml-auto ${o.nextEvent.days<14?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:o.nextEvent.days===0?"OGGI!":`-${o.nextEvent.days}gg`}),_.jsxs("span",{className:"text-[10px] text-gray-400 block mt-1",children:[o.nextEvent.tipo," ",o.occorrenza&&` ${o.occorrenza}`]})]})]}),i===o.uidToSelect&&_.jsx("div",{className:"absolute left-0 top-3 bottom-3 w-1 rounded-r",style:{backgroundColor:s.primary}})]})]},o.id))}),P0="/giftminder/logo.png",Tw=({themeStyles:u,openNewPersonModal:a,openNewGiftModal:i,sidebarList:s,handleSidebarClick:l,handleHomeClick:o,selectedUid:d,currentTheme:h,setShowSettings:m,setShowArchive:g,showPeopleList:v,setShowPeopleList:p,handleLogout:y})=>{const[b,x]=ce.useState(!1),T=ce.useRef(null);ce.useEffect(()=>{const j=$=>{T.current&&!T.current.contains($.target)&&x(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[T]);const N=j=>{j(),x(!1)};return _.jsxs("aside",{className:"w-full md:w-80 bg-slate-50 border-r border-gray-200 flex flex-col h-auto md:h-full shadow-xl z-20",children:[_.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-slate-50",children:[_.jsxs("div",{className:"flex items-center gap-2 font-bold text-lg",style:u.textPrimary,children:[_.jsx("img",{src:P0,className:"w-6 h-6 object-contain",alt:"logo"})," GiftMinder"]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:a,className:"p-1.5 rounded shadow hover:opacity-90 transition",style:u.primary,children:_.jsx(Td,{size:20})}),_.jsx("button",{onClick:o,className:"p-1.5 rounded shadow hover:opacity-90 transition",style:u.primary,children:_.jsx(V0,{size:20})}),_.jsxs("div",{className:"relative md:hidden",ref:T,children:[_.jsx("button",{onClick:()=>x(!b),className:"p-1.5 rounded shadow hover:opacity-90 transition",style:u.primary,children:_.jsx(ww,{size:20})}),b&&_.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-30 border",children:[_.jsxs("a",{href:"#",onClick:j=>{j.preventDefault(),N(()=>p(!v))},className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 md:hidden",children:[_.jsx(So,{size:16})," Persone"]}),_.jsxs("a",{href:"#",onClick:j=>{j.preventDefault(),N(()=>g(!0))},className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[_.jsx(hd,{size:16})," Archivio"]}),_.jsxs("a",{href:"#",onClick:j=>{j.preventDefault(),N(()=>m(!0))},className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[_.jsx(K0,{size:16})," Opzioni"]}),_.jsx("div",{className:"border-t my-1"}),_.jsxs("a",{href:"#",onClick:j=>{j.preventDefault(),N(y)},className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[_.jsx(ov,{size:16})," Esci"]})]})]})]})]}),_.jsxs("div",{className:`${v?"fixed inset-0 bg-white z-20 h-screen overflow-y-auto":"hidden"} md:block md:static md:flex-1 md:overflow-y-auto`,children:[_.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-slate-50 md:hidden",children:[_.jsxs("div",{className:"flex items-center gap-2 font-bold text-lg",style:u.textPrimary,children:[_.jsx("img",{src:P0,className:"w-6 h-6 object-contain",alt:"logo"})," GiftMinder"]}),_.jsx("button",{onClick:()=>p(!1),className:"p-1.5 rounded shadow hover:opacity-90 transition mr-2",style:u.primary,children:_.jsx(V0,{size:20})})]}),_.jsxs("div",{className:"hidden md:flex justify-between px-4 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider border-b border-gray-200 bg-gray-100",children:[_.jsx("span",{children:"Persona"}),_.jsx("span",{children:"Prossima scadenza"})]}),_.jsx(jw,{sidebarList:s,handleSidebarClick:l,selectedUid:d,currentTheme:h,themeStyles:u})]}),_.jsxs("div",{className:"hidden md:flex justify-between items-center p-2 border-t border-gray-200 bg-slate-50",children:[_.jsx("div",{children:_.jsx("button",{onClick:()=>m(!0),className:"p-2 text-sm text-gray-600 hover:bg-gray-200 rounded-md transition",children:_.jsx(K0,{size:18})})}),_.jsx("button",{onClick:()=>g(!0),className:"p-2 text-sm text-gray-600 hover:bg-gray-200 rounded-md transition",children:_.jsx(hd,{size:18})})]})]})},Ow=({sidebarList:u,persone:a,getLastGift:i,amazonSuggestions:s,openNewPersonModal:l,openNewGiftModal:o,handleSidebarClick:d,themeStyles:h,handleRefreshAmazonSuggestions:m,selectedUid:g,currentTheme:v,setShowPeopleList:p})=>{const y=u.length>0?Math.min(...u.map(D=>D.nextEvent.days)):null,b=u.filter(D=>D.nextEvent.days===y),x=b.length,[T,N]=ce.useState(0);if(ce.useEffect(()=>{if(b.length>1){const D=setInterval(()=>{N(B=>(B+1)%b.length)},2e3);return()=>clearInterval(D)}},[b,u]),u.length===0)return _.jsxs("div",{className:"p-6 bg-slate-50 h-full flex flex-col items-center justify-center text-center",children:[_.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Benvenuto in GiftMinder!"}),_.jsx("p",{className:"text-gray-600 mb-8",children:"Sembra che tu non abbia ancora aggiunto nessuno. Inizia creando una scheda persona."}),_.jsxs("button",{onClick:l,style:h.primary,className:"px-6 py-3 rounded-lg font-bold shadow-md flex items-center gap-2 hover:opacity-90 transition",children:[_.jsx(Td,{size:18}),_.jsx("span",{children:"Crea la tua prima scheda"})]})]});const j=b.length>0?{...b[T],lastGift:i(b[T].id,b[T].nextEvent.tipo)}:null,$=u.filter(D=>D.nextEvent.days!==y).slice(0,3);return _.jsx("div",{className:"p-6 bg-slate-50 h-full overflow-y-auto flex-1",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[140px_1fr] gap-6 mb-6",children:[_.jsxs("div",{className:"grid grid-cols-3 lg:grid-cols-1 gap-4",children:[_.jsxs("button",{onClick:l,className:"bg-white text-center p-4 rounded-xl shadow-sm border border-gray-200 hover:bg-gray-50 transition",children:[_.jsx(So,{className:"mx-auto mb-2 text-indigo-500",size:24}),_.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Nuova Persona"})]}),_.jsxs("button",{onClick:o,className:"bg-white text-center p-4 rounded-xl shadow-sm border border-gray-200 hover:bg-gray-50 transition",children:[_.jsx(xo,{className:"mx-auto mb-2 text-amber-500",size:24}),_.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Nuovo Regalo"})]}),_.jsxs("button",{onClick:()=>p(!0),className:"bg-white text-center p-4 rounded-xl shadow-sm border border-gray-200 hover:bg-gray-50 transition lg:hidden",children:[_.jsx(So,{className:"mx-auto mb-2 text-green-500",size:24}),_.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Persone"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[3fr_2fr] gap-6 min-h-[250px]",children:[b.length>0&&_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200 h-[250px]",children:[_.jsxs("h2",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:["In Scadenza ",x>1&&`(${x})`]}),_.jsxs("div",{className:"flex items-start sm:items-start gap-6",children:[_.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 w-24",children:[_.jsx("div",{className:"flex flex-row items-center justify-center gap-2 mb-4",children:b.map((D,B)=>_.jsx("div",{className:"flex-shrink-0",children:D.foto?_.jsx("img",{src:D.foto,alt:D.nome,className:`w-10 h-10 rounded-full object-cover transition-all duration-300 ${B===T?"border-2 border-indigo-600 scale-110":"border border-gray-300"}`}):_.jsx("div",{className:`w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center transition-all duration-300 ${B===T?"border-2 border-indigo-600 scale-110":"border border-gray-300"}`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:_.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})},D.id))}),_.jsxs("div",{className:"text-center",onClick:()=>d(j),children:[_.jsx("div",{className:"text-5xl font-bold",style:{color:j.nextEvent.days<14?"#E53E3E":"#38A169"},children:j.nextEvent.days}),_.jsx("div",{className:"text-sm font-bold text-gray-500",children:"Giorni"})]})]}),"                                    ",_.jsx("div",{className:"w-px bg-gray-200 self-stretch hidden sm:block"}),_.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>d(b[T]),children:[_.jsxs("div",{className:"mb-4",children:[x>1?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"relative h-6 overflow-hidden",children:b.map((D,B)=>_.jsx("p",{className:`absolute w-full text-xl font-bold transition-all duration-500 ease-in-out
                                                                    ${B===T?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,style:{left:`${(B-T)*100}%`},children:D.nome},D.id))}),_.jsx("p",{className:"text-sm text-gray-500 mb-2",children:b[T].relazione})]}):_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"text-xl font-bold",children:j.nome}),_.jsx("p",{className:"text-sm text-gray-500 mb-2",children:j.relazione})]}),x>1&&_.jsx("div",{className:"flex justify-center gap-2 mt-2",children:b.map((D,B)=>_.jsx("span",{className:`block w-2 h-2 rounded-full cursor-pointer transition-colors
                                                                ${B===T?"bg-indigo-600":"bg-gray-300 hover:bg-gray-400"}`,onClick:ne=>{ne.stopPropagation(),N(B),d(b[B])}},B))})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm mt-2",children:[_.jsxs("span",{className:"flex items-center gap-1.5 bg-indigo-100 text-indigo-600 font-bold px-3 py-1 rounded-full",children:[_.jsx(lv,{size:14}),j.nextEvent.tipo]}),j.lastGift&&j.occorrenza&&_.jsx("span",{className:"font-medium text-gray-600",children:j.occorrenza})]}),j.lastGift&&_.jsxs("div",{className:"mt-4 pt-4 border-t",children:[_.jsxs("p",{className:"text-xs text-gray-400 font-semibold",children:["Ultimo regalo (",j.lastGift.anno,"):"]}),_.jsx("p",{className:"font-semibold text-gray-700",children:j.lastGift.oggetto})]})]})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[_.jsx("h2",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Prossimi Eventi"}),_.jsx("div",{className:"space-y-4",children:$.map((D,B)=>_.jsxs("div",{className:"flex items-center justify-between cursor-pointer group",onClick:()=>d(D),children:[_.jsxs("div",{className:"w-3/4",children:[_.jsx("p",{className:"font-bold group-hover:text-indigo-600 transition truncate",children:D.nome}),_.jsx("p",{className:"text-sm text-gray-500",children:D.nextEvent.tipo})]}),_.jsx("div",{className:"text-right flex-shrink-0",children:_.jsxs("div",{className:`font-bold text-lg ${D.nextEvent.days<14?"text-red-600":"text-green-600"}`,children:[D.nextEvent.days,"gg"]})})]},B))})]})]})]}),_.jsxs("div",{className:"my-6 text-center",children:[_.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-YOUR_ADSENSE_CLIENT_ID","data-ad-slot":"YOUR_ADSENSE_SLOT_ID","data-ad-format":"auto","data-full-width-responsive":"true"}),_.jsxs("script",{children:["(adsbygoogle = window.adsbygoogle || []).push(",");"]})]}),s&&s.length>0&&_.jsxs("div",{className:"p-6 rounded-2xl shadow-sm border border-gray-200",style:{backgroundColor:"#FE6100"},children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[_.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:"Amazon",className:"h-5 invert"}),_.jsx("span",{children:"I pi desiderati al Black Friday"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{onClick:m,className:"text-sm font-bold text-white hover:underline flex items-center gap-1",children:[_.jsx(uv,{size:14})," Rinnova"]}),_.jsx("a",{href:"https://www.amazon.it/most-wished-for?tag=giftminder-21",target:"_blank",rel:"noreferrer",className:"text-sm font-bold text-white hover:underline",children:"Vedi tutti"})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map((D,B)=>_.jsxs("a",{href:D.link,target:"_blank",rel:"noreferrer",className:"group bg-white/20 p-2 rounded-lg flex items-center gap-4",children:[_.jsx("div",{className:"w-20 h-20 rounded-md flex-shrink-0 bg-white flex items-center justify-center p-1 overflow-hidden",children:D.img?_.jsx("img",{src:D.img,alt:D.nome,className:"w-full h-full object-cover"}):_.jsx(_o,{size:32,className:"text-gray-400"})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"text-sm font-bold text-white group-hover:text-gray-200 transition",children:D.nome}),_.jsxs("div",{className:"flex items-center text-xs text-white mt-1",children:[_.jsx(Ts,{size:12,fill:"currentColor"}),_.jsx(Ts,{size:12,fill:"currentColor"}),_.jsx(Ts,{size:12,fill:"currentColor"}),_.jsx(Ts,{size:12,fill:"currentColor"}),_.jsx(Ts,{size:12,className:"text-gray-300",fill:"currentColor"})]})]})]},B))})]})]})})},Cw=u=>{const{activePerson:a,openEditPersonModal:i,openNewPersonModal:s,openNewGiftModal:l,themeStyles:o,headerInfo:d,handleSelectUid:h,currentTheme:m,handleArchive:g,setShowModalStats:v,updateSuggestions:p,activeTab:y,suggerimenti:b,handleTabChange:x,setShowAddEventModal:T,searchTerm:N,setSearchTerm:j,getFilteredGifts:$,calcolaOccorrenza:D,openEditGiftModal:B,handleDeleteSingleGift:ne}=u,[z,V]=ce.useState(!1),[O,C]=ce.useState(""),[q,G]=ce.useState({x:0,y:0});return a?_.jsxs("main",{className:"flex-1 bg-slate-50 overflow-y-scroll p-6 relative",children:[z&&_.jsx("div",{className:"fixed bg-gray-800 text-white text-sm p-3 rounded-lg shadow-lg z-50 max-w-xs",style:{left:q.x,top:q.y,transform:"translateY(-100%)"},children:O}),_.jsxs("div",{className:"max-w-4xl mx-auto pb-20 fade-in",children:[_.jsx("div",{className:"flex justify-between items-start mb-4",children:_.jsxs("div",{className:"flex items-start gap-4",children:[a.foto?_.jsx("img",{src:a.foto,alt:a.nome,className:"w-16 h-16 rounded-full object-cover border-4",style:{borderColor:m.primary}}):_.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center border-4",style:{borderColor:m.primary},children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:_.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("h2",{className:"text-xl font-bold",children:Zc(a.nome,30)}),_.jsx("button",{onClick:i,className:"text-gray-400 hover:text-indigo-600 transition",title:"Modifica",children:_.jsx(I0,{size:20})}),_.jsx("span",{className:"text-xs px-2 py-1 rounded font-bold uppercase",style:o.accentBg,children:a.relazione})]}),_.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[_.jsx(lv,{size:16})," ",d.date?new Date(d.date).toLocaleDateString():"--"," (",d.type,")"]}),_.jsx("div",{className:"min-h-[2.5rem]",children:d.partnerUid&&_.jsxs("button",{onClick:()=>h(d.partnerUid,d.partnerType),className:"flex items-center gap-1 text-sm hover:underline font-medium",style:{color:m.secondary},children:[_.jsx(bw,{size:14})," Partner: ",d.partnerName]})})]})]})}),_.jsxs("div",{className:"flex flex-wrap items-stretch justify-between gap-2 mb-6",children:[_.jsxs("div",{className:"flex-grow flex items-stretch gap-2",children:[_.jsxs("button",{onClick:l,className:"flex-1 bg-white text-center p-4 rounded-xl shadow-sm border border-gray-200 hover:bg-gray-50 transition flex flex-col items-center justify-center",children:[_.jsx(xo,{className:"mb-2 text-amber-500",size:24}),_.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Nuovo Regalo"})]}),_.jsxs("button",{onClick:()=>T(!0),className:"flex-1 bg-white text-center p-4 rounded-xl shadow-sm border border-gray-200 hover:bg-gray-50 transition flex flex-col items-center justify-center",children:[_.jsx(Td,{className:"mb-2 text-green-500",size:24}),_.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Nuova Ricorrenza"})]})]}),_.jsxs("div",{className:"flex-shrink-0 flex flex-col gap-2",children:[_.jsx("div",{className:"flex-1",children:_.jsx("button",{onClick:()=>v(!0),className:"h-full w-full bg-white border border-gray-300 px-3 py-3 rounded-lg font-bold shadow-sm flex items-center justify-center",children:_.jsx(sv,{size:18})})}),_.jsx("div",{className:"flex-1",children:_.jsx("button",{onClick:g,className:"h-full w-full bg-white border border-gray-200 text-gray-400 hover:text-red-600 px-3 py-3 rounded-lg shadow-sm hover:bg-red-50 transition flex justify-center",children:_.jsx(X0,{size:18})})})]})]}),_.jsx("div",{className:"bg-orange-500 text-white text-center p-2 mb-4 rounded-lg shadow-md font-bold",children:" la settimana del Black Friday! Offerte imperdibili su Amazon."}),_.jsxs("div",{className:"border border-gray-200 rounded-xl p-5 mb-8",style:{backgroundColor:m.accent},children:[_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsxs("h3",{className:"font-bold flex items-center gap-2",style:{color:m.textAccent},children:[_.jsx(pw,{size:18})," Ti consiglio di regalare: ",_.jsx("span",{className:"underline",children:y})]}),_.jsxs("button",{onClick:()=>p(y),className:"flex-shrink-0 text-xs flex items-center gap-1 px-2 py-1 rounded hover:opacity-70 transition",style:{color:m.textAccent},children:[_.jsx(uv,{size:12})," Rinnova"]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:b.slice(0,4).map((k,K)=>_.jsxs("a",{href:k.link,target:"_blank",rel:"noreferrer",className:"bg-white border border-gray-200 p-2 rounded-lg hover:shadow-md transition flex items-center gap-3",style:k.link&&k.link.includes("amazon.it")?{backgroundColor:"#fe6100ff",color:"white"}:{},children:[_.jsx("div",{className:"w-16 h-16 rounded-md flex-shrink-0 bg-gray-100 flex items-center justify-center overflow-hidden",children:k.img?_.jsx("img",{src:k.img,alt:k.nome,className:"w-full h-full object-cover"}):_.jsx(_o,{size:24,className:"text-gray-400"})}),_.jsx("div",{className:"flex-1",children:_.jsx("span",{className:"font-bold text-sm",style:k.link&&k.link.includes("amazon.it")?{color:"white"}:{color:m.primary},children:Zc(k.nome,50)})}),_.jsx(Y0,{size:16,className:"text-gray-400",style:k.link&&k.link.includes("amazon.it")?{color:"white"}:{}})]},K))})]}),_.jsx(dv,{}),_.jsxs("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2 no-scrollbar",children:[_.jsx("button",{onClick:()=>x("Tutti"),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${y==="Tutti"?"text-white":"bg-gray-100 text-gray-600"}`,style:y==="Tutti"?{backgroundColor:m.primary}:{},children:"Tutti"}),a.eventi.filter(k=>!k.archived&&k.tipo&&k.tipo.trim()!=="").map(k=>_.jsx("button",{onClick:()=>x(k.tipo),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${y===k.tipo?"text-white":"bg-gray-100 text-gray-600"}`,style:y===k.tipo?{backgroundColor:m.primary}:{},children:k.tipo},k.tipo))]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-end mb-2",children:[_.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",style:{color:m.primary},children:[_.jsx(xo,{})," ",y==="Tutti"?"Tutti i Regali":`Regali per ${y}`]}),_.jsxs("div",{className:"relative",children:[_.jsx(_w,{size:16,className:"absolute left-3 top-2.5 text-gray-400"}),_.jsx("input",{type:"text",value:N,onChange:k=>j(k.target.value),className:"pl-9 pr-3 py-2 border border-gray-200 rounded-lg text-sm outline-none w-48",placeholder:"Cerca regalo..."})]})]}),$().length>0?$().map((k,K)=>{const H=D(k._evtData,k.anno,k._evtTipo);return _.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition flex flex-row gap-4 group relative min-h-[100px]",children:[_.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg flex-shrink-0 overflow-hidden flex items-center justify-center border border-gray-200",children:_.jsx(Aw,{src:k.img})}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-lg",children:k.oggetto}),y==="Tutti"&&_.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",style:{color:m.secondary},children:k._evtTipo})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded flex items-center gap-1 ml-auto",children:[_.jsx(vw,{size:12})," ",k.anno]}),H&&_.jsxs("span",{className:"block text-[10px] mt-1",style:{color:m.secondary},children:["Per ",H]})]})]}),_.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-sm text-gray-600",children:[(k.negozio||k.link)&&_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(xw,{size:14})," ",k.link?_.jsxs("a",{href:k.link,target:"_blank",rel:"noreferrer",className:"hover:underline flex items-center gap-0.5 font-medium",style:{color:m.secondary},children:[k.negozio||"Link"," ",_.jsx(Y0,{size:10})]}):k.negozio]}),k.prezzo>0&&_.jsxs("span",{className:"flex items-center gap-1 font-bold text-green-600",children:[_.jsx(yw,{size:14})," ",k.prezzo.toFixed(2)]}),k.partecipanti&&_.jsxs("span",{className:"flex items-center gap-1 text-gray-600 cursor-pointer relative",onClick:Q=>{C(k.partecipanti),G({x:Q.clientX,y:Q.clientY}),V(!0)},onMouseLeave:()=>V(!1),children:[_.jsx(So,{size:14}),Zc(k.partecipanti,45)]})]}),_.jsxs("div",{className:"mt-4 flex justify-end gap-2 sm:absolute sm:bottom-3 sm:right-3 sm:mt-0 sm:bg-white/90 sm:p-1 sm:rounded-lg sm:shadow-sm sm:opacity-0 sm:group-hover:opacity-100 transition",children:[_.jsx("button",{onClick:()=>B(k,k._rIdx,k._eIdx,k._evtTipo),className:"p-1.5 bg-gray-100 rounded hover:opacity-80",children:_.jsx(I0,{size:16})}),_.jsx("button",{onClick:()=>ne(k._rIdx,k._eIdx),className:"p-1.5 bg-gray-100 text-red-600 rounded hover:bg-red-100",children:_.jsx(X0,{size:16})})]})]})]},K)}):_.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 text-center text-gray-500",children:["Nessun regalo trovato per ",y==="Tutti"?"questa persona":y,"."]})]})]})]}):_.jsx(Ow,{...u})},Nw=({msg:u})=>_.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white px-6 py-3 rounded-full shadow-lg z-[999] text-sm font-bold fade-in",children:u}),Rw=({config:u,onCancel:a,onConfirm:i})=>_.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4 fade-in",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 text-center border border-gray-200",children:[_.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4 text-red-600",children:_.jsx(Sw,{size:24})}),_.jsx("h3",{className:"text-xl font-bold mb-2",children:u.title}),_.jsx("p",{className:"text-gray-500 mb-6",children:u.msg}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:a,className:"flex-1 py-2 bg-gray-100 rounded-lg font-bold hover:bg-gray-200",children:"Annulla"}),_.jsx("button",{onClick:i,className:"flex-1 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700",children:"Conferma"})]})]})}),kw=({currentTheme:u,setCurrentTheme:a,onClose:i,handleLogout:s})=>_.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[70] flex items-center justify-center p-4 fade-in",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 border border-gray-200",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h3",{className:"font-bold text-xl",children:"Opzioni"}),_.jsx("button",{onClick:i,children:_.jsx(Or,{})})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-3",children:"Tema Colore"}),_.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.values(Im).map(l=>_.jsxs("button",{onClick:()=>a(l),className:`p-3 rounded-lg border-2 transition flex items-center gap-2 ${u.id===l.id?"border-current":"border-transparent bg-gray-50"}`,style:{borderColor:u.id===l.id?l.primary:"transparent"},children:[_.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:l.primary}}),_.jsx("span",{className:"text-sm font-bold",children:l.name})]},l.id))})]}),_.jsx("div",{className:"border-t pt-4",children:_.jsxs("button",{onClick:s,className:"w-full text-left px-4 py-3 rounded-lg hover:bg-red-50 text-red-600 font-bold flex items-center gap-3 transition",children:[_.jsx(ov,{size:18}),_.jsx("span",{children:"Esci"})]})})]})});var zw=Object.defineProperty,Uw=(u,a,i)=>a in u?zw(u,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[a]=i,ot=(u,a,i)=>Uw(u,typeof a!="symbol"?a+"":a,i);const Eo={x:0,y:0,width:0,height:0,unit:"px"},_r=(u,a,i)=>Math.min(Math.max(u,a),i),Dw=(...u)=>u.filter(a=>a&&typeof a=="string").join(" "),Q0=(u,a)=>u===a||u.width===a.width&&u.height===a.height&&u.x===a.x&&u.y===a.y&&u.unit===a.unit;function Mw(u,a,i,s){const l=ea(u,i,s);return u.width&&(l.height=l.width/a),u.height&&(l.width=l.height*a),l.y+l.height>s&&(l.height=s-l.y,l.width=l.height*a),l.x+l.width>i&&(l.width=i-l.x,l.height=l.width/a),u.unit==="%"?Wa(l,i,s):l}function Bw(u,a,i){const s=ea(u,a,i);return s.x=(a-s.width)/2,s.y=(i-s.height)/2,u.unit==="%"?Wa(s,a,i):s}function Wa(u,a,i){return u.unit==="%"?{...Eo,...u,unit:"%"}:{unit:"%",x:u.x?u.x/a*100:0,y:u.y?u.y/i*100:0,width:u.width?u.width/a*100:0,height:u.height?u.height/i*100:0}}function ea(u,a,i){return u.unit?u.unit==="px"?{...Eo,...u,unit:"px"}:{unit:"px",x:u.x?u.x*a/100:0,y:u.y?u.y*i/100:0,width:u.width?u.width*a/100:0,height:u.height?u.height*i/100:0}:{...Eo,...u,unit:"px"}}function J0(u,a,i,s,l,o=0,d=0,h=s,m=l){const g={...u};let v=Math.min(o,s),p=Math.min(d,l),y=Math.min(h,s),b=Math.min(m,l);a&&(a>1?(v=d?d*a:v,p=v/a,y=h*a):(p=o?o/a:p,v=p*a,b=m/a)),g.y<0&&(g.height=Math.max(g.height+g.y,p),g.y=0),g.x<0&&(g.width=Math.max(g.width+g.x,v),g.x=0);const x=s-(g.x+g.width);x<0&&(g.x=Math.min(g.x,s-v),g.width+=x);const T=l-(g.y+g.height);if(T<0&&(g.y=Math.min(g.y,l-p),g.height+=T),g.width<v&&((i==="sw"||i=="nw")&&(g.x-=v-g.width),g.width=v),g.height<p&&((i==="nw"||i=="ne")&&(g.y-=p-g.height),g.height=p),g.width>y&&((i==="sw"||i=="nw")&&(g.x-=y-g.width),g.width=y),g.height>b&&((i==="nw"||i=="ne")&&(g.y-=b-g.height),g.height=b),a){const N=g.width/g.height;if(N<a){const j=Math.max(g.width/a,p);(i==="nw"||i=="ne")&&(g.y-=j-g.height),g.height=j}else if(N>a){const j=Math.max(g.height*a,v);(i==="sw"||i=="nw")&&(g.x-=j-g.width),g.width=j}}return g}function Lw(u,a,i,s){const l={...u};return a==="ArrowLeft"?s==="nw"?(l.x-=i,l.y-=i,l.width+=i,l.height+=i):s==="w"?(l.x-=i,l.width+=i):s==="sw"?(l.x-=i,l.width+=i,l.height+=i):s==="ne"?(l.y+=i,l.width-=i,l.height-=i):s==="e"?l.width-=i:s==="se"&&(l.width-=i,l.height-=i):a==="ArrowRight"&&(s==="nw"?(l.x+=i,l.y+=i,l.width-=i,l.height-=i):s==="w"?(l.x+=i,l.width-=i):s==="sw"?(l.x+=i,l.width-=i,l.height-=i):s==="ne"?(l.y-=i,l.width+=i,l.height+=i):s==="e"?l.width+=i:s==="se"&&(l.width+=i,l.height+=i)),a==="ArrowUp"?s==="nw"?(l.x-=i,l.y-=i,l.width+=i,l.height+=i):s==="n"?(l.y-=i,l.height+=i):s==="ne"?(l.y-=i,l.width+=i,l.height+=i):s==="sw"?(l.x+=i,l.width-=i,l.height-=i):s==="s"?l.height-=i:s==="se"&&(l.width-=i,l.height-=i):a==="ArrowDown"&&(s==="nw"?(l.x+=i,l.y+=i,l.width-=i,l.height-=i):s==="n"?(l.y+=i,l.height-=i):s==="ne"?(l.y+=i,l.width-=i,l.height-=i):s==="sw"?(l.x-=i,l.width+=i,l.height+=i):s==="s"?l.height+=i:s==="se"&&(l.width+=i,l.height+=i)),l}const xr={capture:!0,passive:!1};let Hw=0;const Fa=class Xn extends ce.PureComponent{constructor(){super(...arguments),ot(this,"docMoveBound",!1),ot(this,"mouseDownOnCrop",!1),ot(this,"dragStarted",!1),ot(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),ot(this,"componentRef",ce.createRef()),ot(this,"mediaRef",ce.createRef()),ot(this,"resizeObserver"),ot(this,"initChangeCalled",!1),ot(this,"instanceId",`rc-${Hw++}`),ot(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),ot(this,"onCropPointerDown",a=>{const{crop:i,disabled:s}=this.props,l=this.getBox();if(!i)return;const o=ea(i,l.width,l.height);if(s)return;a.cancelable&&a.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const d=a.target.dataset.ord,h=!!d;let m=a.clientX,g=a.clientY,v=o.x,p=o.y;if(d){const y=a.clientX-l.x,b=a.clientY-l.y;let x=0,T=0;d==="ne"||d=="e"?(x=y-(o.x+o.width),T=b-o.y,v=o.x,p=o.y+o.height):d==="se"||d==="s"?(x=y-(o.x+o.width),T=b-(o.y+o.height),v=o.x,p=o.y):d==="sw"||d=="w"?(x=y-o.x,T=b-(o.y+o.height),v=o.x+o.width,p=o.y):(d==="nw"||d=="n")&&(x=y-o.x,T=b-o.y,v=o.x+o.width,p=o.y+o.height),m=v+l.x+x,g=p+l.y+T}this.evData={startClientX:m,startClientY:g,startCropX:v,startCropY:p,clientX:a.clientX,clientY:a.clientY,isResize:h,ord:d},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),ot(this,"onComponentPointerDown",a=>{const{crop:i,disabled:s,locked:l,keepSelection:o,onChange:d}=this.props,h=this.getBox();if(s||l||o&&i)return;a.cancelable&&a.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const m=a.clientX-h.x,g=a.clientY-h.y,v={unit:"px",x:m,y:g,width:0,height:0};this.evData={startClientX:a.clientX,startClientY:a.clientY,startCropX:m,startCropY:g,clientX:a.clientX,clientY:a.clientY,isResize:!0},this.mouseDownOnCrop=!0,d(ea(v,h.width,h.height),Wa(v,h.width,h.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),ot(this,"onDocPointerMove",a=>{const{crop:i,disabled:s,onChange:l,onDragStart:o}=this.props,d=this.getBox();if(s||!i||!this.mouseDownOnCrop)return;a.cancelable&&a.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(a));const{evData:h}=this;h.clientX=a.clientX,h.clientY=a.clientY;let m;h.isResize?m=this.resizeCrop():m=this.dragCrop(),Q0(i,m)||l(ea(m,d.width,d.height),Wa(m,d.width,d.height))}),ot(this,"onComponentKeyDown",a=>{const{crop:i,disabled:s,onChange:l,onComplete:o}=this.props;if(s)return;const d=a.key;let h=!1;if(!i)return;const m=this.getBox(),g=this.makePixelCrop(m),v=(navigator.platform.match("Mac")?a.metaKey:a.ctrlKey)?Xn.nudgeStepLarge:a.shiftKey?Xn.nudgeStepMedium:Xn.nudgeStep;if(d==="ArrowLeft"?(g.x-=v,h=!0):d==="ArrowRight"?(g.x+=v,h=!0):d==="ArrowUp"?(g.y-=v,h=!0):d==="ArrowDown"&&(g.y+=v,h=!0),h){a.cancelable&&a.preventDefault(),g.x=_r(g.x,0,m.width-g.width),g.y=_r(g.y,0,m.height-g.height);const p=ea(g,m.width,m.height),y=Wa(g,m.width,m.height);l(p,y),o&&o(p,y)}}),ot(this,"onHandlerKeyDown",(a,i)=>{const{aspect:s=0,crop:l,disabled:o,minWidth:d=0,minHeight:h=0,maxWidth:m,maxHeight:g,onChange:v,onComplete:p}=this.props,y=this.getBox();if(o||!l)return;if(a.key==="ArrowUp"||a.key==="ArrowDown"||a.key==="ArrowLeft"||a.key==="ArrowRight")a.stopPropagation(),a.preventDefault();else return;const b=(navigator.platform.match("Mac")?a.metaKey:a.ctrlKey)?Xn.nudgeStepLarge:a.shiftKey?Xn.nudgeStepMedium:Xn.nudgeStep,x=ea(l,y.width,y.height),T=Lw(x,a.key,b,i),N=J0(T,s,i,y.width,y.height,d,h,m,g);if(!Q0(l,N)){const j=Wa(N,y.width,y.height);v(N,j),p&&p(N,j)}}),ot(this,"onDocPointerDone",a=>{const{crop:i,disabled:s,onComplete:l,onDragEnd:o}=this.props,d=this.getBox();this.unbindDocMove(),!(s||!i)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,o&&o(a),l&&l(ea(i,d.width,d.height),Wa(i,d.width,d.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),ot(this,"onDragFocus",()=>{var a;(a=this.componentRef.current)==null||a.scrollTo(0,0)})}get document(){return document}getBox(){const a=this.mediaRef.current;if(!a)return{x:0,y:0,width:0,height:0};const{x:i,y:s,width:l,height:o}=a.getBoundingClientRect();return{x:i,y:s,width:l,height:o}}componentDidUpdate(a){const{crop:i,onComplete:s}=this.props;if(s&&!a.crop&&i){const{width:l,height:o}=this.getBox();l&&o&&s(ea(i,l,o),Wa(i,l,o))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,xr),this.document.addEventListener("pointerup",this.onDocPointerDone,xr),this.document.addEventListener("pointercancel",this.onDocPointerDone,xr),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,xr),this.document.removeEventListener("pointerup",this.onDocPointerDone,xr),this.document.removeEventListener("pointercancel",this.onDocPointerDone,xr),this.docMoveBound=!1)}getCropStyle(){const{crop:a}=this.props;if(a)return{top:`${a.y}${a.unit}`,left:`${a.x}${a.unit}`,width:`${a.width}${a.unit}`,height:`${a.height}${a.unit}`}}dragCrop(){const{evData:a}=this,i=this.getBox(),s=this.makePixelCrop(i),l=a.clientX-a.startClientX,o=a.clientY-a.startClientY;return s.x=_r(a.startCropX+l,0,i.width-s.width),s.y=_r(a.startCropY+o,0,i.height-s.height),s}getPointRegion(a,i,s,l){const{evData:o}=this,d=o.clientX-a.x,h=o.clientY-a.y;let m;l&&i?m=i==="nw"||i==="n"||i==="ne":m=h<o.startCropY;let g;return s&&i?g=i==="nw"||i==="w"||i==="sw":g=d<o.startCropX,g?m?"nw":"sw":m?"ne":"se"}resolveMinDimensions(a,i,s=0,l=0){const o=Math.min(s,a.width),d=Math.min(l,a.height);return!i||!o&&!d?[o,d]:i>1?o?[o,o/i]:[d*i,d]:d?[d*i,d]:[o,o/i]}resizeCrop(){const{evData:a}=this,{aspect:i=0,maxWidth:s,maxHeight:l}=this.props,o=this.getBox(),[d,h]=this.resolveMinDimensions(o,i,this.props.minWidth,this.props.minHeight);let m=this.makePixelCrop(o);const g=this.getPointRegion(o,a.ord,d,h),v=a.ord||g;let p=a.clientX-a.startClientX,y=a.clientY-a.startClientY;(d&&v==="nw"||v==="w"||v==="sw")&&(p=Math.min(p,-d)),(h&&v==="nw"||v==="n"||v==="ne")&&(y=Math.min(y,-h));const b={unit:"px",x:0,y:0,width:0,height:0};g==="ne"?(b.x=a.startCropX,b.width=p,i?(b.height=b.width/i,b.y=a.startCropY-b.height):(b.height=Math.abs(y),b.y=a.startCropY-b.height)):g==="se"?(b.x=a.startCropX,b.y=a.startCropY,b.width=p,i?b.height=b.width/i:b.height=y):g==="sw"?(b.x=a.startCropX+p,b.y=a.startCropY,b.width=Math.abs(p),i?b.height=b.width/i:b.height=y):g==="nw"&&(b.x=a.startCropX+p,b.width=Math.abs(p),i?(b.height=b.width/i,b.y=a.startCropY-b.height):(b.height=Math.abs(y),b.y=a.startCropY+y));const x=J0(b,i,g,o.width,o.height,d,h,s,l);return i||Xn.xyOrds.indexOf(v)>-1?m=x:Xn.xOrds.indexOf(v)>-1?(m.x=x.x,m.width=x.width):Xn.yOrds.indexOf(v)>-1&&(m.y=x.y,m.height=x.height),m.x=_r(m.x,0,o.width-m.width),m.y=_r(m.y,0,o.height-m.height),m}renderCropSelection(){const{ariaLabels:a=Xn.defaultProps.ariaLabels,disabled:i,locked:s,renderSelectionAddon:l,ruleOfThirds:o,crop:d}=this.props,h=this.getCropStyle();if(d)return Me.createElement("div",{style:h,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":a.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!i&&!s&&Me.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Me.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Me.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Me.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Me.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":a.nwDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"nw"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":a.nDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"n"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":a.neDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"ne"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":a.eDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"e"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":a.seDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"se"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":a.sDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"s"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":a.swDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"sw"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":a.wDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"w"),role:"button"})),l&&Me.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:m=>m.stopPropagation()},l(this.state)),o&&Me.createElement(Me.Fragment,null,Me.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Me.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(a){const i={...Eo,...this.props.crop||{}};return ea(i,a.width,a.height)}render(){const{aspect:a,children:i,circularCrop:s,className:l,crop:o,disabled:d,locked:h,style:m,ruleOfThirds:g}=this.props,{cropIsActive:v,newCropIsBeingDrawn:p}=this.state,y=o?this.renderCropSelection():null,b=Dw("ReactCrop",l,v&&"ReactCrop--active",d&&"ReactCrop--disabled",h&&"ReactCrop--locked",p&&"ReactCrop--new-crop",o&&a&&"ReactCrop--fixed-aspect",o&&s&&"ReactCrop--circular-crop",o&&g&&"ReactCrop--rule-of-thirds",!this.dragStarted&&o&&!o.width&&!o.height&&"ReactCrop--invisible-crop",s&&"ReactCrop--no-animate");return Me.createElement("div",{ref:this.componentRef,className:b,style:m},Me.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},i),o?Me.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Me.createElement("defs",null,Me.createElement("mask",{id:`hole-${this.instanceId}`},Me.createElement("rect",{width:"100%",height:"100%",fill:"white"}),s?Me.createElement("ellipse",{cx:`${o.x+o.width/2}${o.unit}`,cy:`${o.y+o.height/2}${o.unit}`,rx:`${o.width/2}${o.unit}`,ry:`${o.height/2}${o.unit}`,fill:"black"}):Me.createElement("rect",{x:`${o.x}${o.unit}`,y:`${o.y}${o.unit}`,width:`${o.width}${o.unit}`,height:`${o.height}${o.unit}`,fill:"black"}))),Me.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,y)}};ot(Fa,"xOrds",["e","w"]),ot(Fa,"yOrds",["n","s"]),ot(Fa,"xyOrds",["nw","ne","se","sw"]),ot(Fa,"nudgeStep",1),ot(Fa,"nudgeStepMedium",10),ot(Fa,"nudgeStepLarge",100),ot(Fa,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let qw=Fa;const fv=({imageSrc:u,onConfirm:a,onCancel:i})=>{const[s,l]=ce.useState(),[o,d]=ce.useState(),h=ce.useRef(null);function m(v){const{width:p,height:y}=v.currentTarget,b=Bw(Mw({unit:"%",width:90},1,p,y),p,y);l(b)}const g=async()=>{o?.width&&o?.height&&h.current&&a(h.current,o)};return _.jsx("div",{className:"fixed inset-0 bg-black/70 z-[60] flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6",children:[_.jsx("h3",{className:"font-bold text-lg mb-4",children:"Ritaglia Immagine"}),_.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Centra e ridimensiona la tua immagine del profilo."}),_.jsx("div",{className:"flex justify-center bg-gray-100 p-4 rounded-lg",children:_.jsx(qw,{crop:s,onChange:v=>l(v),onComplete:v=>d(v),aspect:1,circularCrop:!0,keepSelection:!0,children:_.jsx("img",{ref:h,src:u,onLoad:m,alt:"Crop me",style:{maxHeight:"60vh"},crossOrigin:"anonymous"})})}),_.jsxs("div",{className:"pt-4 mt-4 border-t flex justify-end gap-3",children:[_.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 bg-gray-100 font-bold rounded-lg",children:"Annulla"}),_.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg",children:"Conferma"})]})]})})},Gw=({onClose:u,editingPersonId:a,handleSavePerson:i,newPersonName:s,setNewPersonName:l,newPersonPhoto:o,setNewPersonPhoto:d,handlePhotoUpload:h,newRelation:m,setNewRelation:g,relazioniList:v,customRelation:p,setCustomRelation:y,saveCustomRelation:b,newPartnerId:x,setNewPartnerId:T,persone:N,editingEvents:j,handleEditEventChange:$,handleDeleteEventFromEdit:D,handleAddFixedEvents:B,newEventType:ne,setNewEventType:z,eventTypesList:V,customEventType:O,setCustomEventType:C,saveCustomEventType:q,newEventDate:G,setNewEventDate:k})=>{const[K,H]=Me.useState("url"),[Q,S]=Me.useState(null),E=Me.useRef(null),[W,I]=Me.useState(!1);Me.useEffect(()=>{const U=Rs.find(F=>F.type===ne);U?(I(!0),k(U.date)):(I(!1),a||k(""))},[ne,k,a]);const te=U=>{const F=U.target.files[0];if(F){const P=new FileReader;P.onloadend=()=>S(P.result),P.readAsDataURL(F)}},R=()=>{d(""),E.current&&(E.current.value=null)};return _.jsxs(_.Fragment,{children:[Q&&_.jsx(fv,{imageSrc:Q,onCancel:()=>S(null),onConfirm:async(U,F)=>{const P=await iv(U,F);P&&h&&await h(P),S(null)}}),_.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[_.jsxs("h3",{className:"font-bold text-lg",children:[a?"Modifica":"Nuova"," Scheda"]}),_.jsx("button",{onClick:u,children:_.jsx(Or,{})})]}),_.jsx("div",{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:_.jsxs("form",{onSubmit:i,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Nome Persona"}),_.jsx("input",{className:"w-full border border-gray-200 rounded-lg p-2",value:s,onChange:U=>l(U.target.value),autoFocus:!0,required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Foto"}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-100 flex-shrink-0 flex items-center justify-center overflow-hidden border cursor-pointer",onClick:()=>E.current?.click(),title:"Clicca per caricare un\\'immagine",children:o?_.jsx("img",{src:o,alt:"Avatar",className:"w-full h-full object-cover"}):_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:_.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Carica un file cliccando sull'immagine."}),_.jsx("div",{className:"flex gap-2 items-center",children:_.jsx("button",{type:"button",onClick:R,title:"Rimuovi immagine",className:"p-2 text-gray-500 hover:text-red-600",children:_.jsx(cv,{size:18})})}),_.jsx("input",{type:"file",ref:E,onChange:te,accept:"image/png, image/jpeg, image/webp",className:"hidden"})]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Relazione"}),_.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2",value:m,onChange:U=>g(U.target.value),children:[v.map(U=>_.jsx("option",{value:U,children:U},U)),_.jsx("option",{value:"Altro",children:"Altro..."})]}),m==="Altro"&&_.jsxs("div",{className:"flex gap-2 mt-2",children:[_.jsx("input",{className:"w-full border rounded-lg p-2 bg-gray-50",placeholder:"Specifica...",value:p,onChange:U=>y(U.target.value),required:!0}),_.jsx("button",{type:"button",onClick:b,className:"bg-green-100 text-green-600 p-2 rounded",children:_.jsx(gd,{size:18})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Partner"}),_.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2",value:x,onChange:U=>T(U.target.value),children:[_.jsx("option",{value:"",children:"Nessuno"}),N.filter(U=>U.id!==a).map(U=>_.jsx("option",{value:U.id,children:U.nome},U.id))]})]})]}),!a&&_.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2",children:[_.jsx("h4",{className:"text-sm font-bold mb-2 text-gray-600",children:"Prima Ricorrenza"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tipo Evento"}),_.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2",value:ne,onChange:U=>z(U.target.value),children:[V.map(U=>_.jsx("option",{value:U,children:U},U)),_.jsx("option",{value:"Altro",children:"Altro..."})]}),ne==="Altro"&&_.jsxs("div",{className:"flex gap-2 mt-2",children:[_.jsx("input",{className:"w-full border rounded-lg p-2 bg-gray-50",placeholder:"Specifica...",value:O,onChange:U=>C(U.target.value),required:!0}),_.jsx("button",{type:"button",onClick:q,className:"bg-green-100 text-green-600 p-2 rounded",children:_.jsx(gd,{size:18})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Data"}),W?_.jsx("div",{className:"w-full border border-gray-200 rounded-lg p-2 bg-gray-200 text-gray-600",children:fd(G)}):_.jsx("input",{type:"date",className:"w-full border border-gray-200 rounded-lg p-2",value:G,onChange:U=>k(U.target.value),required:!0})]})]})]}),a&&_.jsxs("div",{className:"pt-4 border-t",children:[_.jsx("div",{className:"flex justify-between items-center",children:_.jsx("h4",{className:"font-bold mb-2",children:"Eventi"})}),j.filter(U=>!Rs.some(F=>F.tipo===U.tipo)).map((U,F)=>{const P=Rs.some(X=>X.tipo===U.tipo);return _.jsxs("div",{className:"flex gap-2 items-end p-2 rounded-lg bg-gray-50 mb-2",children:[_.jsx("input",{value:U.tipo,readOnly:P,onChange:X=>$(F,"tipo",X.target.value),className:`w-full border border-gray-200 p-2 rounded-lg ${P?"bg-gray-200 cursor-not-allowed":""}`}),P?_.jsx("div",{className:"w-full border border-gray-200 p-2 rounded-lg bg-gray-200 text-gray-600",children:fd(U.data)}):_.jsx("input",{type:"date",value:U.data,onChange:X=>$(F,"data",X.target.value),className:"w-full border border-gray-200 p-2 rounded-lg"}),_.jsx("button",{type:"button",onClick:()=>D(F),className:`p-2 ${P?"text-gray-300 cursor-not-allowed":"text-red-500 hover:bg-red-100 rounded-full"}`,disabled:P,children:_.jsx(Or,{size:16})})]},F)})]}),_.jsxs("div",{className:"pt-4 border-t flex justify-end gap-3",children:[_.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 bg-gray-100 font-bold rounded-lg",children:"Annulla"}),_.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg",children:"Salva"})]})]})})]})})]})},$w=u=>{const[a,i]=ce.useState(null),s=ce.useRef(null),l=g=>{const v=g.target.files[0];if(v){const p=new FileReader;p.onloadend=()=>i(p.result),p.readAsDataURL(v)}},o=()=>{u.setGiftImg(""),s.current&&(s.current.value=null)},h=u.activePerson?.eventi.find(g=>g.tipo===u.giftTargetEvent)?.is_fixed,m=g=>{if(!g)return;const v=u.persone.find(p=>p.id.toString()===g);v&&v.eventi.length>0?u.handleSelectUid(`${g}-0`):u.handleSelectUid(`${g}-0`)};return _.jsxs(_.Fragment,{children:[a&&_.jsx(fv,{imageSrc:a,onCancel:()=>i(null),onConfirm:async(g,v)=>{const p=await iv(g,v);p&&u.handleGiftImageUpload&&await u.handleGiftImageUpload(p),i(null)}}),_.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 fade-in",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden max-h-[90vh] overflow-y-auto flex flex-col",children:[_.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[_.jsx("h3",{className:"font-bold text-lg",children:"Regalo"}),_.jsx("button",{onClick:u.onClose,children:_.jsx(Or,{})})]}),_.jsxs("div",{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[u.editingGiftIndex===null&&_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Persona"}),_.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.activePerson?.id||"",onChange:g=>m(g.target.value),children:[_.jsx("option",{value:"",disabled:!0,children:"Seleziona una persona"}),u.persone.map(g=>_.jsx("option",{value:g.id,children:g.nome},g.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Occasione"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftTargetEvent,onChange:g=>{u.setGiftTargetEvent(g.target.value),u.updateSuggestions(g.target.value)},disabled:!u.activePerson,children:[u.activePerson&&u.activePerson.eventi&&[...new Set(u.activePerson.eventi.filter(g=>!g.archived).map(g=>g.tipo))].map(g=>_.jsx("option",{value:g,children:g},g)),u.pendingNewEventData&&_.jsx("option",{value:u.pendingNewEventData.tipo,children:u.pendingNewEventData.tipo},u.pendingNewEventData.tipo),(!u.activePerson||!u.activePerson.eventi||u.activePerson.eventi.filter(g=>!g.archived).length===0&&!u.pendingNewEventData)&&_.jsx("option",{value:"",disabled:!0,children:"Nessun evento"})]}),_.jsx("button",{onClick:()=>{u.setIsAddingEventFromGiftModal(!0),u.setShowAddEventModal(!0)},className:"bg-gray-100 px-3 rounded-lg font-bold",disabled:!u.activePerson,children:"+"})]})]})]}),u.editingGiftIndex===null&&_.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-lg p-3",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2",children:[_.jsxs("h4",{className:"text-xs font-bold text-amber-800",children:[" Consigli Rapidi ",u.giftTargetEvent?`(${u.giftTargetEvent})`:"(Generici)"]}),_.jsx("button",{onClick:()=>u.updateSuggestions(u.giftTargetEvent),className:"text-[10px] text-amber-600 hover:underline",children:"Rinnova"})]}),_.jsx("div",{className:"grid grid-cols-3 gap-3",children:u.suggerimenti.slice(0,3).map((g,v)=>_.jsxs("a",{href:g.link,target:"_blank",rel:"noreferrer",className:"bg-white border border-amber-200 rounded-lg text-center hover:shadow-md transition-shadow overflow-hidden flex flex-col",children:[_.jsx("div",{className:"w-full h-20 bg-gray-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:g.img?_.jsx("img",{src:g.img,alt:g.nome,className:"w-full h-full object-cover"}):_.jsx(_o,{size:32,className:"text-gray-300"})}),_.jsxs("div",{className:"p-2 flex-1 flex flex-col justify-center",children:[_.jsx("span",{className:"text-xs font-bold text-gray-800 block truncate",children:g.nome}),_.jsx("span",{className:"text-[10px] text-amber-500",children:"Amazon "})]})]},v))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Oggetto"}),_.jsx("input",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftObj,onChange:g=>u.setGiftObj(g.target.value),required:!0})]}),_.jsxs("div",{className:"flex gap-4 items-start",children:[_.jsxs("div",{className:"flex-1 space-y-4",children:[" ",!h&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Anno"}),_.jsx("input",{type:"number",className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftYear,onChange:g=>u.setGiftYear(g.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Prezzo ()"}),_.jsx("input",{type:"text",inputMode:"decimal",className:"w-full border border-gray-200 rounded-lg p-3",value:typeof u.giftPrice=="number"?av(u.giftPrice):u.giftPrice,onChange:g=>u.setGiftPrice(g.target.value),placeholder:"Es. 49,99"})]})]}),_.jsxs("div",{className:"flex-shrink-0",children:[" ",_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Immagine"}),_.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg flex-shrink-0 flex items-center justify-center overflow-hidden border border-gray-200 cursor-pointer",onClick:()=>s.current?.click(),title:"Clicca per caricare un'immagine",children:u.giftImg?_.jsx("img",{src:u.giftImg,alt:"Anteprima regalo",className:"w-full h-full object-cover"}):_.jsx(_o,{className:"text-gray-400",size:32})}),_.jsx("div",{className:"flex justify-center mt-2",children:_.jsx("button",{type:"button",onClick:o,title:"Rimuovi immagine",className:"p-2 text-gray-500 hover:text-red-600",children:_.jsx(cv,{size:18})})}),_.jsx("input",{type:"file",ref:s,onChange:l,accept:"image/*",capture:"environment",className:"hidden"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Link Prodotto"}),_.jsx("input",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftLink,onChange:g=>u.setGiftLink(g.target.value),placeholder:"https://..."})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Negozio"}),_.jsx("input",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftShop,onChange:g=>u.setGiftShop(g.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold mb-1",children:"Partecipanti"}),_.jsx("input",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftParticipants,onChange:g=>u.setGiftParticipants(g.target.value)})]})]}),_.jsxs("div",{className:"pt-4 border-t flex justify-end gap-3",children:[_.jsx("button",{type:"button",onClick:u.onClose,className:"px-4 py-2 bg-gray-100 font-bold rounded-lg",children:"Annulla"}),_.jsx("button",{onClick:u.handleSaveRegalo,className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg",children:"Salva Regalo"})]})]})]})})]})},Yw=({onClose:u,handleAddEventToPerson:a,addEventName:i,setAddEventName:s,eventTypesList:l,customAddEventName:o,setCustomAddEventName:d,saveCustomAddEventName:h,addEventDate:m,setAddEventDate:g,themeStyles:v,isAddingEventFromGiftModal:p,setIsAddingEventFromGiftModal:y,activePerson:b})=>{const[x,T]=ce.useState(!1);ce.useEffect(()=>{const j=Rs.find($=>$.type===i);j?(T(!0),g(j.date)):(T(!1),g(""))},[i,g]);const N=()=>{a(),u()};return _.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 border border-gray-200",children:[_.jsx("h3",{className:"font-bold text-lg mb-4",children:"Aggiungi Ricorrenza"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2",value:i,onChange:j=>s(j.target.value),children:[l.map(j=>_.jsx("option",{value:j,children:j},j)),_.jsx("option",{value:"Altro",children:"Altro..."})]}),i==="Altro"&&_.jsxs("div",{className:"flex gap-2 mt-2",children:[_.jsx("input",{className:"w-full border rounded-lg p-2 bg-gray-50",placeholder:"Specifica...",value:o,onChange:j=>d(j.target.value),required:!0}),_.jsx("button",{type:"button",onClick:h,className:"bg-green-100 text-green-600 p-2 rounded",children:_.jsx(gd,{size:18})})]})]}),x?_.jsx("div",{className:"w-full border border-gray-200 rounded-lg p-2 bg-gray-200 text-gray-600",children:fd(m)}):_.jsx("input",{type:"date",className:"w-full border border-gray-200 rounded-lg p-2",value:m,onChange:j=>g(j.target.value)}),_.jsx("button",{onClick:N,style:v.primary,className:"w-full font-bold py-2 rounded-lg",children:"Aggiungi"}),_.jsx("button",{onClick:u,className:"w-full text-gray-500 py-2",children:"Annulla"})]})]})})},Vw=({onClose:u,eventiArchiviati:a,handleRestore:i,handlePermanentDelete:s})=>_.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden h-[80vh] flex flex-col",children:[_.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[_.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[_.jsx(hd,{size:20})," Archivio"]}),_.jsx("button",{onClick:u,children:_.jsx(Or,{})})]}),_.jsx("div",{className:"overflow-y-auto p-4 flex-1 space-y-2",children:a.map(l=>_.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border border-gray-200",children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-sm",children:l.nome}),_.jsx("p",{className:"text-xs text-gray-400",children:l.tipo})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>i(l.uid),className:"p-1.5 bg-green-100 text-green-600 rounded",children:_.jsx(Ew,{size:16})}),_.jsx("button",{onClick:()=>s(l.uid),className:"p-1.5 bg-red-100 text-red-600 rounded",children:_.jsx(Or,{size:16})})]})]},l.uid))})]})}),Iw=({onClose:u,activePerson:a,getStatsBreakdown:i,currentTheme:s})=>_.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm text-center overflow-hidden shadow-2xl",children:[_.jsxs("div",{className:"p-6 text-white",style:{backgroundColor:s.primary},children:[_.jsx(sv,{size:40,className:"mx-auto mb-2 opacity-80"}),_.jsx("h3",{className:"text-xl font-bold",children:"Riepilogo Spese"}),_.jsxs("p",{className:"opacity-80",children:["Per ",a.nome]})]}),_.jsxs("div",{className:"p-6",children:[_.jsx("div",{className:"space-y-3 mb-6 max-h-40 overflow-y-auto custom-scroll",children:i().breakdown.map((l,o)=>_.jsxs("div",{className:"flex justify-between text-sm border-b pb-2 border-gray-100",children:[_.jsx("span",{className:"text-gray-600 font-medium",children:l.type}),_.jsxs("span",{className:"font-bold text-gray-800",children:["",l.amount]})]},o))}),_.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[_.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider font-bold mb-1",children:"Totale"}),_.jsxs("div",{className:"text-4xl font-bold tracking-tighter",style:{color:s.primary},children:["",i().total]})]}),_.jsx("button",{onClick:u,className:"mt-6 w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-3 rounded-xl",children:"Chiudi"})]})]})});function Kw(){const u=dw();return u.session?_.jsxs("div",{className:"flex flex-col md:flex-row bg-white text-gray-800 overflow-hidden relative h-full",children:[u.toastMsg&&_.jsx(Nw,{msg:u.toastMsg}),u.confirmConfig.show&&_.jsx(Rw,{config:u.confirmConfig,onCancel:()=>u.setConfirmConfig({...u.confirmConfig,show:!1}),onConfirm:u.executeConfirm}),_.jsx("div",{className:"flex-grow contents order-2 md:order-1",children:_.jsx(Tw,{...u})}),_.jsx("div",{className:"flex-grow contents order-1 md:order-2",children:_.jsx(Cw,{...u,calcolaOccorrenza:dd})}),u.showSettings&&_.jsx(kw,{currentTheme:u.currentTheme,setCurrentTheme:u.setCurrentTheme,onClose:()=>u.setShowSettings(!1),handleLogout:u.handleLogout}),u.showModalPerson&&_.jsx(Gw,{onClose:()=>u.setShowModalPerson(!1),...u}),u.showModalGift&&_.jsx($w,{onClose:()=>{u.setShowModalGift(!1),u.setPendingNewEventData(null)},...u}),u.showAddEventModal&&_.jsx(Yw,{onClose:()=>u.setShowAddEventModal(!1),isAddingEventFromGiftModal:u.isAddingEventFromGiftModal,setIsAddingEventFromGiftModal:u.setIsAddingEventFromGiftModal,setPendingNewEventData:u.setPendingNewEventData,...u}),u.showArchive&&_.jsx(Vw,{onClose:()=>u.setShowArchive(!1),...u}),u.showModalStats&&u.activePerson&&_.jsx(Iw,{onClose:()=>u.setShowModalStats(!1),...u})]}):_.jsx(fw,{...u})}jp.createRoot(document.getElementById("root")).render(_.jsx(ce.StrictMode,{children:_.jsx(Kw,{})}));
