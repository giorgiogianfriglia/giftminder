function mp(u,a){for(var i=0;i<a.length;i++){const s=a[i];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in u)){const o=Object.getOwnPropertyDescriptor(s,l);o&&Object.defineProperty(u,l,o.get?o:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();function F0(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function vp(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var a=u.default;if(typeof a=="function"){var i=function s(){var l=!1;try{l=this instanceof s}catch{}return l?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};i.prototype=a.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(u).forEach(function(s){var l=Object.getOwnPropertyDescriptor(u,s);Object.defineProperty(i,s,l.get?l:{enumerable:!0,get:function(){return u[s]}})}),i}var Lc={exports:{}},Cs={};var r0;function yp(){if(r0)return Cs;r0=1;var u=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(s,l,o){var d=null;if(o!==void 0&&(d=""+o),l.key!==void 0&&(d=""+l.key),"key"in l){o={};for(var h in l)h!=="key"&&(o[h]=l[h])}else o=l;return l=o.ref,{$$typeof:u,type:s,key:d,ref:l!==void 0?l:null,props:o}}return Cs.Fragment=a,Cs.jsx=i,Cs.jsxs=i,Cs}var s0;function pp(){return s0||(s0=1,Lc.exports=yp()),Lc.exports}var b=pp(),Hc={exports:{}},Ae={};var l0;function bp(){if(l0)return Ae;l0=1;var u=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),p=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=p&&R[p]||R["@@iterator"],typeof R=="function"?R:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function A(R,z,F){this.props=R,this.context=z,this.refs=N,this.updater=F||x}A.prototype.isReactComponent={},A.prototype.setState=function(R,z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,z,"setState")},A.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Y(){}Y.prototype=A.prototype;function U(R,z,F){this.props=R,this.context=z,this.refs=N,this.updater=F||x}var B=U.prototype=new Y;B.constructor=U,T(B,A.prototype),B.isPureReactComponent=!0;var ae=Array.isArray;function k(){}var I={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function C(R,z,F){var Q=F.ref;return{$$typeof:u,type:R,key:z,ref:Q!==void 0?Q:null,props:F}}function G(R,z){return C(R.type,z,R.props)}function $(R){return typeof R=="object"&&R!==null&&R.$$typeof===u}function H(R){var z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(F){return z[F]})}var M=/\/+/g;function q(R,z){return typeof R=="object"&&R!==null&&R.key!=null?H(""+R.key):z.toString(36)}function X(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(k,k):(R.status="pending",R.then(function(z){R.status==="pending"&&(R.status="fulfilled",R.value=z)},function(z){R.status==="pending"&&(R.status="rejected",R.reason=z)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function S(R,z,F,Q,P){var de=typeof R;(de==="undefined"||de==="boolean")&&(R=null);var me=!1;if(R===null)me=!0;else switch(de){case"bigint":case"string":case"number":me=!0;break;case"object":switch(R.$$typeof){case u:case a:me=!0;break;case v:return me=R._init,S(me(R._payload),z,F,Q,P)}}if(me)return P=P(R),me=Q===""?"."+q(R,0):Q,ae(P)?(F="",me!=null&&(F=me.replace(M,"$&/")+"/"),S(P,z,F,"",function(ke){return ke})):P!=null&&($(P)&&(P=G(P,F+(P.key==null||R&&R.key===P.key?"":(""+P.key).replace(M,"$&/")+"/")+me)),z.push(P)),1;me=0;var Se=Q===""?".":Q+":";if(ae(R))for(var be=0;be<R.length;be++)Q=R[be],de=Se+q(Q,be),me+=S(Q,z,F,de,P);else if(be=w(R),typeof be=="function")for(R=be.call(R),be=0;!(Q=R.next()).done;)Q=Q.value,de=Se+q(Q,be++),me+=S(Q,z,F,de,P);else if(de==="object"){if(typeof R.then=="function")return S(X(R),z,F,Q,P);throw z=String(R),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return me}function E(R,z,F){if(R==null)return R;var Q=[],P=0;return S(R,Q,"","",function(de){return z.call(F,de,P++)}),Q}function W(R){if(R._status===-1){var z=R._result;z=z(),z.then(function(F){(R._status===0||R._status===-1)&&(R._status=1,R._result=F)},function(F){(R._status===0||R._status===-1)&&(R._status=2,R._result=F)}),R._status===-1&&(R._status=0,R._result=z)}if(R._status===1)return R._result.default;throw R._result}var K=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},te={map:E,forEach:function(R,z,F){E(R,function(){z.apply(this,arguments)},F)},count:function(R){var z=0;return E(R,function(){z++}),z},toArray:function(R){return E(R,function(z){return z})||[]},only:function(R){if(!$(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ae.Activity=y,Ae.Children=te,Ae.Component=A,Ae.Fragment=i,Ae.Profiler=l,Ae.PureComponent=U,Ae.StrictMode=s,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(R){return I.H.useMemoCache(R)}},Ae.cache=function(R){return function(){return R.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(R,z,F){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Q=T({},R.props),P=R.key;if(z!=null)for(de in z.key!==void 0&&(P=""+z.key),z)!O.call(z,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&z.ref===void 0||(Q[de]=z[de]);var de=arguments.length-2;if(de===1)Q.children=F;else if(1<de){for(var me=Array(de),Se=0;Se<de;Se++)me[Se]=arguments[Se+2];Q.children=me}return C(R.type,P,Q)},Ae.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Ae.createElement=function(R,z,F){var Q,P={},de=null;if(z!=null)for(Q in z.key!==void 0&&(de=""+z.key),z)O.call(z,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(P[Q]=z[Q]);var me=arguments.length-2;if(me===1)P.children=F;else if(1<me){for(var Se=Array(me),be=0;be<me;be++)Se[be]=arguments[be+2];P.children=Se}if(R&&R.defaultProps)for(Q in me=R.defaultProps,me)P[Q]===void 0&&(P[Q]=me[Q]);return C(R,de,P)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(R){return{$$typeof:h,render:R}},Ae.isValidElement=$,Ae.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:W}},Ae.memo=function(R,z){return{$$typeof:g,type:R,compare:z===void 0?null:z}},Ae.startTransition=function(R){var z=I.T,F={};I.T=F;try{var Q=R(),P=I.S;P!==null&&P(F,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(k,K)}catch(de){K(de)}finally{z!==null&&F.types!==null&&(z.types=F.types),I.T=z}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(R){return I.H.use(R)},Ae.useActionState=function(R,z,F){return I.H.useActionState(R,z,F)},Ae.useCallback=function(R,z){return I.H.useCallback(R,z)},Ae.useContext=function(R){return I.H.useContext(R)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(R,z){return I.H.useDeferredValue(R,z)},Ae.useEffect=function(R,z){return I.H.useEffect(R,z)},Ae.useEffectEvent=function(R){return I.H.useEffectEvent(R)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(R,z,F){return I.H.useImperativeHandle(R,z,F)},Ae.useInsertionEffect=function(R,z){return I.H.useInsertionEffect(R,z)},Ae.useLayoutEffect=function(R,z){return I.H.useLayoutEffect(R,z)},Ae.useMemo=function(R,z){return I.H.useMemo(R,z)},Ae.useOptimistic=function(R,z){return I.H.useOptimistic(R,z)},Ae.useReducer=function(R,z,F){return I.H.useReducer(R,z,F)},Ae.useRef=function(R){return I.H.useRef(R)},Ae.useState=function(R){return I.H.useState(R)},Ae.useSyncExternalStore=function(R,z,F){return I.H.useSyncExternalStore(R,z,F)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var o0;function pd(){return o0||(o0=1,Hc.exports=bp()),Hc.exports}var fe=pd();const Le=F0(fe);var qc={exports:{}},Ns={},Gc={exports:{}},$c={};var u0;function wp(){return u0||(u0=1,(function(u){function a(S,E){var W=S.length;S.push(E);e:for(;0<W;){var K=W-1>>>1,te=S[K];if(0<l(te,E))S[K]=E,S[W]=te,W=K;else break e}}function i(S){return S.length===0?null:S[0]}function s(S){if(S.length===0)return null;var E=S[0],W=S.pop();if(W!==E){S[0]=W;e:for(var K=0,te=S.length,R=te>>>1;K<R;){var z=2*(K+1)-1,F=S[z],Q=z+1,P=S[Q];if(0>l(F,W))Q<te&&0>l(P,F)?(S[K]=P,S[Q]=W,K=Q):(S[K]=F,S[z]=W,K=z);else if(Q<te&&0>l(P,W))S[K]=P,S[Q]=W,K=Q;else break e}}return E}function l(S,E){var W=S.sortIndex-E.sortIndex;return W!==0?W:S.id-E.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var d=Date,h=d.now();u.unstable_now=function(){return d.now()-h}}var m=[],g=[],v=1,y=null,p=3,w=!1,x=!1,T=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function B(S){for(var E=i(g);E!==null;){if(E.callback===null)s(g);else if(E.startTime<=S)s(g),E.sortIndex=E.expirationTime,a(m,E);else break;E=i(g)}}function ae(S){if(T=!1,B(S),!x)if(i(m)!==null)x=!0,k||(k=!0,H());else{var E=i(g);E!==null&&X(ae,E.startTime-S)}}var k=!1,I=-1,O=5,C=-1;function G(){return N?!0:!(u.unstable_now()-C<O)}function $(){if(N=!1,k){var S=u.unstable_now();C=S;var E=!0;try{e:{x=!1,T&&(T=!1,Y(I),I=-1),w=!0;var W=p;try{t:{for(B(S),y=i(m);y!==null&&!(y.expirationTime>S&&G());){var K=y.callback;if(typeof K=="function"){y.callback=null,p=y.priorityLevel;var te=K(y.expirationTime<=S);if(S=u.unstable_now(),typeof te=="function"){y.callback=te,B(S),E=!0;break t}y===i(m)&&s(m),B(S)}else s(m);y=i(m)}if(y!==null)E=!0;else{var R=i(g);R!==null&&X(ae,R.startTime-S),E=!1}}break e}finally{y=null,p=W,w=!1}E=void 0}}finally{E?H():k=!1}}}var H;if(typeof U=="function")H=function(){U($)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,q=M.port2;M.port1.onmessage=$,H=function(){q.postMessage(null)}}else H=function(){A($,0)};function X(S,E){I=A(function(){S(u.unstable_now())},E)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(S){S.callback=null},u.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<S?Math.floor(1e3/S):5},u.unstable_getCurrentPriorityLevel=function(){return p},u.unstable_next=function(S){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var W=p;p=E;try{return S()}finally{p=W}},u.unstable_requestPaint=function(){N=!0},u.unstable_runWithPriority=function(S,E){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var W=p;p=S;try{return E()}finally{p=W}},u.unstable_scheduleCallback=function(S,E,W){var K=u.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,S){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=W+te,S={id:v++,callback:E,priorityLevel:S,startTime:W,expirationTime:te,sortIndex:-1},W>K?(S.sortIndex=W,a(g,S),i(m)===null&&S===i(g)&&(T?(Y(I),I=-1):T=!0,X(ae,W-K))):(S.sortIndex=te,a(m,S),x||w||(x=!0,k||(k=!0,H()))),S},u.unstable_shouldYield=G,u.unstable_wrapCallback=function(S){var E=p;return function(){var W=p;p=E;try{return S.apply(this,arguments)}finally{p=W}}}})($c)),$c}var c0;function _p(){return c0||(c0=1,Gc.exports=wp()),Gc.exports}var Yc={exports:{}},Qt={};var d0;function xp(){if(d0)return Qt;d0=1;var u=pd();function a(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(m,g,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:m,containerInfo:g,implementation:v}}var d=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return o(m,g,null,v)},Qt.flushSync=function(m){var g=d.T,v=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=g,s.p=v,s.d.f()}},Qt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Qt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Qt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,y=h(v,g.crossOrigin),p=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:p,fetchPriority:w}):v==="script"&&s.d.X(m,{crossOrigin:y,integrity:p,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Qt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,y=h(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Qt.requestFormReset=function(m){s.d.r(m)},Qt.unstable_batchedUpdates=function(m,g){return m(g)},Qt.useFormState=function(m,g,v){return d.H.useFormState(m,g,v)},Qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qt.version="19.2.0",Qt}var f0;function Sp(){if(f0)return Yc.exports;f0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(a){console.error(a)}}return u(),Yc.exports=xp(),Yc.exports}var h0;function Ep(){if(h0)return Ns;h0=1;var u=_p(),a=pd(),i=Sp();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(o(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var c=n.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){n=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===n)return m(c),e;if(f===r)return m(c),t;f=f.sibling}throw Error(s(188))}if(n.return!==r.return)n=c,r=f;else{for(var _=!1,j=c.child;j;){if(j===n){_=!0,n=c,r=f;break}if(j===r){_=!0,r=c,n=f;break}j=j.sibling}if(!_){for(j=f.child;j;){if(j===n){_=!0,n=f,r=c;break}if(j===r){_=!0,r=f,n=c;break}j=j.sibling}if(!_)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,p=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),U=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case A:return"Profiler";case N:return"StrictMode";case ae:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case U:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch{}}return null}var X=Array.isArray,S=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},K=[],te=-1;function R(e){return{current:e}}function z(e){0>te||(e.current=K[te],K[te]=null,te--)}function F(e,t){te++,K[te]=e.current,e.current=t}var Q=R(null),P=R(null),de=R(null),me=R(null);function Se(e,t){switch(F(de,t),F(P,e),F(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Og(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Og(t),e=Cg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(Q),F(Q,e)}function be(){z(Q),z(P),z(de)}function ke(e){e.memoizedState!==null&&F(me,e);var t=Q.current,n=Cg(t,e.type);t!==n&&(F(P,e),F(Q,n))}function Ve(e){P.current===e&&(z(Q),z(P)),me.current===e&&(z(me),js._currentValue=W)}var et,Oe;function xt(e){if(et===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||"",Oe=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+e+Oe}var Ie=!1;function vt(e,t){if(!e||Ie)return"";Ie=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ie){var ee=ie}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(ie){ee=ie}e.call(oe.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),_=f[0],j=f[1];if(_&&j){var D=_.split(`
`),Z=j.split(`
`);for(c=r=0;r<D.length&&!D[r].includes("DetermineComponentFrameRoot");)r++;for(;c<Z.length&&!Z[c].includes("DetermineComponentFrameRoot");)c++;if(r===D.length||c===Z.length)for(r=D.length-1,c=Z.length-1;1<=r&&0<=c&&D[r]!==Z[c];)c--;for(;1<=r&&0<=c;r--,c--)if(D[r]!==Z[c]){if(r!==1||c!==1)do if(r--,c--,0>c||D[r]!==Z[c]){var se=`
`+D[r].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=r&&0<=c);break}}}finally{Ie=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xt(n):""}function Xe(e,t){switch(e.tag){case 26:case 27:case 5:return xt(e.type);case 16:return xt("Lazy");case 13:return e.child!==t&&t!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return vt(e.type,!1);case 11:return vt(e.type.render,!1);case 1:return vt(e.type,!0);case 31:return xt("Activity");default:return""}}function Ye(e){try{var t="",n=null;do t+=Xe(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ut=Object.prototype.hasOwnProperty,at=u.unstable_scheduleCallback,tt=u.unstable_cancelCallback,Bt=u.unstable_shouldYield,st=u.unstable_requestPaint,je=u.unstable_now,Lt=u.unstable_getCurrentPriorityLevel,At=u.unstable_ImmediatePriority,nn=u.unstable_UserBlockingPriority,ht=u.unstable_NormalPriority,gn=u.unstable_LowPriority,gt=u.unstable_IdlePriority,Yt=u.log,Ht=u.unstable_setDisableYieldValue,Tt=null,Qe=null;function yt(e){if(typeof Yt=="function"&&Ht(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Tt,e)}catch{}}var pt=Math.clz32?Math.clz32:Aa,la=Math.log,Ln=Math.LN2;function Aa(e){return e>>>=0,e===0?32:31-(la(e)/Ln|0)|0}var an=256,Jn=262144,qt=4194304;function Ot(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ft(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var j=r&134217727;return j!==0?(r=j&~f,r!==0?c=Ot(r):(_&=j,_!==0?c=Ot(_):n||(n=j&~e,n!==0&&(c=Ot(n))))):(j=r&~f,j!==0?c=Ot(j):_!==0?c=Ot(_):n||(n=r&~e,n!==0&&(c=Ot(n)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:c}function rn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function si(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var e=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),e}function en(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gs(e,t,n,r,c,f){var _=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var j=e.entanglements,D=e.expirationTimes,Z=e.hiddenUpdates;for(n=_&~n;0<n;){var se=31-pt(n),oe=1<<se;j[se]=0,D[se]=-1;var ee=Z[se];if(ee!==null)for(Z[se]=null,se=0;se<ee.length;se++){var ie=ee[se];ie!==null&&(ie.lane&=-536870913)}n&=~oe}r!==0&&Hi(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~t))}function Hi(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function li(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),c=1<<r;c&t|e[r]&t&&(e[r]|=t),n&=~c}}function qi(e,t){var n=t&-t;return n=(n&42)!==0?1:Gi(n),(n&(e.suspendedLanes|t))!==0?0:n}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ui(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:Fg(e.type))}function $i(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var Hn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Hn,Gt="__reactProps$"+Hn,Zn="__reactContainer$"+Hn,ci="__reactEvents$"+Hn,Yi="__reactListeners$"+Hn,Vi="__reactHandles$"+Hn,di="__reactResources$"+Hn,Fn="__reactMarker$"+Hn;function fi(e){delete e[bt],delete e[Gt],delete e[ci],delete e[Yi],delete e[Vi]}function Ta(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zn]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mg(e);e!==null;){if(n=e[bt])return n;e=Mg(e)}return t}e=n,n=e.parentNode}return null}function ua(e){if(e=e[bt]||e[Zn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function St(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Oa(e){var t=e[di];return t||(t=e[di]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ct(e){e[Fn]=!0}var $s=new Set,Ys={};function mn(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Ys[e]=t,e=0;e<t.length;e++)$s.add(t[e])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Br={},Vs={};function Is(e){return ut.call(Vs,e)?!0:ut.call(Br,e)?!1:Uo.test(e)?Vs[e]=!0:(Br[e]=!0,!1)}function Me(e,t,n){if(Is(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function qn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ks(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Do(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(_){n=""+_,f.call(this,_)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(_){n=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lr(e){if(!e._valueTracker){var t=Ks(e)?"checked":"value";e._valueTracker=Do(e,t,""+e[t])}}function Ps(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ks(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mo=/[\n"\\]/g;function ln(e){return e.replace(Mo,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Hr(e,t,n,r,c,f,_,j){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sn(t)):e.value!==""+sn(t)&&(e.value=""+sn(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?qr(e,_,sn(t)):n!=null?qr(e,_,sn(n)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+sn(j):e.removeAttribute("name")}function Xs(e,t,n,r,c,f,_,j){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Lr(e);return}n=n!=null?""+sn(n):"",t=t!=null?""+sn(t):n,j||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=j?e.checked:!!r,e.defaultChecked=!!r,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Lr(e)}function qr(e,t,n){t==="number"&&Ii(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Wn(e,t,n,r){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Qs(e,t,n){if(t!=null&&(t=""+sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+sn(n):""}function Js(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(s(92));if(X(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=sn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Lr(e)}function Na(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zs(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||Bo.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tn(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&n[c]!==r&&Zs(e,c,r)}else for(var f in t)t.hasOwnProperty(f)&&Zs(e,f,t[f])}function Gr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ki(e){return Ho.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var $r=null;function Yr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,ka=null;function Fs(e){var t=ua(e);if(t&&(e=t.stateNode)){var n=e[Gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Hr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ln(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var c=r[Gt]||null;if(!c)throw Error(s(90));Hr(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Ps(r)}break e;case"textarea":Qs(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Wn(e,!!n.multiple,t,!1)}}}var Vr=!1;function Ws(e,t,n){if(Vr)return e(t,n);Vr=!0;try{var r=e(t);return r}finally{if(Vr=!1,(Ra!==null||ka!==null)&&(Ml(),Ra&&(t=Ra,e=ka,ka=Ra=null,Fs(t),e)))for(t=0;t<e.length;t++)Fs(e[t])}}function gi(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Gt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ne=!1;if(ea)try{var re={};Object.defineProperty(re,"passive",{get:function(){ne=!0}}),window.addEventListener("test",re,re),window.removeEventListener("test",re,re)}catch{ne=!1}var ue=null,ce=null,he=null;function Ee(){if(he)return he;var e,t=ce,n=t.length,r,c="value"in ue?ue.value:ue.textContent,f=c.length;for(e=0;e<n&&t[e]===c[e];e++);var _=n-e;for(r=1;r<=_&&t[n-r]===c[f-r];r++);return he=c.slice(e,1<r?1-r:void 0)}function He(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ct(){return!0}function it(){return!1}function Be(e){function t(n,r,c,f,_){this._reactName=n,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(n=e[j],this[j]=n?n(f):f[j]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ct:it,this.isPropagationStopped=it,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ct)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ct)},persist:function(){},isPersistent:ct}),t}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},On=Be($n),mi=y({},$n,{view:0,detail:0}),hv=Be(mi),qo,Go,Ir,el=y({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(qo=e.screenX-Ir.screenX,Go=e.screenY-Ir.screenY):Go=qo=0,Ir=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Go}}),Nd=Be(el),gv=y({},el,{dataTransfer:0}),mv=Be(gv),vv=y({},mi,{relatedTarget:0}),$o=Be(vv),yv=y({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),pv=Be(yv),bv=y({},$n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wv=Be(bv),_v=y({},$n,{data:0}),Rd=Be(_v),xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ev[e])?!!t[e]:!1}function Yo(){return jv}var Av=y({},mi,{key:function(e){if(e.key){var t=xv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=He(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yo,charCode:function(e){return e.type==="keypress"?He(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?He(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tv=Be(Av),Ov=y({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kd=Be(Ov),Cv=y({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yo}),Nv=Be(Cv),Rv=y({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),kv=Be(Rv),zv=y({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=Be(zv),Dv=y({},$n,{newState:0,oldState:0}),Mv=Be(Dv),Bv=[9,13,27,32],Vo=ea&&"CompositionEvent"in window,Kr=null;ea&&"documentMode"in document&&(Kr=document.documentMode);var Lv=ea&&"TextEvent"in window&&!Kr,zd=ea&&(!Vo||Kr&&8<Kr&&11>=Kr),Ud=" ",Dd=!1;function Md(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function Hv(e,t){switch(e){case"compositionend":return Bd(t);case"keypress":return t.which!==32?null:(Dd=!0,Ud);case"textInput":return e=t.data,e===Ud&&Dd?null:e;default:return null}}function qv(e,t){if(Pi)return e==="compositionend"||!Vo&&Md(e,t)?(e=Ee(),he=ce=ue=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zd&&t.locale!=="ko"?null:t.data;default:return null}}var Gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gv[e.type]:t==="textarea"}function Hd(e,t,n,r){Ra?ka?ka.push(r):ka=[r]:Ra=r,t=Yl(t,"onChange"),0<t.length&&(n=new On("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pr=null,Xr=null;function $v(e){xg(e,0)}function tl(e){var t=St(e);if(Ps(t))return e}function qd(e,t){if(e==="change")return t}var Gd=!1;if(ea){var Io;if(ea){var Ko="oninput"in document;if(!Ko){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),Ko=typeof $d.oninput=="function"}Io=Ko}else Io=!1;Gd=Io&&(!document.documentMode||9<document.documentMode)}function Yd(){Pr&&(Pr.detachEvent("onpropertychange",Vd),Xr=Pr=null)}function Vd(e){if(e.propertyName==="value"&&tl(Xr)){var t=[];Hd(t,Xr,e,Yr(e)),Ws($v,t)}}function Yv(e,t,n){e==="focusin"?(Yd(),Pr=t,Xr=n,Pr.attachEvent("onpropertychange",Vd)):e==="focusout"&&Yd()}function Vv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(Xr)}function Iv(e,t){if(e==="click")return tl(t)}function Kv(e,t){if(e==="input"||e==="change")return tl(t)}function Pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:Pv;function Qr(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var c=n[r];if(!ut.call(t,c)||!vn(e[c],t[c]))return!1}return!0}function Id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kd(e,t){var n=Id(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Id(n)}}function Pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ii(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ii(e.document)}return t}function Po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Xv=ea&&"documentMode"in document&&11>=document.documentMode,Xi=null,Xo=null,Jr=null,Qo=!1;function Qd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qo||Xi==null||Xi!==Ii(r)||(r=Xi,"selectionStart"in r&&Po(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jr&&Qr(Jr,r)||(Jr=r,r=Yl(Xo,"onSelect"),0<r.length&&(t=new On("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xi)))}function vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qi={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Jo={},Jd={};ea&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function yi(e){if(Jo[e])return Jo[e];if(!Qi[e])return e;var t=Qi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jd)return Jo[e]=t[n];return e}var Zd=yi("animationend"),Fd=yi("animationiteration"),Wd=yi("animationstart"),Qv=yi("transitionrun"),Jv=yi("transitionstart"),Zv=yi("transitioncancel"),ef=yi("transitionend"),tf=new Map,Zo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zo.push("scrollEnd");function Yn(e,t){tf.set(e,t),mn(t,[e])}var nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],Ji=0,Fo=0;function al(){for(var e=Ji,t=Fo=Ji=0;t<e;){var n=Cn[t];Cn[t++]=null;var r=Cn[t];Cn[t++]=null;var c=Cn[t];Cn[t++]=null;var f=Cn[t];if(Cn[t++]=null,r!==null&&c!==null){var _=r.pending;_===null?c.next=c:(c.next=_.next,_.next=c),r.pending=c}f!==0&&nf(n,c,f)}}function il(e,t,n,r){Cn[Ji++]=e,Cn[Ji++]=t,Cn[Ji++]=n,Cn[Ji++]=r,Fo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Wo(e,t,n,r){return il(e,t,n,r),rl(e)}function pi(e,t){return il(e,null,null,t),rl(e)}function nf(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var c=!1,f=e.return;f!==null;)f.childLanes|=n,r=f.alternate,r!==null&&(r.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-pt(n),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=n|536870912),f):null}function rl(e){if(50<ps)throw ps=0,oc=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Zi={};function Fv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,n,r){return new Fv(e,t,n,r)}function eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ca(e,t){var n=e.alternate;return n===null?(n=yn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function af(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function sl(e,t,n,r,c,f){var _=0;if(r=e,typeof e=="function")eu(e)&&(_=1);else if(typeof e=="string")_=ap(e,n,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case C:return e=yn(31,n,t,c),e.elementType=C,e.lanes=f,e;case T:return bi(n.children,c,f,t);case N:_=8,c|=24;break;case A:return e=yn(12,n,t,c|2),e.elementType=A,e.lanes=f,e;case ae:return e=yn(13,n,t,c),e.elementType=ae,e.lanes=f,e;case k:return e=yn(19,n,t,c),e.elementType=k,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:_=10;break e;case Y:_=9;break e;case B:_=11;break e;case I:_=14;break e;case O:_=16,r=null;break e}_=29,n=Error(s(130,e===null?"null":typeof e,"")),r=null}return t=yn(_,n,t,c),t.elementType=e,t.type=r,t.lanes=f,t}function bi(e,t,n,r){return e=yn(7,e,r,t),e.lanes=n,e}function tu(e,t,n){return e=yn(6,e,null,t),e.lanes=n,e}function rf(e){var t=yn(18,null,null,0);return t.stateNode=e,t}function nu(e,t,n){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sf=new WeakMap;function Nn(e,t){if(typeof e=="object"&&e!==null){var n=sf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ye(t)},sf.set(e,t),t)}return{value:e,source:t,stack:Ye(t)}}var Fi=[],Wi=0,ll=null,Zr=0,Rn=[],kn=0,za=null,ta=1,na="";function da(e,t){Fi[Wi++]=Zr,Fi[Wi++]=ll,ll=e,Zr=t}function lf(e,t,n){Rn[kn++]=ta,Rn[kn++]=na,Rn[kn++]=za,za=e;var r=ta;e=na;var c=32-pt(r)-1;r&=~(1<<c),n+=1;var f=32-pt(t)+c;if(30<f){var _=c-c%5;f=(r&(1<<_)-1).toString(32),r>>=_,c-=_,ta=1<<32-pt(t)+c|n<<c|r,na=f+e}else ta=1<<f|n<<c|r,na=e}function au(e){e.return!==null&&(da(e,1),lf(e,1,0))}function iu(e){for(;e===ll;)ll=Fi[--Wi],Fi[Wi]=null,Zr=Fi[--Wi],Fi[Wi]=null;for(;e===za;)za=Rn[--kn],Rn[kn]=null,na=Rn[--kn],Rn[kn]=null,ta=Rn[--kn],Rn[kn]=null}function of(e,t){Rn[kn++]=ta,Rn[kn++]=na,Rn[kn++]=za,ta=t.id,na=t.overflow,za=e}var Vt=null,lt=null,De=!1,Ua=null,zn=!1,ru=Error(s(519));function Da(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fr(Nn(t,e)),ru}function uf(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[bt]=e,t[Gt]=r,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<ws.length;n++)Re(ws[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Xs(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Js(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Ag(t.textContent,n)?(r.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),r.onScroll!=null&&Re("scroll",t),r.onScrollEnd!=null&&Re("scrollend",t),r.onClick!=null&&(t.onclick=Gn),t=!0):t=!1,t||Da(e,!0)}function cf(e){for(Vt=e.return;Vt;)switch(Vt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Vt=Vt.return}}function er(e){if(e!==Vt)return!1;if(!De)return cf(e),De=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Sc(e.type,e.memoizedProps)),n=!n),n&&lt&&Da(e),cf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));lt=Dg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));lt=Dg(e)}else t===27?(t=lt,Qa(e.type)?(e=Oc,Oc=null,lt=e):lt=t):lt=Vt?Dn(e.stateNode.nextSibling):null;return!0}function wi(){lt=Vt=null,De=!1}function su(){var e=Ua;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Ua=null),e}function Fr(e){Ua===null?Ua=[e]:Ua.push(e)}var lu=R(null),_i=null,fa=null;function Ma(e,t,n){F(lu,t._currentValue),t._currentValue=n}function ha(e){e._currentValue=lu.current,z(lu)}function ou(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function uu(e,t,n,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;e:for(;f!==null;){var j=f;f=c;for(var D=0;D<t.length;D++)if(j.context===t[D]){f.lanes|=n,j=f.alternate,j!==null&&(j.lanes|=n),ou(f.return,n,e),r||(_=null);break e}f=j.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=n,f=_.alternate,f!==null&&(f.lanes|=n),ou(_,n,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function tr(e,t,n,r){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var j=c.type;vn(c.pendingProps.value,_.value)||(e!==null?e.push(j):e=[j])}}else if(c===me.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(js):e=[js])}c=c.return}e!==null&&uu(t,e,n,r),t.flags|=262144}function ol(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xi(e){_i=e,fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function It(e){return df(_i,e)}function ul(e,t){return _i===null&&xi(e),df(e,t)}function df(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fa===null){if(e===null)throw Error(s(308));fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fa=fa.next=t;return n}var Wv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ey=u.unstable_scheduleCallback,ty=u.unstable_NormalPriority,Nt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cu(){return{controller:new Wv,data:new Map,refCount:0}}function Wr(e){e.refCount--,e.refCount===0&&ey(ty,function(){e.controller.abort()})}var es=null,du=0,nr=0,ar=null;function ny(e,t){if(es===null){var n=es=[];du=0,nr=gc(),ar={status:"pending",value:void 0,then:function(r){n.push(r)}}}return du++,t.then(ff,ff),t}function ff(){if(--du===0&&es!==null){ar!==null&&(ar.status="fulfilled");var e=es;es=null,nr=0,ar=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ay(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),r}var hf=S.S;S.S=function(e,t){Jh=je(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ny(e,t),hf!==null&&hf(e,t)};var Si=R(null);function fu(){var e=Si.current;return e!==null?e:nt.pooledCache}function cl(e,t){t===null?F(Si,Si.current):F(Si,t.pool)}function gf(){var e=fu();return e===null?null:{parent:Nt._currentValue,pool:e}}var ir=Error(s(460)),hu=Error(s(474)),dl=Error(s(542)),fl={then:function(){}};function mf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Gn,Gn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pf(e),e;default:if(typeof t.status=="string")t.then(Gn,Gn);else{if(e=nt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pf(e),e}throw ji=t,ir}}function Ei(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ji=n,ir):n}}var ji=null;function yf(){if(ji===null)throw Error(s(459));var e=ji;return ji=null,e}function pf(e){if(e===ir||e===dl)throw Error(s(483))}var rr=null,ts=0;function hl(e){var t=ts;return ts+=1,rr===null&&(rr=[]),vf(rr,e,t)}function ns(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gl(e,t){throw t.$$typeof===p?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function bf(e){function t(V,L){if(e){var J=V.deletions;J===null?(V.deletions=[L],V.flags|=16):J.push(L)}}function n(V,L){if(!e)return null;for(;L!==null;)t(V,L),L=L.sibling;return null}function r(V){for(var L=new Map;V!==null;)V.key!==null?L.set(V.key,V):L.set(V.index,V),V=V.sibling;return L}function c(V,L){return V=ca(V,L),V.index=0,V.sibling=null,V}function f(V,L,J){return V.index=J,e?(J=V.alternate,J!==null?(J=J.index,J<L?(V.flags|=67108866,L):J):(V.flags|=67108866,L)):(V.flags|=1048576,L)}function _(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function j(V,L,J,le){return L===null||L.tag!==6?(L=tu(J,V.mode,le),L.return=V,L):(L=c(L,J),L.return=V,L)}function D(V,L,J,le){var we=J.type;return we===T?se(V,L,J.props.children,le,J.key):L!==null&&(L.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===O&&Ei(we)===L.type)?(L=c(L,J.props),ns(L,J),L.return=V,L):(L=sl(J.type,J.key,J.props,null,V.mode,le),ns(L,J),L.return=V,L)}function Z(V,L,J,le){return L===null||L.tag!==4||L.stateNode.containerInfo!==J.containerInfo||L.stateNode.implementation!==J.implementation?(L=nu(J,V.mode,le),L.return=V,L):(L=c(L,J.children||[]),L.return=V,L)}function se(V,L,J,le,we){return L===null||L.tag!==7?(L=bi(J,V.mode,le,we),L.return=V,L):(L=c(L,J),L.return=V,L)}function oe(V,L,J){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=tu(""+L,V.mode,J),L.return=V,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return J=sl(L.type,L.key,L.props,null,V.mode,J),ns(J,L),J.return=V,J;case x:return L=nu(L,V.mode,J),L.return=V,L;case O:return L=Ei(L),oe(V,L,J)}if(X(L)||H(L))return L=bi(L,V.mode,J,null),L.return=V,L;if(typeof L.then=="function")return oe(V,hl(L),J);if(L.$$typeof===U)return oe(V,ul(V,L),J);gl(V,L)}return null}function ee(V,L,J,le){var we=L!==null?L.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return we!==null?null:j(V,L,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===we?D(V,L,J,le):null;case x:return J.key===we?Z(V,L,J,le):null;case O:return J=Ei(J),ee(V,L,J,le)}if(X(J)||H(J))return we!==null?null:se(V,L,J,le,null);if(typeof J.then=="function")return ee(V,L,hl(J),le);if(J.$$typeof===U)return ee(V,L,ul(V,J),le);gl(V,J)}return null}function ie(V,L,J,le,we){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return V=V.get(J)||null,j(L,V,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return V=V.get(le.key===null?J:le.key)||null,D(L,V,le,we);case x:return V=V.get(le.key===null?J:le.key)||null,Z(L,V,le,we);case O:return le=Ei(le),ie(V,L,J,le,we)}if(X(le)||H(le))return V=V.get(J)||null,se(L,V,le,we,null);if(typeof le.then=="function")return ie(V,L,J,hl(le),we);if(le.$$typeof===U)return ie(V,L,J,ul(L,le),we);gl(L,le)}return null}function ge(V,L,J,le){for(var we=null,qe=null,ve=L,Ce=L=0,Ue=null;ve!==null&&Ce<J.length;Ce++){ve.index>Ce?(Ue=ve,ve=null):Ue=ve.sibling;var Ge=ee(V,ve,J[Ce],le);if(Ge===null){ve===null&&(ve=Ue);break}e&&ve&&Ge.alternate===null&&t(V,ve),L=f(Ge,L,Ce),qe===null?we=Ge:qe.sibling=Ge,qe=Ge,ve=Ue}if(Ce===J.length)return n(V,ve),De&&da(V,Ce),we;if(ve===null){for(;Ce<J.length;Ce++)ve=oe(V,J[Ce],le),ve!==null&&(L=f(ve,L,Ce),qe===null?we=ve:qe.sibling=ve,qe=ve);return De&&da(V,Ce),we}for(ve=r(ve);Ce<J.length;Ce++)Ue=ie(ve,V,Ce,J[Ce],le),Ue!==null&&(e&&Ue.alternate!==null&&ve.delete(Ue.key===null?Ce:Ue.key),L=f(Ue,L,Ce),qe===null?we=Ue:qe.sibling=Ue,qe=Ue);return e&&ve.forEach(function(ei){return t(V,ei)}),De&&da(V,Ce),we}function _e(V,L,J,le){if(J==null)throw Error(s(151));for(var we=null,qe=null,ve=L,Ce=L=0,Ue=null,Ge=J.next();ve!==null&&!Ge.done;Ce++,Ge=J.next()){ve.index>Ce?(Ue=ve,ve=null):Ue=ve.sibling;var ei=ee(V,ve,Ge.value,le);if(ei===null){ve===null&&(ve=Ue);break}e&&ve&&ei.alternate===null&&t(V,ve),L=f(ei,L,Ce),qe===null?we=ei:qe.sibling=ei,qe=ei,ve=Ue}if(Ge.done)return n(V,ve),De&&da(V,Ce),we;if(ve===null){for(;!Ge.done;Ce++,Ge=J.next())Ge=oe(V,Ge.value,le),Ge!==null&&(L=f(Ge,L,Ce),qe===null?we=Ge:qe.sibling=Ge,qe=Ge);return De&&da(V,Ce),we}for(ve=r(ve);!Ge.done;Ce++,Ge=J.next())Ge=ie(ve,V,Ce,Ge.value,le),Ge!==null&&(e&&Ge.alternate!==null&&ve.delete(Ge.key===null?Ce:Ge.key),L=f(Ge,L,Ce),qe===null?we=Ge:qe.sibling=Ge,qe=Ge);return e&&ve.forEach(function(gp){return t(V,gp)}),De&&da(V,Ce),we}function Fe(V,L,J,le){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var we=J.key;L!==null;){if(L.key===we){if(we=J.type,we===T){if(L.tag===7){n(V,L.sibling),le=c(L,J.props.children),le.return=V,V=le;break e}}else if(L.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===O&&Ei(we)===L.type){n(V,L.sibling),le=c(L,J.props),ns(le,J),le.return=V,V=le;break e}n(V,L);break}else t(V,L);L=L.sibling}J.type===T?(le=bi(J.props.children,V.mode,le,J.key),le.return=V,V=le):(le=sl(J.type,J.key,J.props,null,V.mode,le),ns(le,J),le.return=V,V=le)}return _(V);case x:e:{for(we=J.key;L!==null;){if(L.key===we)if(L.tag===4&&L.stateNode.containerInfo===J.containerInfo&&L.stateNode.implementation===J.implementation){n(V,L.sibling),le=c(L,J.children||[]),le.return=V,V=le;break e}else{n(V,L);break}else t(V,L);L=L.sibling}le=nu(J,V.mode,le),le.return=V,V=le}return _(V);case O:return J=Ei(J),Fe(V,L,J,le)}if(X(J))return ge(V,L,J,le);if(H(J)){if(we=H(J),typeof we!="function")throw Error(s(150));return J=we.call(J),_e(V,L,J,le)}if(typeof J.then=="function")return Fe(V,L,hl(J),le);if(J.$$typeof===U)return Fe(V,L,ul(V,J),le);gl(V,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,L!==null&&L.tag===6?(n(V,L.sibling),le=c(L,J),le.return=V,V=le):(n(V,L),le=tu(J,V.mode,le),le.return=V,V=le),_(V)):n(V,L)}return function(V,L,J,le){try{ts=0;var we=Fe(V,L,J,le);return rr=null,we}catch(ve){if(ve===ir||ve===dl)throw ve;var qe=yn(29,ve,null,V.mode);return qe.lanes=le,qe.return=V,qe}finally{}}}var Ai=bf(!0),wf=bf(!1),Ba=!1;function gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function La(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,($e&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=rl(e),nf(e,null,n),t}return il(e,r,t,n),rl(e)}function as(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,li(e,n)}}function vu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var c=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var _={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,n=n.next}while(n!==null);f===null?c=f=t:f=f.next=t}else c=f=t;n={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var yu=!1;function is(){if(yu){var e=ar;if(e!==null)throw e}}function rs(e,t,n,r){yu=!1;var c=e.updateQueue;Ba=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,j=c.shared.pending;if(j!==null){c.shared.pending=null;var D=j,Z=D.next;D.next=null,_===null?f=Z:_.next=Z,_=D;var se=e.alternate;se!==null&&(se=se.updateQueue,j=se.lastBaseUpdate,j!==_&&(j===null?se.firstBaseUpdate=Z:j.next=Z,se.lastBaseUpdate=D))}if(f!==null){var oe=c.baseState;_=0,se=Z=D=null,j=f;do{var ee=j.lane&-536870913,ie=ee!==j.lane;if(ie?(ze&ee)===ee:(r&ee)===ee){ee!==0&&ee===nr&&(yu=!0),se!==null&&(se=se.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ge=e,_e=j;ee=t;var Fe=n;switch(_e.tag){case 1:if(ge=_e.payload,typeof ge=="function"){oe=ge.call(Fe,oe,ee);break e}oe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_e.payload,ee=typeof ge=="function"?ge.call(Fe,oe,ee):ge,ee==null)break e;oe=y({},oe,ee);break e;case 2:Ba=!0}}ee=j.callback,ee!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=c.callbacks,ie===null?c.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:j.tag,payload:j.payload,callback:j.callback,next:null},se===null?(Z=se=ie,D=oe):se=se.next=ie,_|=ee;if(j=j.next,j===null){if(j=c.shared.pending,j===null)break;ie=j,j=ie.next,ie.next=null,c.lastBaseUpdate=ie,c.shared.pending=null}}while(!0);se===null&&(D=oe),c.baseState=D,c.firstBaseUpdate=Z,c.lastBaseUpdate=se,f===null&&(c.shared.lanes=0),Va|=_,e.lanes=_,e.memoizedState=oe}}function _f(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function xf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)_f(n[e],t)}var sr=R(null),ml=R(0);function Sf(e,t){e=xa,F(ml,e),F(sr,t),xa=e|t.baseLanes}function pu(){F(ml,xa),F(sr,sr.current)}function bu(){xa=ml.current,z(sr),z(ml)}var pn=R(null),Un=null;function qa(e){var t=e.alternate;F(Et,Et.current&1),F(pn,e),Un===null&&(t===null||sr.current!==null||t.memoizedState!==null)&&(Un=e)}function wu(e){F(Et,Et.current),F(pn,e),Un===null&&(Un=e)}function Ef(e){e.tag===22?(F(Et,Et.current),F(pn,e),Un===null&&(Un=e)):Ga()}function Ga(){F(Et,Et.current),F(pn,pn.current)}function bn(e){z(pn),Un===e&&(Un=null),z(Et)}var Et=R(0);function vl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ac(n)||Tc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=0,Te=null,Je=null,Rt=null,yl=!1,lr=!1,Ti=!1,pl=0,ss=0,or=null,iy=0;function wt(){throw Error(s(321))}function _u(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vn(e[n],t[n]))return!1;return!0}function xu(e,t,n,r,c,f){return ga=f,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,S.H=e===null||e.memoizedState===null?lh:Bu,Ti=!1,f=n(r,c),Ti=!1,lr&&(f=Af(t,n,r,c)),jf(e),f}function jf(e){S.H=us;var t=Je!==null&&Je.next!==null;if(ga=0,Rt=Je=Te=null,yl=!1,ss=0,or=null,t)throw Error(s(300));e===null||kt||(e=e.dependencies,e!==null&&ol(e)&&(kt=!0))}function Af(e,t,n,r){Te=e;var c=0;do{if(lr&&(or=null),ss=0,lr=!1,25<=c)throw Error(s(301));if(c+=1,Rt=Je=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=oh,f=t(n,r)}while(lr);return f}function ry(){var e=S.H,t=e.useState()[0];return t=typeof t.then=="function"?ls(t):t,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(Te.flags|=1024),t}function Su(){var e=pl!==0;return pl=0,e}function Eu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ju(e){if(yl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yl=!1}ga=0,Rt=Je=Te=null,lr=!1,ss=pl=0,or=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Te.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function jt(){if(Je===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=Rt===null?Te.memoizedState:Rt.next;if(t!==null)Rt=t,Je=e;else{if(e===null)throw Te.alternate===null?Error(s(467)):Error(s(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Rt===null?Te.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function bl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ls(e){var t=ss;return ss+=1,or===null&&(or=[]),e=vf(or,e,t),t=Te,(Rt===null?t.memoizedState:Rt.next)===null&&(t=t.alternate,S.H=t===null||t.memoizedState===null?lh:Bu),e}function wl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ls(e);if(e.$$typeof===U)return It(e)}throw Error(s(438,String(e)))}function Au(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=bl(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=G;return t.index++,n}function ma(e,t){return typeof t=="function"?t(e):t}function _l(e){var t=jt();return Tu(t,Je,e)}function Tu(e,t,n){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}t.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var j=_=null,D=null,Z=t,se=!1;do{var oe=Z.lane&-536870913;if(oe!==Z.lane?(ze&oe)===oe:(ga&oe)===oe){var ee=Z.revertLane;if(ee===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),oe===nr&&(se=!0);else if((ga&ee)===ee){Z=Z.next,ee===nr&&(se=!0);continue}else oe={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},D===null?(j=D=oe,_=f):D=D.next=oe,Te.lanes|=ee,Va|=ee;oe=Z.action,Ti&&n(f,oe),f=Z.hasEagerState?Z.eagerState:n(f,oe)}else ee={lane:oe,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},D===null?(j=D=ee,_=f):D=D.next=ee,Te.lanes|=oe,Va|=oe;Z=Z.next}while(Z!==null&&Z!==t);if(D===null?_=f:D.next=j,!vn(f,e.memoizedState)&&(kt=!0,se&&(n=ar,n!==null)))throw n;e.memoizedState=f,e.baseState=_,e.baseQueue=D,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ou(e){var t=jt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,c=n.pending,f=t.memoizedState;if(c!==null){n.pending=null;var _=c=c.next;do f=e(f,_.action),_=_.next;while(_!==c);vn(f,t.memoizedState)||(kt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,r]}function Tf(e,t,n){var r=Te,c=jt(),f=De;if(f){if(n===void 0)throw Error(s(407));n=n()}else n=t();var _=!vn((Je||c).memoizedState,n);if(_&&(c.memoizedState=n,kt=!0),c=c.queue,Ru(Nf.bind(null,r,c,e),[e]),c.getSnapshot!==t||_||Rt!==null&&Rt.memoizedState.tag&1){if(r.flags|=2048,ur(9,{destroy:void 0},Cf.bind(null,r,c,n,t),null),nt===null)throw Error(s(349));f||(ga&127)!==0||Of(r,t,n)}return n}function Of(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=bl(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cf(e,t,n,r){t.value=n,t.getSnapshot=r,Rf(t)&&kf(e)}function Nf(e,t,n){return n(function(){Rf(t)&&kf(e)})}function Rf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vn(e,n)}catch{return!0}}function kf(e){var t=pi(e,2);t!==null&&fn(t,e,2)}function Cu(e){var t=tn();if(typeof e=="function"){var n=e;if(e=n(),Ti){yt(!0);try{n()}finally{yt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t}function zf(e,t,n,r){return e.baseState=n,Tu(e,Je,typeof r=="function"?r:ma)}function sy(e,t,n,r,c){if(El(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};S.T!==null?n(!0):f.isTransition=!1,r(f),n=t.pending,n===null?(f.next=t.pending=f,Uf(t,f)):(f.next=n.next,t.pending=n.next=f)}}function Uf(e,t){var n=t.action,r=t.payload,c=e.state;if(t.isTransition){var f=S.T,_={};S.T=_;try{var j=n(c,r),D=S.S;D!==null&&D(_,j),Df(e,t,j)}catch(Z){Nu(e,t,Z)}finally{f!==null&&_.types!==null&&(f.types=_.types),S.T=f}}else try{f=n(c,r),Df(e,t,f)}catch(Z){Nu(e,t,Z)}}function Df(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Mf(e,t,r)},function(r){return Nu(e,t,r)}):Mf(e,t,n)}function Mf(e,t,n){t.status="fulfilled",t.value=n,Bf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Uf(e,n)))}function Nu(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Bf(t),t=t.next;while(t!==r)}e.action=null}function Bf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lf(e,t){return t}function Hf(e,t){if(De){var n=nt.formState;if(n!==null){e:{var r=Te;if(De){if(lt){t:{for(var c=lt,f=zn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Dn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){lt=Dn(c.nextSibling),r=c.data==="F!";break e}}Da(r)}r=!1}r&&(t=n[0])}}return n=tn(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:t},n.queue=r,n=ih.bind(null,Te,r),r.dispatch=n,r=Cu(!1),f=Mu.bind(null,Te,!1,r.queue),r=tn(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,n=sy.bind(null,Te,c,f,n),c.dispatch=n,r.memoizedState=e,[t,n,!1]}function qf(e){var t=jt();return Gf(t,Je,e)}function Gf(e,t,n){if(t=Tu(e,t,Lf)[0],e=_l(ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ls(t)}catch(_){throw _===ir?dl:_}else r=t;t=jt();var c=t.queue,f=c.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,ur(9,{destroy:void 0},ly.bind(null,c,n),null)),[r,f,e]}function ly(e,t){e.action=t}function $f(e){var t=jt(),n=Je;if(n!==null)return Gf(t,n,e);jt(),t=t.memoizedState,n=jt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ur(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Te.updateQueue,t===null&&(t=bl(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Yf(){return jt().memoizedState}function xl(e,t,n,r){var c=tn();Te.flags|=e,c.memoizedState=ur(1|t,{destroy:void 0},n,r===void 0?null:r)}function Sl(e,t,n,r){var c=jt();r=r===void 0?null:r;var f=c.memoizedState.inst;Je!==null&&r!==null&&_u(r,Je.memoizedState.deps)?c.memoizedState=ur(t,f,n,r):(Te.flags|=e,c.memoizedState=ur(1|t,f,n,r))}function Vf(e,t){xl(8390656,8,e,t)}function Ru(e,t){Sl(2048,8,e,t)}function oy(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=bl(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function If(e){var t=jt().memoizedState;return oy({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Kf(e,t){return Sl(4,2,e,t)}function Pf(e,t){return Sl(4,4,e,t)}function Xf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qf(e,t,n){n=n!=null?n.concat([e]):null,Sl(4,4,Xf.bind(null,t,e),n)}function ku(){}function Jf(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&_u(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zf(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&_u(t,r[1]))return r[0];if(r=e(),Ti){yt(!0);try{e()}finally{yt(!1)}}return n.memoizedState=[r,t],r}function zu(e,t,n){return n===void 0||(ga&1073741824)!==0&&(ze&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Fh(),Te.lanes|=e,Va|=e,n)}function Ff(e,t,n,r){return vn(n,t)?n:sr.current!==null?(e=zu(e,n,r),vn(e,t)||(kt=!0),e):(ga&42)===0||(ga&1073741824)!==0&&(ze&261930)===0?(kt=!0,e.memoizedState=n):(e=Fh(),Te.lanes|=e,Va|=e,t)}function Wf(e,t,n,r,c){var f=E.p;E.p=f!==0&&8>f?f:8;var _=S.T,j={};S.T=j,Mu(e,!1,t,n);try{var D=c(),Z=S.S;if(Z!==null&&Z(j,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var se=ay(D,r);os(e,t,se,xn(e))}else os(e,t,r,xn(e))}catch(oe){os(e,t,{then:function(){},status:"rejected",reason:oe},xn())}finally{E.p=f,_!==null&&j.types!==null&&(_.types=j.types),S.T=_}}function uy(){}function Uu(e,t,n,r){if(e.tag!==5)throw Error(s(476));var c=eh(e).queue;Wf(e,c,t,W,n===null?uy:function(){return th(e),n(r)})}function eh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:W},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function th(e){var t=eh(e);t.next===null&&(t=e.alternate.memoizedState),os(e,t.next.queue,{},xn())}function Du(){return It(js)}function nh(){return jt().memoizedState}function ah(){return jt().memoizedState}function cy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=xn();e=La(n);var r=Ha(t,e,n);r!==null&&(fn(r,t,n),as(r,t,n)),t={cache:cu()},e.payload=t;return}t=t.return}}function dy(e,t,n){var r=xn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},El(e)?rh(t,n):(n=Wo(e,t,n,r),n!==null&&(fn(n,e,r),sh(n,t,r)))}function ih(e,t,n){var r=xn();os(e,t,n,r)}function os(e,t,n,r){var c={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(El(e))rh(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var _=t.lastRenderedState,j=f(_,n);if(c.hasEagerState=!0,c.eagerState=j,vn(j,_))return il(e,t,c,0),nt===null&&al(),!1}catch{}finally{}if(n=Wo(e,t,c,r),n!==null)return fn(n,e,r),sh(n,t,r),!0}return!1}function Mu(e,t,n,r){if(r={lane:2,revertLane:gc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},El(e)){if(t)throw Error(s(479))}else t=Wo(e,n,r,2),t!==null&&fn(t,e,2)}function El(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function rh(e,t){lr=yl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sh(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,li(e,n)}}var us={readContext:It,use:wl,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};us.useEffectEvent=wt;var lh={readContext:It,use:wl,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Vf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,xl(4194308,4,Xf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xl(4194308,4,e,t)},useInsertionEffect:function(e,t){xl(4,2,e,t)},useMemo:function(e,t){var n=tn();t=t===void 0?null:t;var r=e();if(Ti){yt(!0);try{e()}finally{yt(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=tn();if(n!==void 0){var c=n(t);if(Ti){yt(!0);try{n(t)}finally{yt(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=dy.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:function(e){e=Cu(e);var t=e.queue,n=ih.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ku,useDeferredValue:function(e,t){var n=tn();return zu(n,e,t)},useTransition:function(){var e=Cu(!1);return e=Wf.bind(null,Te,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Te,c=tn();if(De){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),nt===null)throw Error(s(349));(ze&127)!==0||Of(r,t,n)}c.memoizedState=n;var f={value:n,getSnapshot:t};return c.queue=f,Vf(Nf.bind(null,r,f,e),[e]),r.flags|=2048,ur(9,{destroy:void 0},Cf.bind(null,r,f,n,t),null),n},useId:function(){var e=tn(),t=nt.identifierPrefix;if(De){var n=na,r=ta;n=(r&~(1<<32-pt(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=pl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=iy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Du,useFormState:Hf,useActionState:Hf,useOptimistic:function(e){var t=tn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Mu.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Au,useCacheRefresh:function(){return tn().memoizedState=cy.bind(null,Te)},useEffectEvent:function(e){var t=tn(),n={impl:e};return t.memoizedState=n,function(){if(($e&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},Bu={readContext:It,use:wl,useCallback:Jf,useContext:It,useEffect:Ru,useImperativeHandle:Qf,useInsertionEffect:Kf,useLayoutEffect:Pf,useMemo:Zf,useReducer:_l,useRef:Yf,useState:function(){return _l(ma)},useDebugValue:ku,useDeferredValue:function(e,t){var n=jt();return Ff(n,Je.memoizedState,e,t)},useTransition:function(){var e=_l(ma)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:ls(e),t]},useSyncExternalStore:Tf,useId:nh,useHostTransitionStatus:Du,useFormState:qf,useActionState:qf,useOptimistic:function(e,t){var n=jt();return zf(n,Je,e,t)},useMemoCache:Au,useCacheRefresh:ah};Bu.useEffectEvent=If;var oh={readContext:It,use:wl,useCallback:Jf,useContext:It,useEffect:Ru,useImperativeHandle:Qf,useInsertionEffect:Kf,useLayoutEffect:Pf,useMemo:Zf,useReducer:Ou,useRef:Yf,useState:function(){return Ou(ma)},useDebugValue:ku,useDeferredValue:function(e,t){var n=jt();return Je===null?zu(n,e,t):Ff(n,Je.memoizedState,e,t)},useTransition:function(){var e=Ou(ma)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:ls(e),t]},useSyncExternalStore:Tf,useId:nh,useHostTransitionStatus:Du,useFormState:$f,useActionState:$f,useOptimistic:function(e,t){var n=jt();return Je!==null?zf(n,Je,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Au,useCacheRefresh:ah};oh.useEffectEvent=If;function Lu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hu={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xn(),c=La(r);c.payload=t,n!=null&&(c.callback=n),t=Ha(e,c,r),t!==null&&(fn(t,e,r),as(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xn(),c=La(r);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Ha(e,c,r),t!==null&&(fn(t,e,r),as(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xn(),r=La(n);r.tag=2,t!=null&&(r.callback=t),t=Ha(e,r,n),t!==null&&(fn(t,e,n),as(t,e,n))}};function uh(e,t,n,r,c,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,_):t.prototype&&t.prototype.isPureReactComponent?!Qr(n,r)||!Qr(c,f):!0}function ch(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hu.enqueueReplaceState(t,t.state,null)}function Oi(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function dh(e){nl(e)}function fh(e){console.error(e)}function hh(e){nl(e)}function jl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function gh(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function qu(e,t,n){return n=La(n),n.tag=3,n.payload={element:null},n.callback=function(){jl(e,t)},n}function mh(e){return e=La(e),e.tag=3,e}function vh(e,t,n,r){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){gh(t,n,r)}}var _=n.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){gh(t,n,r),typeof c!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var j=r.stack;this.componentDidCatch(r.value,{componentStack:j!==null?j:""})})}function fy(e,t,n,r,c){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&tr(t,n,c,!0),n=pn.current,n!==null){switch(n.tag){case 31:case 13:return Un===null?Bl():n.alternate===null&&_t===0&&(_t=3),n.flags&=-257,n.flags|=65536,n.lanes=c,r===fl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),dc(e,r,c)),!1;case 22:return n.flags|=65536,r===fl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),dc(e,r,c)),!1}throw Error(s(435,n.tag))}return dc(e,r,c),Bl(),!1}if(De)return t=pn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==ru&&(e=Error(s(422),{cause:r}),Fr(Nn(e,n)))):(r!==ru&&(t=Error(s(423),{cause:r}),Fr(Nn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Nn(r,n),c=qu(e.stateNode,r,c),vu(e,c),_t!==4&&(_t=2)),!1;var f=Error(s(520),{cause:r});if(f=Nn(f,n),ys===null?ys=[f]:ys.push(f),_t!==4&&(_t=2),t===null)return!0;r=Nn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=qu(n.stateNode,r,e),vu(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ia===null||!Ia.has(f))))return n.flags|=65536,c&=-c,n.lanes|=c,c=mh(c),vh(c,e,n,r),vu(n,c),!1}n=n.return}while(n!==null);return!1}var Gu=Error(s(461)),kt=!1;function Kt(e,t,n,r){t.child=e===null?wf(t,null,n,r):Ai(t,e.child,n,r)}function yh(e,t,n,r,c){n=n.render;var f=t.ref;if("ref"in r){var _={};for(var j in r)j!=="ref"&&(_[j]=r[j])}else _=r;return xi(t),r=xu(e,t,n,_,f,c),j=Su(),e!==null&&!kt?(Eu(e,t,c),va(e,t,c)):(De&&j&&au(t),t.flags|=1,Kt(e,t,r,c),t.child)}function ph(e,t,n,r,c){if(e===null){var f=n.type;return typeof f=="function"&&!eu(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,bh(e,t,f,r,c)):(e=sl(n.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Qu(e,c)){var _=f.memoizedProps;if(n=n.compare,n=n!==null?n:Qr,n(_,r)&&e.ref===t.ref)return va(e,t,c)}return t.flags|=1,e=ca(f,r),e.ref=t.ref,e.return=t,t.child=e}function bh(e,t,n,r,c){if(e!==null){var f=e.memoizedProps;if(Qr(f,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=f,Qu(e,c))(e.flags&131072)!==0&&(kt=!0);else return t.lanes=e.lanes,va(e,t,c)}return $u(e,t,n,r,c)}function wh(e,t,n,r){var c=r.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~f}else r=0,t.child=null;return _h(e,t,f,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cl(t,f!==null?f.cachePool:null),f!==null?Sf(t,f):pu(),Ef(t);else return r=t.lanes=536870912,_h(e,t,f!==null?f.baseLanes|n:n,n,r)}else f!==null?(cl(t,f.cachePool),Sf(t,f),Ga(),t.memoizedState=null):(e!==null&&cl(t,null),pu(),Ga());return Kt(e,t,c,n),t.child}function cs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _h(e,t,n,r,c){var f=fu();return f=f===null?null:{parent:Nt._currentValue,pool:f},t.memoizedState={baseLanes:n,cachePool:f},e!==null&&cl(t,null),pu(),Ef(t),e!==null&&tr(e,t,r,!0),t.childLanes=c,null}function Al(e,t){return t=Ol({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xh(e,t,n){return Ai(t,e.child,null,n),e=Al(t,t.pendingProps),e.flags|=2,bn(t),t.memoizedState=null,e}function hy(e,t,n){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(r.mode==="hidden")return e=Al(t,r),t.lanes=536870912,cs(null,e);if(wu(t),(e=lt)?(e=Ug(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},n=rf(e),n.return=t,t.child=n,Vt=t,lt=null)):e=null,e===null)throw Da(t);return t.lanes=536870912,null}return Al(t,r)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(wu(t),c)if(t.flags&256)t.flags&=-257,t=xh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(kt||tr(e,t,n,!1),c=(n&e.childLanes)!==0,kt||c){if(r=nt,r!==null&&(_=qi(r,n),_!==0&&_!==f.retryLane))throw f.retryLane=_,pi(e,_),fn(r,e,_),Gu;Bl(),t=xh(e,t,n)}else e=f.treeContext,lt=Dn(_.nextSibling),Vt=t,De=!0,Ua=null,zn=!1,e!==null&&of(t,e),t=Al(t,r),t.flags|=4096;return t}return e=ca(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Tl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function $u(e,t,n,r,c){return xi(t),n=xu(e,t,n,r,void 0,c),r=Su(),e!==null&&!kt?(Eu(e,t,c),va(e,t,c)):(De&&r&&au(t),t.flags|=1,Kt(e,t,n,c),t.child)}function Sh(e,t,n,r,c,f){return xi(t),t.updateQueue=null,n=Af(t,r,n,c),jf(e),r=Su(),e!==null&&!kt?(Eu(e,t,f),va(e,t,f)):(De&&r&&au(t),t.flags|=1,Kt(e,t,n,f),t.child)}function Eh(e,t,n,r,c){if(xi(t),t.stateNode===null){var f=Zi,_=n.contextType;typeof _=="object"&&_!==null&&(f=It(_)),f=new n(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hu,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},gu(t),_=n.contextType,f.context=typeof _=="object"&&_!==null?It(_):Zi,f.state=t.memoizedState,_=n.getDerivedStateFromProps,typeof _=="function"&&(Lu(t,n,_,r),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Hu.enqueueReplaceState(f,f.state,null),rs(t,r,f,c),is(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var j=t.memoizedProps,D=Oi(n,j);f.props=D;var Z=f.context,se=n.contextType;_=Zi,typeof se=="object"&&se!==null&&(_=It(se));var oe=n.getDerivedStateFromProps;se=typeof oe=="function"||typeof f.getSnapshotBeforeUpdate=="function",j=t.pendingProps!==j,se||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(j||Z!==_)&&ch(t,f,r,_),Ba=!1;var ee=t.memoizedState;f.state=ee,rs(t,r,f,c),is(),Z=t.memoizedState,j||ee!==Z||Ba?(typeof oe=="function"&&(Lu(t,n,oe,r),Z=t.memoizedState),(D=Ba||uh(t,n,D,r,ee,Z,_))?(se||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=Z),f.props=r,f.state=Z,f.context=_,r=D):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,mu(e,t),_=t.memoizedProps,se=Oi(n,_),f.props=se,oe=t.pendingProps,ee=f.context,Z=n.contextType,D=Zi,typeof Z=="object"&&Z!==null&&(D=It(Z)),j=n.getDerivedStateFromProps,(Z=typeof j=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==oe||ee!==D)&&ch(t,f,r,D),Ba=!1,ee=t.memoizedState,f.state=ee,rs(t,r,f,c),is();var ie=t.memoizedState;_!==oe||ee!==ie||Ba||e!==null&&e.dependencies!==null&&ol(e.dependencies)?(typeof j=="function"&&(Lu(t,n,j,r),ie=t.memoizedState),(se=Ba||uh(t,n,se,r,ee,ie,D)||e!==null&&e.dependencies!==null&&ol(e.dependencies))?(Z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,ie,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,ie,D)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ie),f.props=r,f.state=ie,f.context=D,r=se):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,Tl(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=Ai(t,e.child,null,c),t.child=Ai(t,null,n,c)):Kt(e,t,n,c),t.memoizedState=f.state,e=t.child):e=va(e,t,c),e}function jh(e,t,n,r){return wi(),t.flags|=256,Kt(e,t,n,r),t.child}var Yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vu(e){return{baseLanes:e,cachePool:gf()}}function Iu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=_n),e}function Ah(e,t,n){var r=t.pendingProps,c=!1,f=(t.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Et.current&2)!==0),_&&(c=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(c?qa(t):Ga(),(e=lt)?(e=Ug(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},n=rf(e),n.return=t,t.child=n,Vt=t,lt=null)):e=null,e===null)throw Da(t);return Tc(e)?t.lanes=32:t.lanes=536870912,null}var j=r.children;return r=r.fallback,c?(Ga(),c=t.mode,j=Ol({mode:"hidden",children:j},c),r=bi(r,c,n,null),j.return=t,r.return=t,j.sibling=r,t.child=j,r=t.child,r.memoizedState=Vu(n),r.childLanes=Iu(e,_,n),t.memoizedState=Yu,cs(null,r)):(qa(t),Ku(t,j))}var D=e.memoizedState;if(D!==null&&(j=D.dehydrated,j!==null)){if(f)t.flags&256?(qa(t),t.flags&=-257,t=Pu(e,t,n)):t.memoizedState!==null?(Ga(),t.child=e.child,t.flags|=128,t=null):(Ga(),j=r.fallback,c=t.mode,r=Ol({mode:"visible",children:r.children},c),j=bi(j,c,n,null),j.flags|=2,r.return=t,j.return=t,r.sibling=j,t.child=r,Ai(t,e.child,null,n),r=t.child,r.memoizedState=Vu(n),r.childLanes=Iu(e,_,n),t.memoizedState=Yu,t=cs(null,r));else if(qa(t),Tc(j)){if(_=j.nextSibling&&j.nextSibling.dataset,_)var Z=_.dgst;_=Z,r=Error(s(419)),r.stack="",r.digest=_,Fr({value:r,source:null,stack:null}),t=Pu(e,t,n)}else if(kt||tr(e,t,n,!1),_=(n&e.childLanes)!==0,kt||_){if(_=nt,_!==null&&(r=qi(_,n),r!==0&&r!==D.retryLane))throw D.retryLane=r,pi(e,r),fn(_,e,r),Gu;Ac(j)||Bl(),t=Pu(e,t,n)}else Ac(j)?(t.flags|=192,t.child=e.child,t=null):(e=D.treeContext,lt=Dn(j.nextSibling),Vt=t,De=!0,Ua=null,zn=!1,e!==null&&of(t,e),t=Ku(t,r.children),t.flags|=4096);return t}return c?(Ga(),j=r.fallback,c=t.mode,D=e.child,Z=D.sibling,r=ca(D,{mode:"hidden",children:r.children}),r.subtreeFlags=D.subtreeFlags&65011712,Z!==null?j=ca(Z,j):(j=bi(j,c,n,null),j.flags|=2),j.return=t,r.return=t,r.sibling=j,t.child=r,cs(null,r),r=t.child,j=e.child.memoizedState,j===null?j=Vu(n):(c=j.cachePool,c!==null?(D=Nt._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=gf(),j={baseLanes:j.baseLanes|n,cachePool:c}),r.memoizedState=j,r.childLanes=Iu(e,_,n),t.memoizedState=Yu,cs(e.child,r)):(qa(t),n=e.child,e=n.sibling,n=ca(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=n,t.memoizedState=null,n)}function Ku(e,t){return t=Ol({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ol(e,t){return e=yn(22,e,null,t),e.lanes=0,e}function Pu(e,t,n){return Ai(t,e.child,null,n),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Th(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ou(e.return,t,n)}function Xu(e,t,n,r,c,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:c,treeForkCount:f}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=r,_.tail=n,_.tailMode=c,_.treeForkCount=f)}function Oh(e,t,n){var r=t.pendingProps,c=r.revealOrder,f=r.tail;r=r.children;var _=Et.current,j=(_&2)!==0;if(j?(_=_&1|2,t.flags|=128):_&=1,F(Et,_),Kt(e,t,r,n),r=De?Zr:0,!j&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Th(e,n,t);else if(e.tag===19)Th(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&vl(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Xu(t,!1,c,n,f,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&vl(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Xu(t,!0,n,null,f,r);break;case"together":Xu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function va(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Va|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(tr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=ca(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ca(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ol(e)))}function gy(e,t,n){switch(t.tag){case 3:Se(t,t.stateNode.containerInfo),Ma(t,Nt,e.memoizedState.cache),wi();break;case 27:case 5:ke(t);break;case 4:Se(t,t.stateNode.containerInfo);break;case 10:Ma(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,wu(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(qa(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ah(e,t,n):(qa(t),e=va(e,t,n),e!==null?e.sibling:null);qa(t);break;case 19:var c=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(tr(e,t,n,!1),r=(n&t.childLanes)!==0),c){if(r)return Oh(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(Et,Et.current),r)break;return null;case 22:return t.lanes=0,wh(e,t,n,t.pendingProps);case 24:Ma(t,Nt,e.memoizedState.cache)}return va(e,t,n)}function Ch(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)kt=!0;else{if(!Qu(e,n)&&(t.flags&128)===0)return kt=!1,gy(e,t,n);kt=(e.flags&131072)!==0}else kt=!1,De&&(t.flags&1048576)!==0&&lf(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Ei(t.elementType),t.type=e,typeof e=="function")eu(e)?(r=Oi(e,r),t.tag=1,t=Eh(null,t,e,r,n)):(t.tag=0,t=$u(null,t,e,r,n));else{if(e!=null){var c=e.$$typeof;if(c===B){t.tag=11,t=yh(null,t,e,r,n);break e}else if(c===I){t.tag=14,t=ph(null,t,e,r,n);break e}}throw t=q(e)||e,Error(s(306,t,""))}}return t;case 0:return $u(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,c=Oi(r,t.pendingProps),Eh(e,t,r,c,n);case 3:e:{if(Se(t,t.stateNode.containerInfo),e===null)throw Error(s(387));r=t.pendingProps;var f=t.memoizedState;c=f.element,mu(e,t),rs(t,r,null,n);var _=t.memoizedState;if(r=_.cache,Ma(t,Nt,r),r!==f.cache&&uu(t,[Nt],n,!0),is(),r=_.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=jh(e,t,r,n);break e}else if(r!==c){c=Nn(Error(s(424)),t),Fr(c),t=jh(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(lt=Dn(e.firstChild),Vt=t,De=!0,Ua=null,zn=!0,n=wf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(wi(),r===c){t=va(e,t,n);break e}Kt(e,t,r,n)}t=t.child}return t;case 26:return Tl(e,t),e===null?(n=qg(t.type,null,t.pendingProps,null))?t.memoizedState=n:De||(n=t.type,e=t.pendingProps,r=Vl(de.current).createElement(n),r[bt]=t,r[Gt]=e,Pt(r,n,e),Ct(r),t.stateNode=r):t.memoizedState=qg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ke(t),e===null&&De&&(r=t.stateNode=Bg(t.type,t.pendingProps,de.current),Vt=t,zn=!0,c=lt,Qa(t.type)?(Oc=c,lt=Dn(r.firstChild)):lt=c),Kt(e,t,t.pendingProps.children,n),Tl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((c=r=lt)&&(r=Vy(r,t.type,t.pendingProps,zn),r!==null?(t.stateNode=r,Vt=t,lt=Dn(r.firstChild),zn=!1,c=!0):c=!1),c||Da(t)),ke(t),c=t.type,f=t.pendingProps,_=e!==null?e.memoizedProps:null,r=f.children,Sc(c,f)?r=null:_!==null&&Sc(c,_)&&(t.flags|=32),t.memoizedState!==null&&(c=xu(e,t,ry,null,null,n),js._currentValue=c),Tl(e,t),Kt(e,t,r,n),t.child;case 6:return e===null&&De&&((e=n=lt)&&(n=Iy(n,t.pendingProps,zn),n!==null?(t.stateNode=n,Vt=t,lt=null,e=!0):e=!1),e||Da(t)),null;case 13:return Ah(e,t,n);case 4:return Se(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ai(t,null,r,n):Kt(e,t,r,n),t.child;case 11:return yh(e,t,t.type,t.pendingProps,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ma(t,t.type,r.value),Kt(e,t,r.children,n),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,xi(t),c=It(c),r=r(c),t.flags|=1,Kt(e,t,r,n),t.child;case 14:return ph(e,t,t.type,t.pendingProps,n);case 15:return bh(e,t,t.type,t.pendingProps,n);case 19:return Oh(e,t,n);case 31:return hy(e,t,n);case 22:return wh(e,t,n,t.pendingProps);case 24:return xi(t),r=It(Nt),e===null?(c=fu(),c===null&&(c=nt,f=cu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=n),c=f),t.memoizedState={parent:r,cache:c},gu(t),Ma(t,Nt,c)):((e.lanes&n)!==0&&(mu(e,t),rs(t,null,null,n),is()),c=e.memoizedState,f=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ma(t,Nt,r)):(r=f.cache,Ma(t,Nt,r),r!==c.cache&&uu(t,[Nt],n,!0))),Kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ya(e){e.flags|=4}function Ju(e,t,n,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(ng())e.flags|=8192;else throw ji=fl,hu}else e.flags&=-16777217}function Nh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ig(t))if(ng())e.flags|=8192;else throw ji=fl,hu}function Cl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wt():536870912,e.lanes|=t,hr|=t)}function ds(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function my(e,t,n){var r=t.pendingProps;switch(iu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return ot(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ha(Nt),be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(er(t)?ya(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,su())),ot(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(ya(t),f!==null?(ot(t),Nh(t,f)):(ot(t),Ju(t,c,null,r,n))):f?f!==e.memoizedState?(ya(t),ot(t),Nh(t,f)):(ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&ya(t),ot(t),Ju(t,c,e,r,n)),null;case 27:if(Ve(t),n=de.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ya(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return ot(t),null}e=Q.current,er(t)?uf(t):(e=Bg(c,r,n),t.stateNode=e,ya(t))}return ot(t),null;case 5:if(Ve(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ya(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return ot(t),null}if(f=Q.current,er(t))uf(t);else{var _=Vl(de.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?_.createElement("select",{is:r.is}):_.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?_.createElement(c,{is:r.is}):_.createElement(c)}}f[bt]=t,f[Gt]=r;e:for(_=t.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}t.stateNode=f;e:switch(Pt(f,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ya(t)}}return ot(t),Ju(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ya(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(e=de.current,er(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,c=Vt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[bt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Ag(e.nodeValue,n)),e||Da(t,!0)}else e=Vl(e).createTextNode(r),e[bt]=t,t.stateNode=e}return ot(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=er(t),n!==null){if(e===null){if(!r)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[bt]=t}else wi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),e=!1}else n=su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(bn(t),t):(bn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return ot(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=er(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[bt]=t}else wi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),c=!1}else c=su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(bn(t),t):(bn(t),null)}return bn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Cl(t,t.updateQueue),ot(t),null);case 4:return be(),e===null&&pc(t.stateNode.containerInfo),ot(t),null;case 10:return ha(t.type),ot(t),null;case 19:if(z(Et),r=t.memoizedState,r===null)return ot(t),null;if(c=(t.flags&128)!==0,f=r.rendering,f===null)if(c)ds(r,!1);else{if(_t!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=vl(e),f!==null){for(t.flags|=128,ds(r,!1),e=f.updateQueue,t.updateQueue=e,Cl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)af(n,e),n=n.sibling;return F(Et,Et.current&1|2),De&&da(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&je()>Ul&&(t.flags|=128,c=!0,ds(r,!1),t.lanes=4194304)}else{if(!c)if(e=vl(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Cl(t,e),ds(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!De)return ot(t),null}else 2*je()-r.renderingStartTime>Ul&&n!==536870912&&(t.flags|=128,c=!0,ds(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=je(),e.sibling=null,n=Et.current,F(Et,c?n&1|2:n&1),De&&da(t,r.treeForkCount),e):(ot(t),null);case 22:case 23:return bn(t),bu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),n=t.updateQueue,n!==null&&Cl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&z(Si),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ha(Nt),ot(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function vy(e,t){switch(iu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ha(Nt),be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ve(t),null;case 31:if(t.memoizedState!==null){if(bn(t),t.alternate===null)throw Error(s(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(bn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(Et),null;case 4:return be(),null;case 10:return ha(t.type),null;case 22:case 23:return bn(t),bu(),e!==null&&z(Si),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ha(Nt),null;case 25:return null;default:return null}}function Rh(e,t){switch(iu(t),t.tag){case 3:ha(Nt),be();break;case 26:case 27:case 5:Ve(t);break;case 4:be();break;case 31:t.memoizedState!==null&&bn(t);break;case 13:bn(t);break;case 19:z(Et);break;case 10:ha(t.type);break;case 22:case 23:bn(t),bu(),e!==null&&z(Si);break;case 24:ha(Nt)}}function fs(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){r=void 0;var f=n.create,_=n.inst;r=f(),_.destroy=r}n=n.next}while(n!==c)}}catch(j){Pe(t,t.return,j)}}function $a(e,t,n){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var _=r.inst,j=_.destroy;if(j!==void 0){_.destroy=void 0,c=t;var D=n,Z=j;try{Z()}catch(se){Pe(c,D,se)}}}r=r.next}while(r!==f)}}catch(se){Pe(t,t.return,se)}}function kh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xf(t,n)}catch(r){Pe(e,e.return,r)}}}function zh(e,t,n){n.props=Oi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Pe(e,t,r)}}function hs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(c){Pe(e,t,c)}}function aa(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(c){Pe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Pe(e,t,c)}else n.current=null}function Uh(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(c){Pe(e,e.return,c)}}function Zu(e,t,n){try{var r=e.stateNode;Ly(r,e.type,n,t),r[Gt]=t}catch(c){Pe(e,e.return,c)}}function Dh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qa(e.type)||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gn));else if(r!==4&&(r===27&&Qa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Wu(e,t,n),e=e.sibling;e!==null;)Wu(e,t,n),e=e.sibling}function Nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Qa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Nl(e,t,n),e=e.sibling;e!==null;)Nl(e,t,n),e=e.sibling}function Mh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Pt(t,r,n),t[bt]=e,t[Gt]=n}catch(f){Pe(e,e.return,f)}}var pa=!1,zt=!1,ec=!1,Bh=typeof WeakSet=="function"?WeakSet:Set,$t=null;function yy(e,t){if(e=e.containerInfo,_c=Zl,e=Xd(e),Po(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var _=0,j=-1,D=-1,Z=0,se=0,oe=e,ee=null;t:for(;;){for(var ie;oe!==n||c!==0&&oe.nodeType!==3||(j=_+c),oe!==f||r!==0&&oe.nodeType!==3||(D=_+r),oe.nodeType===3&&(_+=oe.nodeValue.length),(ie=oe.firstChild)!==null;)ee=oe,oe=ie;for(;;){if(oe===e)break t;if(ee===n&&++Z===c&&(j=_),ee===f&&++se===r&&(D=_),(ie=oe.nextSibling)!==null)break;oe=ee,ee=oe.parentNode}oe=ie}n=j===-1||D===-1?null:{start:j,end:D}}else n=null}n=n||{start:0,end:0}}else n=null;for(xc={focusedElem:e,selectionRange:n},Zl=!1,$t=t;$t!==null;)if(t=$t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$t=e;else for(;$t!==null;){switch(t=$t,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,c=f.memoizedProps,f=f.memoizedState,r=n.stateNode;try{var ge=Oi(n.type,c);e=r.getSnapshotBeforeUpdate(ge,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(_e){Pe(n,n.return,_e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)jc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,$t=e;break}$t=t.return}}function Lh(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:wa(e,n),r&4&&fs(5,n);break;case 1:if(wa(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(_){Pe(n,n.return,_)}else{var c=Oi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Pe(n,n.return,_)}}r&64&&kh(n),r&512&&hs(n,n.return);break;case 3:if(wa(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xf(e,t)}catch(_){Pe(n,n.return,_)}}break;case 27:t===null&&r&4&&Mh(n);case 26:case 5:wa(e,n),t===null&&r&4&&Uh(n),r&512&&hs(n,n.return);break;case 12:wa(e,n);break;case 31:wa(e,n),r&4&&Gh(e,n);break;case 13:wa(e,n),r&4&&$h(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ay.bind(null,n),Ky(e,n))));break;case 22:if(r=n.memoizedState!==null||pa,!r){t=t!==null&&t.memoizedState!==null||zt,c=pa;var f=zt;pa=r,(zt=t)&&!f?_a(e,n,(n.subtreeFlags&8772)!==0):wa(e,n),pa=c,zt=f}break;case 30:break;default:wa(e,n)}}function Hh(e){var t=e.alternate;t!==null&&(e.alternate=null,Hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,on=!1;function ba(e,t,n){for(n=n.child;n!==null;)qh(e,t,n),n=n.sibling}function qh(e,t,n){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Tt,n)}catch{}switch(n.tag){case 26:zt||aa(n,t),ba(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||aa(n,t);var r=dt,c=on;Qa(n.type)&&(dt=n.stateNode,on=!1),ba(e,t,n),xs(n.stateNode),dt=r,on=c;break;case 5:zt||aa(n,t);case 6:if(r=dt,c=on,dt=null,ba(e,t,n),dt=r,on=c,dt!==null)if(on)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(f){Pe(n,t,f)}else try{dt.removeChild(n.stateNode)}catch(f){Pe(n,t,f)}break;case 18:dt!==null&&(on?(e=dt,kg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),_r(e)):kg(dt,n.stateNode));break;case 4:r=dt,c=on,dt=n.stateNode.containerInfo,on=!0,ba(e,t,n),dt=r,on=c;break;case 0:case 11:case 14:case 15:$a(2,n,t),zt||$a(4,n,t),ba(e,t,n);break;case 1:zt||(aa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&zh(n,t,r)),ba(e,t,n);break;case 21:ba(e,t,n);break;case 22:zt=(r=zt)||n.memoizedState!==null,ba(e,t,n),zt=r;break;default:ba(e,t,n)}}function Gh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_r(e)}catch(n){Pe(t,t.return,n)}}}function $h(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_r(e)}catch(n){Pe(t,t.return,n)}}function py(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Bh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Bh),t;default:throw Error(s(435,e.tag))}}function Rl(e,t){var n=py(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var c=Ty.bind(null,e,r);r.then(c,c)}})}function un(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var c=n[r],f=e,_=t,j=_;e:for(;j!==null;){switch(j.tag){case 27:if(Qa(j.type)){dt=j.stateNode,on=!1;break e}break;case 5:dt=j.stateNode,on=!1;break e;case 3:case 4:dt=j.stateNode.containerInfo,on=!0;break e}j=j.return}if(dt===null)throw Error(s(160));qh(f,_,c),dt=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Yh(t,e),t=t.sibling}var Vn=null;function Yh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(t,e),cn(e),r&4&&($a(3,e,e.return),fs(3,e),$a(5,e,e.return));break;case 1:un(t,e),cn(e),r&512&&(zt||n===null||aa(n,n.return)),r&64&&pa&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var c=Vn;if(un(t,e),cn(e),r&512&&(zt||n===null||aa(n,n.return)),r&4){var f=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Fn]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),Pt(f,r,n),f[bt]=e,Ct(f),r=f;break e;case"link":var _=Yg("link","href",c).get(r+(n.href||""));if(_){for(var j=0;j<_.length;j++)if(f=_[j],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){_.splice(j,1);break t}}f=c.createElement(r),Pt(f,r,n),c.head.appendChild(f);break;case"meta":if(_=Yg("meta","content",c).get(r+(n.content||""))){for(j=0;j<_.length;j++)if(f=_[j],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){_.splice(j,1);break t}}f=c.createElement(r),Pt(f,r,n),c.head.appendChild(f);break;default:throw Error(s(468,r))}f[bt]=e,Ct(f),r=f}e.stateNode=r}else Vg(c,e.type,e.stateNode);else e.stateNode=$g(c,r,e.memoizedProps);else f!==r?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,r===null?Vg(c,e.type,e.stateNode):$g(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Zu(e,e.memoizedProps,n.memoizedProps)}break;case 27:un(t,e),cn(e),r&512&&(zt||n===null||aa(n,n.return)),n!==null&&r&4&&Zu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(un(t,e),cn(e),r&512&&(zt||n===null||aa(n,n.return)),e.flags&32){c=e.stateNode;try{Na(c,"")}catch(ge){Pe(e,e.return,ge)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Zu(e,c,n!==null?n.memoizedProps:c)),r&1024&&(ec=!0);break;case 6:if(un(t,e),cn(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(ge){Pe(e,e.return,ge)}}break;case 3:if(Pl=null,c=Vn,Vn=Il(t.containerInfo),un(t,e),Vn=c,cn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_r(t.containerInfo)}catch(ge){Pe(e,e.return,ge)}ec&&(ec=!1,Vh(e));break;case 4:r=Vn,Vn=Il(e.stateNode.containerInfo),un(t,e),cn(e),Vn=r;break;case 12:un(t,e),cn(e);break;case 31:un(t,e),cn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Rl(e,r)));break;case 13:un(t,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zl=je()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Rl(e,r)));break;case 22:c=e.memoizedState!==null;var D=n!==null&&n.memoizedState!==null,Z=pa,se=zt;if(pa=Z||c,zt=se||D,un(t,e),zt=se,pa=Z,cn(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||D||pa||zt||Ci(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){D=n=t;try{if(f=D.stateNode,c)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{j=D.stateNode;var oe=D.memoizedProps.style,ee=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;j.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ge){Pe(D,D.return,ge)}}}else if(t.tag===6){if(n===null){D=t;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(ge){Pe(D,D.return,ge)}}}else if(t.tag===18){if(n===null){D=t;try{var ie=D.stateNode;c?zg(ie,!0):zg(D.stateNode,!1)}catch(ge){Pe(D,D.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Rl(e,n))));break;case 19:un(t,e),cn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Rl(e,r)));break;case 30:break;case 21:break;default:un(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Dh(r)){n=r;break}r=r.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var c=n.stateNode,f=Fu(e);Nl(e,f,c);break;case 5:var _=n.stateNode;n.flags&32&&(Na(_,""),n.flags&=-33);var j=Fu(e);Nl(e,j,_);break;case 3:case 4:var D=n.stateNode.containerInfo,Z=Fu(e);Wu(e,Z,D);break;default:throw Error(s(161))}}catch(se){Pe(e,e.return,se)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Lh(e,t.alternate,t),t=t.sibling}function Ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$a(4,t,t.return),Ci(t);break;case 1:aa(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&zh(t,t.return,n),Ci(t);break;case 27:xs(t.stateNode);case 26:case 5:aa(t,t.return),Ci(t);break;case 22:t.memoizedState===null&&Ci(t);break;case 30:Ci(t);break;default:Ci(t)}e=e.sibling}}function _a(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,f=t,_=f.flags;switch(f.tag){case 0:case 11:case 15:_a(c,f,n),fs(4,f);break;case 1:if(_a(c,f,n),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Z){Pe(r,r.return,Z)}if(r=f,c=r.updateQueue,c!==null){var j=r.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)_f(D[c],j)}catch(Z){Pe(r,r.return,Z)}}n&&_&64&&kh(f),hs(f,f.return);break;case 27:Mh(f);case 26:case 5:_a(c,f,n),n&&r===null&&_&4&&Uh(f),hs(f,f.return);break;case 12:_a(c,f,n);break;case 31:_a(c,f,n),n&&_&4&&Gh(c,f);break;case 13:_a(c,f,n),n&&_&4&&$h(c,f);break;case 22:f.memoizedState===null&&_a(c,f,n),hs(f,f.return);break;case 30:break;default:_a(c,f,n)}t=t.sibling}}function tc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Wr(n))}function nc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wr(e))}function In(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ih(e,t,n,r),t=t.sibling}function Ih(e,t,n,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:In(e,t,n,r),c&2048&&fs(9,t);break;case 1:In(e,t,n,r);break;case 3:In(e,t,n,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wr(e)));break;case 12:if(c&2048){In(e,t,n,r),e=t.stateNode;try{var f=t.memoizedProps,_=f.id,j=f.onPostCommit;typeof j=="function"&&j(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Pe(t,t.return,D)}}else In(e,t,n,r);break;case 31:In(e,t,n,r);break;case 13:In(e,t,n,r);break;case 23:break;case 22:f=t.stateNode,_=t.alternate,t.memoizedState!==null?f._visibility&2?In(e,t,n,r):gs(e,t):f._visibility&2?In(e,t,n,r):(f._visibility|=2,cr(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&tc(_,t);break;case 24:In(e,t,n,r),c&2048&&nc(t.alternate,t);break;default:In(e,t,n,r)}}function cr(e,t,n,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,_=t,j=n,D=r,Z=_.flags;switch(_.tag){case 0:case 11:case 15:cr(f,_,j,D,c),fs(8,_);break;case 23:break;case 22:var se=_.stateNode;_.memoizedState!==null?se._visibility&2?cr(f,_,j,D,c):gs(f,_):(se._visibility|=2,cr(f,_,j,D,c)),c&&Z&2048&&tc(_.alternate,_);break;case 24:cr(f,_,j,D,c),c&&Z&2048&&nc(_.alternate,_);break;default:cr(f,_,j,D,c)}t=t.sibling}}function gs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,c=r.flags;switch(r.tag){case 22:gs(n,r),c&2048&&tc(r.alternate,r);break;case 24:gs(n,r),c&2048&&nc(r.alternate,r);break;default:gs(n,r)}t=t.sibling}}var ms=8192;function dr(e,t,n){if(e.subtreeFlags&ms)for(e=e.child;e!==null;)Kh(e,t,n),e=e.sibling}function Kh(e,t,n){switch(e.tag){case 26:dr(e,t,n),e.flags&ms&&e.memoizedState!==null&&ip(n,Vn,e.memoizedState,e.memoizedProps);break;case 5:dr(e,t,n);break;case 3:case 4:var r=Vn;Vn=Il(e.stateNode.containerInfo),dr(e,t,n),Vn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=ms,ms=16777216,dr(e,t,n),ms=r):dr(e,t,n));break;default:dr(e,t,n)}}function Ph(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];$t=r,Qh(r,e)}Ph(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xh(e),e=e.sibling}function Xh(e){switch(e.tag){case 0:case 11:case 15:vs(e),e.flags&2048&&$a(9,e,e.return);break;case 3:vs(e);break;case 12:vs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kl(e)):vs(e);break;default:vs(e)}}function kl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];$t=r,Qh(r,e)}Ph(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$a(8,t,t.return),kl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,kl(t));break;default:kl(t)}e=e.sibling}}function Qh(e,t){for(;$t!==null;){var n=$t;switch(n.tag){case 0:case 11:case 15:$a(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Wr(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,$t=r;else e:for(n=e;$t!==null;){r=$t;var c=r.sibling,f=r.return;if(Hh(r),r===n){$t=null;break e}if(c!==null){c.return=f,$t=c;break e}$t=f}}}var by={getCacheForType:function(e){var t=It(Nt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return It(Nt).controller.signal}},wy=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Ne=null,ze=0,Ke=0,wn=null,Ya=!1,fr=!1,ac=!1,xa=0,_t=0,Va=0,Ni=0,ic=0,_n=0,hr=0,ys=null,dn=null,rc=!1,zl=0,Jh=0,Ul=1/0,Dl=null,Ia=null,Dt=0,Ka=null,gr=null,Sa=0,sc=0,lc=null,Zh=null,ps=0,oc=null;function xn(){return($e&2)!==0&&ze!==0?ze&-ze:S.T!==null?gc():ui()}function Fh(){if(_n===0)if((ze&536870912)===0||De){var e=Jn;Jn<<=1,(Jn&3932160)===0&&(Jn=262144),_n=e}else _n=536870912;return e=pn.current,e!==null&&(e.flags|=32),_n}function fn(e,t,n){(e===nt&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(mr(e,0),Pa(e,ze,_n,!1)),oa(e,n),(($e&2)===0||e!==nt)&&(e===nt&&(($e&2)===0&&(Ni|=n),_t===4&&Pa(e,ze,_n,!1)),ia(e))}function Wh(e,t,n){if(($e&6)!==0)throw Error(s(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||rn(e,t),c=r?Sy(e,t):cc(e,t,!0),f=r;do{if(c===0){fr&&!r&&Pa(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!_y(n)){c=cc(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var j=e;c=ys;var D=j.current.memoizedState.isDehydrated;if(D&&(mr(j,_).flags|=256),_=cc(j,_,!1),_!==2){if(ac&&!D){j.errorRecoveryDisabledLanes|=f,Ni|=f,c=4;break e}f=dn,dn=c,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}c=_}if(f=!1,c!==2)continue}}if(c===1){mr(e,0),Pa(e,t,0,!0);break}e:{switch(r=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Pa(r,t,_n,!Ya);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=zl+300-je(),10<c)){if(Pa(r,t,_n,!Ya),Ft(r,0,!0)!==0)break e;Sa=t,r.timeoutHandle=Ng(eg.bind(null,r,n,dn,Dl,rc,t,_n,Ni,hr,Ya,f,"Throttled",-0,0),c);break e}eg(r,n,dn,Dl,rc,t,_n,Ni,hr,Ya,f,null,-0,0)}}break}while(!0);ia(e)}function eg(e,t,n,r,c,f,_,j,D,Z,se,oe,ee,ie){if(e.timeoutHandle=-1,oe=t.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Kh(t,f,oe);var ge=(f&62914560)===f?zl-je():(f&4194048)===f?Jh-je():0;if(ge=rp(oe,ge),ge!==null){Sa=f,e.cancelPendingCommit=ge(og.bind(null,e,t,f,n,r,c,_,j,D,se,oe,null,ee,ie)),Pa(e,f,_,!Z);return}}og(e,t,f,n,r,c,_,j,D)}function _y(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var c=n[r],f=c.getSnapshot;c=c.value;try{if(!vn(f(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(e,t,n,r){t&=~ic,t&=~Ni,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var f=31-pt(c),_=1<<f;r[f]=-1,c&=~_}n!==0&&Hi(e,n,t)}function Ml(){return($e&6)===0?(bs(0),!1):!0}function uc(){if(Ne!==null){if(Ke===0)var e=Ne.return;else e=Ne,fa=_i=null,ju(e),rr=null,ts=0,e=Ne;for(;e!==null;)Rh(e.alternate,e),e=e.return;Ne=null}}function mr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Gy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Sa=0,uc(),nt=e,Ne=n=ca(e.current,null),ze=t,Ke=0,wn=null,Ya=!1,fr=rn(e,t),ac=!1,hr=_n=ic=Ni=Va=_t=0,dn=ys=null,rc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-pt(r),f=1<<c;t|=e[c],r&=~f}return xa=t,al(),n}function tg(e,t){Te=null,S.H=us,t===ir||t===dl?(t=yf(),Ke=3):t===hu?(t=yf(),Ke=4):Ke=t===Gu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wn=t,Ne===null&&(_t=1,jl(e,Nn(t,e.current)))}function ng(){var e=pn.current;return e===null?!0:(ze&4194048)===ze?Un===null:(ze&62914560)===ze||(ze&536870912)!==0?e===Un:!1}function ag(){var e=S.H;return S.H=us,e===null?us:e}function ig(){var e=S.A;return S.A=by,e}function Bl(){_t=4,Ya||(ze&4194048)!==ze&&pn.current!==null||(fr=!0),(Va&134217727)===0&&(Ni&134217727)===0||nt===null||Pa(nt,ze,_n,!1)}function cc(e,t,n){var r=$e;$e|=2;var c=ag(),f=ig();(nt!==e||ze!==t)&&(Dl=null,mr(e,t)),t=!1;var _=_t;e:do try{if(Ke!==0&&Ne!==null){var j=Ne,D=wn;switch(Ke){case 8:uc(),_=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(t=!0);var Z=Ke;if(Ke=0,wn=null,vr(e,j,D,Z),n&&fr){_=0;break e}break;default:Z=Ke,Ke=0,wn=null,vr(e,j,D,Z)}}xy(),_=_t;break}catch(se){tg(e,se)}while(!0);return t&&e.shellSuspendCounter++,fa=_i=null,$e=r,S.H=c,S.A=f,Ne===null&&(nt=null,ze=0,al()),_}function xy(){for(;Ne!==null;)rg(Ne)}function Sy(e,t){var n=$e;$e|=2;var r=ag(),c=ig();nt!==e||ze!==t?(Dl=null,Ul=je()+500,mr(e,t)):fr=rn(e,t);e:do try{if(Ke!==0&&Ne!==null){t=Ne;var f=wn;t:switch(Ke){case 1:Ke=0,wn=null,vr(e,t,f,1);break;case 2:case 9:if(mf(f)){Ke=0,wn=null,sg(t);break}t=function(){Ke!==2&&Ke!==9||nt!==e||(Ke=7),ia(e)},f.then(t,t);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:mf(f)?(Ke=0,wn=null,sg(t)):(Ke=0,wn=null,vr(e,t,f,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var j=Ne;if(_?Ig(_):j.stateNode.complete){Ke=0,wn=null;var D=j.sibling;if(D!==null)Ne=D;else{var Z=j.return;Z!==null?(Ne=Z,Ll(Z)):Ne=null}break t}}Ke=0,wn=null,vr(e,t,f,5);break;case 6:Ke=0,wn=null,vr(e,t,f,6);break;case 8:uc(),_t=6;break e;default:throw Error(s(462))}}Ey();break}catch(se){tg(e,se)}while(!0);return fa=_i=null,S.H=r,S.A=c,$e=n,Ne!==null?0:(nt=null,ze=0,al(),_t)}function Ey(){for(;Ne!==null&&!Bt();)rg(Ne)}function rg(e){var t=Ch(e.alternate,e,xa);e.memoizedProps=e.pendingProps,t===null?Ll(e):Ne=t}function sg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Sh(n,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=Sh(n,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:ju(t);default:Rh(n,t),t=Ne=af(t,xa),t=Ch(n,t,xa)}e.memoizedProps=e.pendingProps,t===null?Ll(e):Ne=t}function vr(e,t,n,r){fa=_i=null,ju(t),rr=null,ts=0;var c=t.return;try{if(fy(e,c,t,n,ze)){_t=1,jl(e,Nn(n,e.current)),Ne=null;return}}catch(f){if(c!==null)throw Ne=c,f;_t=1,jl(e,Nn(n,e.current)),Ne=null;return}t.flags&32768?(De||r===1?e=!0:fr||(ze&536870912)!==0?e=!1:(Ya=e=!0,(r===2||r===9||r===3||r===6)&&(r=pn.current,r!==null&&r.tag===13&&(r.flags|=16384))),lg(t,e)):Ll(t)}function Ll(e){var t=e;do{if((t.flags&32768)!==0){lg(t,Ya);return}e=t.return;var n=my(t.alternate,t,xa);if(n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);_t===0&&(_t=5)}function lg(e,t){do{var n=vy(e.alternate,e);if(n!==null){n.flags&=32767,Ne=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=n}while(e!==null);_t=6,Ne=null}function og(e,t,n,r,c,f,_,j,D){e.cancelPendingCommit=null;do Hl();while(Dt!==0);if(($e&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=Fo,Gs(e,n,f,_,j,D),e===nt&&(Ne=nt=null,ze=0),gr=t,Ka=e,Sa=n,sc=f,lc=c,Zh=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Oy(ht,function(){return hg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=S.T,S.T=null,c=E.p,E.p=2,_=$e,$e|=4;try{yy(e,t,n)}finally{$e=_,E.p=c,S.T=r}}Dt=1,ug(),cg(),dg()}}function ug(){if(Dt===1){Dt=0;var e=Ka,t=gr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=S.T,S.T=null;var r=E.p;E.p=2;var c=$e;$e|=4;try{Yh(t,e);var f=xc,_=Xd(e.containerInfo),j=f.focusedElem,D=f.selectionRange;if(_!==j&&j&&j.ownerDocument&&Pd(j.ownerDocument.documentElement,j)){if(D!==null&&Po(j)){var Z=D.start,se=D.end;if(se===void 0&&(se=Z),"selectionStart"in j)j.selectionStart=Z,j.selectionEnd=Math.min(se,j.value.length);else{var oe=j.ownerDocument||document,ee=oe&&oe.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),ge=j.textContent.length,_e=Math.min(D.start,ge),Fe=D.end===void 0?_e:Math.min(D.end,ge);!ie.extend&&_e>Fe&&(_=Fe,Fe=_e,_e=_);var V=Kd(j,_e),L=Kd(j,Fe);if(V&&L&&(ie.rangeCount!==1||ie.anchorNode!==V.node||ie.anchorOffset!==V.offset||ie.focusNode!==L.node||ie.focusOffset!==L.offset)){var J=oe.createRange();J.setStart(V.node,V.offset),ie.removeAllRanges(),_e>Fe?(ie.addRange(J),ie.extend(L.node,L.offset)):(J.setEnd(L.node,L.offset),ie.addRange(J))}}}}for(oe=[],ie=j;ie=ie.parentNode;)ie.nodeType===1&&oe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<oe.length;j++){var le=oe[j];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Zl=!!_c,xc=_c=null}finally{$e=c,E.p=r,S.T=n}}e.current=t,Dt=2}}function cg(){if(Dt===2){Dt=0;var e=Ka,t=gr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=S.T,S.T=null;var r=E.p;E.p=2;var c=$e;$e|=4;try{Lh(e,t.alternate,t)}finally{$e=c,E.p=r,S.T=n}}Dt=3}}function dg(){if(Dt===4||Dt===3){Dt=0,st();var e=Ka,t=gr,n=Sa,r=Zh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Dt=5:(Dt=0,gr=Ka=null,fg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ia=null),oi(n),t=t.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Tt,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=S.T,c=E.p,E.p=2,S.T=null;try{for(var f=e.onRecoverableError,_=0;_<r.length;_++){var j=r[_];f(j.value,{componentStack:j.stack})}}finally{S.T=t,E.p=c}}(Sa&3)!==0&&Hl(),ia(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===oc?ps++:(ps=0,oc=e):ps=0,bs(0)}}function fg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wr(t)))}function Hl(){return ug(),cg(),dg(),hg()}function hg(){if(Dt!==5)return!1;var e=Ka,t=sc;sc=0;var n=oi(Sa),r=S.T,c=E.p;try{E.p=32>n?32:n,S.T=null,n=lc,lc=null;var f=Ka,_=Sa;if(Dt=0,gr=Ka=null,Sa=0,($e&6)!==0)throw Error(s(331));var j=$e;if($e|=4,Xh(f.current),Ih(f,f.current,_,n),$e=j,bs(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Tt,f)}catch{}return!0}finally{E.p=c,S.T=r,fg(e,t)}}function gg(e,t,n){t=Nn(n,t),t=qu(e.stateNode,t,2),e=Ha(e,t,2),e!==null&&(oa(e,2),ia(e))}function Pe(e,t,n){if(e.tag===3)gg(e,e,n);else for(;t!==null;){if(t.tag===3){gg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ia===null||!Ia.has(r))){e=Nn(n,e),n=mh(2),r=Ha(t,n,2),r!==null&&(vh(n,r,t,e),oa(r,2),ia(r));break}}t=t.return}}function dc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wy;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(n)||(ac=!0,c.add(n),e=jy.bind(null,e,t,n),t.then(e,e))}function jy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nt===e&&(ze&n)===n&&(_t===4||_t===3&&(ze&62914560)===ze&&300>je()-zl?($e&2)===0&&mr(e,0):ic|=n,hr===ze&&(hr=0)),ia(e)}function mg(e,t){t===0&&(t=Wt()),e=pi(e,t),e!==null&&(oa(e,t),ia(e))}function Ay(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mg(e,n)}function Ty(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(t),mg(e,n)}function Oy(e,t){return at(e,t)}var ql=null,yr=null,fc=!1,Gl=!1,hc=!1,Xa=0;function ia(e){e!==yr&&e.next===null&&(yr===null?ql=yr=e:yr=yr.next=e),Gl=!0,fc||(fc=!0,Ny())}function bs(e,t){if(!hc&&Gl){hc=!0;do for(var n=!1,r=ql;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var _=r.suspendedLanes,j=r.pingedLanes;f=(1<<31-pt(42|e)+1)-1,f&=c&~(_&~j),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,bg(r,f))}else f=ze,f=Ft(r,r===nt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||rn(r,f)||(n=!0,bg(r,f));r=r.next}while(n);hc=!1}}function Cy(){vg()}function vg(){Gl=fc=!1;var e=0;Xa!==0&&qy()&&(e=Xa);for(var t=je(),n=null,r=ql;r!==null;){var c=r.next,f=yg(r,t);f===0?(r.next=null,n===null?ql=c:n.next=c,c===null&&(yr=n)):(n=r,(e!==0||(f&3)!==0)&&(Gl=!0)),r=c}Dt!==0&&Dt!==5||bs(e),Xa!==0&&(Xa=0)}function yg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-pt(f),j=1<<_,D=c[_];D===-1?((j&n)===0||(j&r)!==0)&&(c[_]=si(j,t)):D<=t&&(e.expiredLanes|=j),f&=~j}if(t=nt,n=ze,n=Ft(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&tt(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||rn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&tt(r),oi(n)){case 2:case 8:n=nn;break;case 32:n=ht;break;case 268435456:n=gt;break;default:n=ht}return r=pg.bind(null,e),n=at(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&tt(r),e.callbackPriority=2,e.callbackNode=null,2}function pg(e,t){if(Dt!==0&&Dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Hl()&&e.callbackNode!==n)return null;var r=ze;return r=Ft(e,e===nt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Wh(e,r,t),yg(e,je()),e.callbackNode!=null&&e.callbackNode===n?pg.bind(null,e):null)}function bg(e,t){if(Hl())return null;Wh(e,t,!0)}function Ny(){$y(function(){($e&6)!==0?at(At,Cy):vg()})}function gc(){if(Xa===0){var e=nr;e===0&&(e=an,an<<=1,(an&261888)===0&&(an=256)),Xa=e}return Xa}function wg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ki(""+e)}function _g(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ry(e,t,n,r,c){if(t==="submit"&&n&&n.stateNode===c){var f=wg((c[Gt]||null).action),_=r.submitter;_&&(t=(t=_[Gt]||null)?wg(t.formAction):_.getAttribute("formAction"),t!==null&&(f=t,_=null));var j=new On("action","action",null,r,c);e.push({event:j,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Xa!==0){var D=_?_g(c,_):new FormData(c);Uu(n,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(j.preventDefault(),D=_?_g(c,_):new FormData(c),Uu(n,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var mc=0;mc<Zo.length;mc++){var vc=Zo[mc],ky=vc.toLowerCase(),zy=vc[0].toUpperCase()+vc.slice(1);Yn(ky,"on"+zy)}Yn(Zd,"onAnimationEnd"),Yn(Fd,"onAnimationIteration"),Yn(Wd,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Qv,"onTransitionRun"),Yn(Jv,"onTransitionStart"),Yn(Zv,"onTransitionCancel"),Yn(ef,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ws));function xg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],c=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var _=r.length-1;0<=_;_--){var j=r[_],D=j.instance,Z=j.currentTarget;if(j=j.listener,D!==f&&c.isPropagationStopped())break e;f=j,c.currentTarget=Z;try{f(c)}catch(se){nl(se)}c.currentTarget=null,f=D}else for(_=0;_<r.length;_++){if(j=r[_],D=j.instance,Z=j.currentTarget,j=j.listener,D!==f&&c.isPropagationStopped())break e;f=j,c.currentTarget=Z;try{f(c)}catch(se){nl(se)}c.currentTarget=null,f=D}}}}function Re(e,t){var n=t[ci];n===void 0&&(n=t[ci]=new Set);var r=e+"__bubble";n.has(r)||(Sg(t,e,2,!1),n.add(r))}function yc(e,t,n){var r=0;t&&(r|=4),Sg(n,e,r,t)}var $l="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[$l]){e[$l]=!0,$s.forEach(function(n){n!=="selectionchange"&&(Uy.has(n)||yc(n,!1,e),yc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$l]||(t[$l]=!0,yc("selectionchange",!1,t))}}function Sg(e,t,n,r){switch(Fg(t)){case 2:var c=op;break;case 8:c=up;break;default:c=zc}n=c.bind(null,t,n,e),c=void 0,!ne||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function bc(e,t,n,r,c){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var _=r.tag;if(_===3||_===4){var j=r.stateNode.containerInfo;if(j===c)break;if(_===4)for(_=r.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;j!==null;){if(_=Ta(j),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){r=f=_;continue e}j=j.parentNode}}r=r.return}Ws(function(){var Z=f,se=Yr(n),oe=[];e:{var ee=tf.get(e);if(ee!==void 0){var ie=On,ge=e;switch(e){case"keypress":if(He(n)===0)break e;case"keydown":case"keyup":ie=Tv;break;case"focusin":ge="focus",ie=$o;break;case"focusout":ge="blur",ie=$o;break;case"beforeblur":case"afterblur":ie=$o;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Nv;break;case Zd:case Fd:case Wd:ie=pv;break;case ef:ie=kv;break;case"scroll":case"scrollend":ie=hv;break;case"wheel":ie=Uv;break;case"copy":case"cut":case"paste":ie=wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=kd;break;case"toggle":case"beforetoggle":ie=Mv}var _e=(t&4)!==0,Fe=!_e&&(e==="scroll"||e==="scrollend"),V=_e?ee!==null?ee+"Capture":null:ee;_e=[];for(var L=Z,J;L!==null;){var le=L;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||V===null||(le=gi(L,V),le!=null&&_e.push(_s(L,le,J))),Fe)break;L=L.return}0<_e.length&&(ee=new ie(ee,ge,null,n,se),oe.push({event:ee,listeners:_e}))}}if((t&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",ee&&n!==$r&&(ge=n.relatedTarget||n.fromElement)&&(Ta(ge)||ge[Zn]))break e;if((ie||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(ge=n.relatedTarget||n.toElement,ie=Z,ge=ge?Ta(ge):null,ge!==null&&(Fe=o(ge),_e=ge.tag,ge!==Fe||_e!==5&&_e!==27&&_e!==6)&&(ge=null)):(ie=null,ge=Z),ie!==ge)){if(_e=Nd,le="onMouseLeave",V="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(_e=kd,le="onPointerLeave",V="onPointerEnter",L="pointer"),Fe=ie==null?ee:St(ie),J=ge==null?ee:St(ge),ee=new _e(le,L+"leave",ie,n,se),ee.target=Fe,ee.relatedTarget=J,le=null,Ta(se)===Z&&(_e=new _e(V,L+"enter",ge,n,se),_e.target=J,_e.relatedTarget=Fe,le=_e),Fe=le,ie&&ge)t:{for(_e=Dy,V=ie,L=ge,J=0,le=V;le;le=_e(le))J++;le=0;for(var we=L;we;we=_e(we))le++;for(;0<J-le;)V=_e(V),J--;for(;0<le-J;)L=_e(L),le--;for(;J--;){if(V===L||L!==null&&V===L.alternate){_e=V;break t}V=_e(V),L=_e(L)}_e=null}else _e=null;ie!==null&&Eg(oe,ee,ie,_e,!1),ge!==null&&Fe!==null&&Eg(oe,Fe,ge,_e,!0)}}e:{if(ee=Z?St(Z):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var qe=qd;else if(Ld(ee))if(Gd)qe=Kv;else{qe=Vv;var ve=Yv}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Gr(Z.elementType)&&(qe=qd):qe=Iv;if(qe&&(qe=qe(e,Z))){Hd(oe,qe,n,se);break e}ve&&ve(e,ee,Z),e==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&qr(ee,"number",ee.value)}switch(ve=Z?St(Z):window,e){case"focusin":(Ld(ve)||ve.contentEditable==="true")&&(Xi=ve,Xo=Z,Jr=null);break;case"focusout":Jr=Xo=Xi=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,Qd(oe,n,se);break;case"selectionchange":if(Xv)break;case"keydown":case"keyup":Qd(oe,n,se)}var Ce;if(Vo)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Pi?Md(e,n)&&(Ue="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ue="onCompositionStart");Ue&&(zd&&n.locale!=="ko"&&(Pi||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Pi&&(Ce=Ee()):(ue=se,ce="value"in ue?ue.value:ue.textContent,Pi=!0)),ve=Yl(Z,Ue),0<ve.length&&(Ue=new Rd(Ue,e,null,n,se),oe.push({event:Ue,listeners:ve}),Ce?Ue.data=Ce:(Ce=Bd(n),Ce!==null&&(Ue.data=Ce)))),(Ce=Lv?Hv(e,n):qv(e,n))&&(Ue=Yl(Z,"onBeforeInput"),0<Ue.length&&(ve=new Rd("onBeforeInput","beforeinput",null,n,se),oe.push({event:ve,listeners:Ue}),ve.data=Ce)),Ry(oe,e,Z,n,se)}xg(oe,t)})}function _s(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=gi(e,n),c!=null&&r.unshift(_s(e,c,f)),c=gi(e,t),c!=null&&r.push(_s(e,c,f))),e.tag===3)return r;e=e.return}return[]}function Dy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Eg(e,t,n,r,c){for(var f=t._reactName,_=[];n!==null&&n!==r;){var j=n,D=j.alternate,Z=j.stateNode;if(j=j.tag,D!==null&&D===r)break;j!==5&&j!==26&&j!==27||Z===null||(D=Z,c?(Z=gi(n,f),Z!=null&&_.unshift(_s(n,Z,D))):c||(Z=gi(n,f),Z!=null&&_.push(_s(n,Z,D)))),n=n.return}_.length!==0&&e.push({event:t,listeners:_})}var My=/\r\n?/g,By=/\u0000|\uFFFD/g;function jg(e){return(typeof e=="string"?e:""+e).replace(My,`
`).replace(By,"")}function Ag(e,t){return t=jg(t),jg(e)===t}function Ze(e,t,n,r,c,f){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Na(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Na(e,""+r);break;case"className":hi(e,"class",r);break;case"tabIndex":hi(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(e,n,r);break;case"style":Tn(e,r,f);break;case"data":if(t!=="object"){hi(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Ki(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&Ze(e,t,"name",c.name,c,null),Ze(e,t,"formEncType",c.formEncType,c,null),Ze(e,t,"formMethod",c.formMethod,c,null),Ze(e,t,"formTarget",c.formTarget,c,null)):(Ze(e,t,"encType",c.encType,c,null),Ze(e,t,"method",c.method,c,null),Ze(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Ki(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Gn);break;case"onScroll":r!=null&&Re("scroll",e);break;case"onScrollEnd":r!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(n=r.__html,n!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Ki(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Me(e,"popover",r);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Me(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Lo.get(n)||n,Me(e,n,r))}}function wc(e,t,n,r,c,f){switch(n){case"style":Tn(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(n=r.__html,n!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Na(e,r):(typeof r=="number"||typeof r=="bigint")&&Na(e,""+r);break;case"onScroll":r!=null&&Re("scroll",e);break;case"onScrollEnd":r!=null&&Re("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),f=e[Gt]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,c);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Me(e,n,r)}}}function Pt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var r=!1,c=!1,f;for(f in n)if(n.hasOwnProperty(f)){var _=n[f];if(_!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ze(e,t,f,_,n,null)}}c&&Ze(e,t,"srcSet",n.srcSet,n,null),r&&Ze(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var j=f=_=c=null,D=null,Z=null;for(r in n)if(n.hasOwnProperty(r)){var se=n[r];if(se!=null)switch(r){case"name":c=se;break;case"type":_=se;break;case"checked":D=se;break;case"defaultChecked":Z=se;break;case"value":f=se;break;case"defaultValue":j=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,t));break;default:Ze(e,t,r,se,n,null)}}Xs(e,f,j,D,Z,_,c,!1);return;case"select":Re("invalid",e),r=_=f=null;for(c in n)if(n.hasOwnProperty(c)&&(j=n[c],j!=null))switch(c){case"value":f=j;break;case"defaultValue":_=j;break;case"multiple":r=j;default:Ze(e,t,c,j,n,null)}t=f,n=_,e.multiple=!!r,t!=null?Wn(e,!!r,t,!1):n!=null&&Wn(e,!!r,n,!0);return;case"textarea":Re("invalid",e),f=c=r=null;for(_ in n)if(n.hasOwnProperty(_)&&(j=n[_],j!=null))switch(_){case"value":r=j;break;case"defaultValue":c=j;break;case"children":f=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:Ze(e,t,_,j,n,null)}Js(e,r,c,f);return;case"option":for(D in n)if(n.hasOwnProperty(D)&&(r=n[D],r!=null))switch(D){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ze(e,t,D,r,n,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(r=0;r<ws.length;r++)Re(ws[r],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(r=n[Z],r!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ze(e,t,Z,r,n,null)}return;default:if(Gr(t)){for(se in n)n.hasOwnProperty(se)&&(r=n[se],r!==void 0&&wc(e,t,se,r,n,void 0));return}}for(j in n)n.hasOwnProperty(j)&&(r=n[j],r!=null&&Ze(e,t,j,r,n,null))}function Ly(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,j=null,D=null,Z=null,se=null;for(ie in n){var oe=n[ie];if(n.hasOwnProperty(ie)&&oe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":D=oe;default:r.hasOwnProperty(ie)||Ze(e,t,ie,null,r,oe)}}for(var ee in r){var ie=r[ee];if(oe=n[ee],r.hasOwnProperty(ee)&&(ie!=null||oe!=null))switch(ee){case"type":f=ie;break;case"name":c=ie;break;case"checked":Z=ie;break;case"defaultChecked":se=ie;break;case"value":_=ie;break;case"defaultValue":j=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,t));break;default:ie!==oe&&Ze(e,t,ee,ie,r,oe)}}Hr(e,_,j,D,Z,se,f,c);return;case"select":ie=_=j=ee=null;for(f in n)if(D=n[f],n.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":ie=D;default:r.hasOwnProperty(f)||Ze(e,t,f,null,r,D)}for(c in r)if(f=r[c],D=n[c],r.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":ee=f;break;case"defaultValue":j=f;break;case"multiple":_=f;default:f!==D&&Ze(e,t,c,f,r,D)}t=j,n=_,r=ie,ee!=null?Wn(e,!!n,ee,!1):!!r!=!!n&&(t!=null?Wn(e,!!n,t,!0):Wn(e,!!n,n?[]:"",!1));return;case"textarea":ie=ee=null;for(j in n)if(c=n[j],n.hasOwnProperty(j)&&c!=null&&!r.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Ze(e,t,j,null,r,c)}for(_ in r)if(c=r[_],f=n[_],r.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":ee=c;break;case"defaultValue":ie=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Ze(e,t,_,c,r,f)}Qs(e,ee,ie);return;case"option":for(var ge in n)if(ee=n[ge],n.hasOwnProperty(ge)&&ee!=null&&!r.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Ze(e,t,ge,null,r,ee)}for(D in r)if(ee=r[D],ie=n[D],r.hasOwnProperty(D)&&ee!==ie&&(ee!=null||ie!=null))switch(D){case"selected":e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ze(e,t,D,ee,r,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in n)ee=n[_e],n.hasOwnProperty(_e)&&ee!=null&&!r.hasOwnProperty(_e)&&Ze(e,t,_e,null,r,ee);for(Z in r)if(ee=r[Z],ie=n[Z],r.hasOwnProperty(Z)&&ee!==ie&&(ee!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,t));break;default:Ze(e,t,Z,ee,r,ie)}return;default:if(Gr(t)){for(var Fe in n)ee=n[Fe],n.hasOwnProperty(Fe)&&ee!==void 0&&!r.hasOwnProperty(Fe)&&wc(e,t,Fe,void 0,r,ee);for(se in r)ee=r[se],ie=n[se],!r.hasOwnProperty(se)||ee===ie||ee===void 0&&ie===void 0||wc(e,t,se,ee,r,ie);return}}for(var V in n)ee=n[V],n.hasOwnProperty(V)&&ee!=null&&!r.hasOwnProperty(V)&&Ze(e,t,V,null,r,ee);for(oe in r)ee=r[oe],ie=n[oe],!r.hasOwnProperty(oe)||ee===ie||ee==null&&ie==null||Ze(e,t,oe,ee,r,ie)}function Tg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var c=n[r],f=c.transferSize,_=c.initiatorType,j=c.duration;if(f&&j&&Tg(_)){for(_=0,j=c.responseEnd,r+=1;r<n.length;r++){var D=n[r],Z=D.startTime;if(Z>j)break;var se=D.transferSize,oe=D.initiatorType;se&&Tg(oe)&&(D=D.responseEnd,_+=se*(D<j?1:(j-Z)/(D-Z)))}if(--r,t+=8*(f+_)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _c=null,xc=null;function Vl(e){return e.nodeType===9?e:e.ownerDocument}function Og(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ec=null;function qy(){var e=window.event;return e&&e.type==="popstate"?e===Ec?!1:(Ec=e,!0):(Ec=null,!1)}var Ng=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,$y=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(e){return Rg.resolve(null).then(e).catch(Yy)}:Ng;function Yy(e){setTimeout(function(){throw e})}function Qa(e){return e==="head"}function kg(e,t){var n=t,r=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(c),_r(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")xs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,xs(n);for(var f=n.firstChild;f;){var _=f.nextSibling,j=f.nodeName;f[Fn]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=_}}else n==="body"&&xs(e.ownerDocument.body);n=c}while(n);_r(t)}function zg(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function jc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jc(n),fi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Vy(e,t,n,r){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Fn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function Iy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function Ug(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function Ac(e){return e.data==="$?"||e.data==="$~"}function Tc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ky(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Oc=null;function Dg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Bg(e,t,n){switch(t=Vl(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function xs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fi(e)}var Mn=new Map,Lg=new Set;function Il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ea=E.d;E.d={f:Py,r:Xy,D:Qy,C:Jy,L:Zy,m:Fy,X:ep,S:Wy,M:tp};function Py(){var e=Ea.f(),t=Ml();return e||t}function Xy(e){var t=ua(e);t!==null&&t.tag===5&&t.type==="form"?th(t):Ea.r(e)}var pr=typeof document>"u"?null:document;function Hg(e,t,n){var r=pr;if(r&&typeof t=="string"&&t){var c=ln(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Lg.has(c)||(Lg.add(c),e={rel:e,crossOrigin:n,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),Pt(t,"link",e),Ct(t),r.head.appendChild(t)))}}function Qy(e){Ea.D(e),Hg("dns-prefetch",e,null)}function Jy(e,t){Ea.C(e,t),Hg("preconnect",e,t)}function Zy(e,t,n){Ea.L(e,t,n);var r=pr;if(r&&e&&t){var c='link[rel="preload"][as="'+ln(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+ln(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+ln(n.imageSizes)+'"]')):c+='[href="'+ln(e)+'"]';var f=c;switch(t){case"style":f=br(e);break;case"script":f=wr(e)}Mn.has(f)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mn.set(f,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(Ss(f))||t==="script"&&r.querySelector(Es(f))||(t=r.createElement("link"),Pt(t,"link",e),Ct(t),r.head.appendChild(t)))}}function Fy(e,t){Ea.m(e,t);var n=pr;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+ln(r)+'"][href="'+ln(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wr(e)}if(!Mn.has(f)&&(e=y({rel:"modulepreload",href:e},t),Mn.set(f,e),n.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Es(f)))return}r=n.createElement("link"),Pt(r,"link",e),Ct(r),n.head.appendChild(r)}}}function Wy(e,t,n){Ea.S(e,t,n);var r=pr;if(r&&e){var c=Oa(r).hoistableStyles,f=br(e);t=t||"default";var _=c.get(f);if(!_){var j={loading:0,preload:null};if(_=r.querySelector(Ss(f)))j.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mn.get(f))&&Cc(e,n);var D=_=r.createElement("link");Ct(D),Pt(D,"link",e),D._p=new Promise(function(Z,se){D.onload=Z,D.onerror=se}),D.addEventListener("load",function(){j.loading|=1}),D.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Kl(_,t,r)}_={type:"stylesheet",instance:_,count:1,state:j},c.set(f,_)}}}function ep(e,t){Ea.X(e,t);var n=pr;if(n&&e){var r=Oa(n).hoistableScripts,c=wr(e),f=r.get(c);f||(f=n.querySelector(Es(c)),f||(e=y({src:e,async:!0},t),(t=Mn.get(c))&&Nc(e,t),f=n.createElement("script"),Ct(f),Pt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function tp(e,t){Ea.M(e,t);var n=pr;if(n&&e){var r=Oa(n).hoistableScripts,c=wr(e),f=r.get(c);f||(f=n.querySelector(Es(c)),f||(e=y({src:e,async:!0,type:"module"},t),(t=Mn.get(c))&&Nc(e,t),f=n.createElement("script"),Ct(f),Pt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function qg(e,t,n,r){var c=(c=de.current)?Il(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=br(n.href),n=Oa(c).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=br(n.href);var f=Oa(c).hoistableStyles,_=f.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=c.querySelector(Ss(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(e,n),f||np(c,e,n,_.state))),t&&r===null)throw Error(s(528,""));return _}if(t&&r!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=wr(n),n=Oa(c).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function br(e){return'href="'+ln(e)+'"'}function Ss(e){return'link[rel="stylesheet"]['+e+"]"}function Gg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function np(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Pt(t,"link",n),Ct(t),e.head.appendChild(t))}function wr(e){return'[src="'+ln(e)+'"]'}function Es(e){return"script[async]"+e}function $g(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ln(n.href)+'"]');if(r)return t.instance=r,Ct(r),r;var c=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Ct(r),Pt(r,"style",c),Kl(r,n.precedence,e),t.instance=r;case"stylesheet":c=br(n.href);var f=e.querySelector(Ss(c));if(f)return t.state.loading|=4,t.instance=f,Ct(f),f;r=Gg(n),(c=Mn.get(c))&&Cc(r,c),f=(e.ownerDocument||e).createElement("link"),Ct(f);var _=f;return _._p=new Promise(function(j,D){_.onload=j,_.onerror=D}),Pt(f,"link",r),t.state.loading|=4,Kl(f,n.precedence,e),t.instance=f;case"script":return f=wr(n.src),(c=e.querySelector(Es(f)))?(t.instance=c,Ct(c),c):(r=n,(c=Mn.get(f))&&(r=y({},n),Nc(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ct(c),Pt(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Kl(r,n.precedence,e));return t.instance}function Kl(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,_=0;_<r.length;_++){var j=r[_];if(j.dataset.precedence===t)f=j;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pl=null;function Yg(e,t,n){if(Pl===null){var r=new Map,c=Pl=new Map;c.set(n,r)}else c=Pl,r=c.get(n),r||(r=new Map,c.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var f=n[c];if(!(f[Fn]||f[bt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(t)||"";_=e+_;var j=r.get(_);j?j.push(f):r.set(_,[f])}}return r}function Vg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ap(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ig(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ip(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=br(r.href),f=t.querySelector(Ss(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Xl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=f,Ct(f);return}f=t.ownerDocument||t,r=Gg(r),(c=Mn.get(c))&&Cc(r,c),f=f.createElement("link"),Ct(f);var _=f;_._p=new Promise(function(j,D){_.onload=j,_.onerror=D}),Pt(f,"link",r),n.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Xl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Rc=0;function rp(e,t){return e.stylesheets&&e.count===0&&Jl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Jl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Rc===0&&(Rc=62500*Hy());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Rc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Xl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ql=null;function Jl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ql=new Map,t.forEach(sp,e),Ql=null,Xl.call(e))}function sp(e,t){if(!(t.state.loading&4)){var n=Ql.get(e);if(n)var r=n.get(null);else{n=new Map,Ql.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(n.set(_.dataset.precedence,_),r=_)}r&&n.set(null,r)}c=t.instance,_=c.getAttribute("data-precedence"),f=n.get(_)||r,f===r&&n.set(null,c),n.set(_,c),this.count++,r=Xl.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var js={$$typeof:U,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function lp(e,t,n,r,c,f,_,j,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Kg(e,t,n,r,c,f,_,j,D,Z,se,oe){return e=new lp(e,t,n,_,D,Z,se,oe,j),t=1,f===!0&&(t|=24),f=yn(3,null,null,t),e.current=f,f.stateNode=e,t=cu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:n,cache:t},gu(f),e}function Pg(e){return e?(e=Zi,e):Zi}function Xg(e,t,n,r,c,f){c=Pg(c),r.context===null?r.context=c:r.pendingContext=c,r=La(t),r.payload={element:n},f=f===void 0?null:f,f!==null&&(r.callback=f),n=Ha(e,r,t),n!==null&&(fn(n,e,t),as(n,e,t))}function Qg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kc(e,t){Qg(e,t),(e=e.alternate)&&Qg(e,t)}function Jg(e){if(e.tag===13||e.tag===31){var t=pi(e,67108864);t!==null&&fn(t,e,67108864),kc(e,67108864)}}function Zg(e){if(e.tag===13||e.tag===31){var t=xn();t=Gi(t);var n=pi(e,t);n!==null&&fn(n,e,t),kc(e,t)}}var Zl=!0;function op(e,t,n,r){var c=S.T;S.T=null;var f=E.p;try{E.p=2,zc(e,t,n,r)}finally{E.p=f,S.T=c}}function up(e,t,n,r){var c=S.T;S.T=null;var f=E.p;try{E.p=8,zc(e,t,n,r)}finally{E.p=f,S.T=c}}function zc(e,t,n,r){if(Zl){var c=Uc(r);if(c===null)bc(e,t,r,Fl,n),Wg(e,r);else if(dp(c,e,t,n,r))r.stopPropagation();else if(Wg(e,r),t&4&&-1<cp.indexOf(e)){for(;c!==null;){var f=ua(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Ot(f.pendingLanes);if(_!==0){var j=f;for(j.pendingLanes|=2,j.entangledLanes|=2;_;){var D=1<<31-pt(_);j.entanglements[1]|=D,_&=~D}ia(f),($e&6)===0&&(Ul=je()+500,bs(0))}}break;case 31:case 13:j=pi(f,2),j!==null&&fn(j,f,2),Ml(),kc(f,2)}if(f=Uc(r),f===null&&bc(e,t,r,Fl,n),f===c)break;c=f}c!==null&&r.stopPropagation()}else bc(e,t,r,null,n)}}function Uc(e){return e=Yr(e),Dc(e)}var Fl=null;function Dc(e){if(Fl=null,e=Ta(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fl=e,null}function Fg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lt()){case At:return 2;case nn:return 8;case ht:case gn:return 32;case gt:return 268435456;default:return 32}default:return 32}}var Mc=!1,Ja=null,Za=null,Fa=null,As=new Map,Ts=new Map,Wa=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wg(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":As.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(t.pointerId)}}function Os(e,t,n,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},t!==null&&(t=ua(t),t!==null&&Jg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function dp(e,t,n,r,c){switch(t){case"focusin":return Ja=Os(Ja,e,t,n,r,c),!0;case"dragenter":return Za=Os(Za,e,t,n,r,c),!0;case"mouseover":return Fa=Os(Fa,e,t,n,r,c),!0;case"pointerover":var f=c.pointerId;return As.set(f,Os(As.get(f)||null,e,t,n,r,c)),!0;case"gotpointercapture":return f=c.pointerId,Ts.set(f,Os(Ts.get(f)||null,e,t,n,r,c)),!0}return!1}function e0(e){var t=Ta(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,$i(e.priority,function(){Zg(n)});return}}else if(t===31){if(t=h(n),t!==null){e.blockedOn=t,$i(e.priority,function(){Zg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uc(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$r=r,n.target.dispatchEvent(r),$r=null}else return t=ua(n),t!==null&&Jg(t),e.blockedOn=n,!1;t.shift()}return!0}function t0(e,t,n){Wl(e)&&n.delete(t)}function fp(){Mc=!1,Ja!==null&&Wl(Ja)&&(Ja=null),Za!==null&&Wl(Za)&&(Za=null),Fa!==null&&Wl(Fa)&&(Fa=null),As.forEach(t0),Ts.forEach(t0)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Mc||(Mc=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,fp)))}var to=null;function n0(e){to!==e&&(to=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){to===e&&(to=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(Dc(r||n)===null)continue;break}var f=ua(n);f!==null&&(e.splice(t,3),t-=3,Uu(f,{pending:!0,data:c,method:n.method,action:r},r,c))}}))}function _r(e){function t(D){return eo(D,e)}Ja!==null&&eo(Ja,e),Za!==null&&eo(Za,e),Fa!==null&&eo(Fa,e),As.forEach(t),Ts.forEach(t);for(var n=0;n<Wa.length;n++){var r=Wa[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Wa.length&&(n=Wa[0],n.blockedOn===null);)e0(n),n.blockedOn===null&&Wa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var c=n[r],f=n[r+1],_=c[Gt]||null;if(typeof f=="function")_||n0(n);else if(_){var j=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[Gt]||null)j=_.formAction;else if(Dc(c)!==null)continue}else j=_.action;typeof j=="function"?n[r+1]=j:(n.splice(r,3),r-=3),n0(n)}}}function a0(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return c=_})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Bc(e){this._internalRoot=e}no.prototype.render=Bc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,r=xn();Xg(n,r,e,t,null,null)},no.prototype.unmount=Bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xg(e.current,2,null,e,null,null),Ml(),t[Zn]=null}};function no(e){this._internalRoot=e}no.prototype.unstable_scheduleHydration=function(e){if(e){var t=ui();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wa.length&&t!==0&&t<Wa[n].priority;n++);Wa.splice(n,0,e),n===0&&e0(e)}};var i0=a.version;if(i0!=="19.2.0")throw Error(s(527,i0,"19.2.0"));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var hp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{Tt=ao.inject(hp),Qe=ao}catch{}}return Ns.createRoot=function(e,t){if(!l(e))throw Error(s(299));var n=!1,r="",c=dh,f=fh,_=hh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError)),t=Kg(e,1,!1,null,null,n,r,null,c,f,_,a0),e[Zn]=t.current,pc(e),new Bc(t)},Ns.hydrateRoot=function(e,t,n){if(!l(e))throw Error(s(299));var r=!1,c="",f=dh,_=fh,j=hh,D=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError),n.formState!==void 0&&(D=n.formState)),t=Kg(e,1,!0,t,n??null,r,c,D,f,_,j,a0),t.context=Pg(null),n=t.current,r=xn(),r=Gi(r),c=La(r),c.callback=null,Ha(n,c,r),n=r,t.current.lanes=n,oa(t,n),ia(t),e[Zn]=t.current,pc(e),new no(t)},Ns.version="19.2.0",Ns}var g0;function jp(){if(g0)return qc.exports;g0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(a){console.error(a)}}return u(),qc.exports=Ep(),qc.exports}var Ap=jp(),nd=function(u,a){return nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},nd(u,a)};function W0(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");nd(u,a);function i(){this.constructor=u}u.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}var vo=function(){return vo=Object.assign||function(a){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},vo.apply(this,arguments)};function Dr(u,a){var i={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&a.indexOf(s)<0&&(i[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(u);l<s.length;l++)a.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(u,s[l])&&(i[s[l]]=u[s[l]]);return i}function em(u,a,i,s){var l=arguments.length,o=l<3?a:s===null?s=Object.getOwnPropertyDescriptor(a,i):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(u,a,i,s);else for(var h=u.length-1;h>=0;h--)(d=u[h])&&(o=(l<3?d(o):l>3?d(a,i,o):d(a,i))||o);return l>3&&o&&Object.defineProperty(a,i,o),o}function tm(u,a){return function(i,s){a(i,s,u)}}function nm(u,a,i,s,l,o){function d(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var h=s.kind,m=h==="getter"?"get":h==="setter"?"set":"value",g=!a&&u?s.static?u:u.prototype:null,v=a||(g?Object.getOwnPropertyDescriptor(g,s.name):{}),y,p=!1,w=i.length-1;w>=0;w--){var x={};for(var T in s)x[T]=T==="access"?{}:s[T];for(var T in s.access)x.access[T]=s.access[T];x.addInitializer=function(A){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(d(A||null))};var N=(0,i[w])(h==="accessor"?{get:v.get,set:v.set}:v[m],x);if(h==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(y=d(N.get))&&(v.get=y),(y=d(N.set))&&(v.set=y),(y=d(N.init))&&l.unshift(y)}else(y=d(N))&&(h==="field"?l.unshift(y):v[m]=y)}g&&Object.defineProperty(g,s.name,v),p=!0}function am(u,a,i){for(var s=arguments.length>2,l=0;l<a.length;l++)i=s?a[l].call(u,i):a[l].call(u);return s?i:void 0}function im(u){return typeof u=="symbol"?u:"".concat(u)}function rm(u,a,i){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(u,"name",{configurable:!0,value:i?"".concat(i," ",a):a})}function sm(u,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,a)}function ye(u,a,i,s){function l(o){return o instanceof i?o:new i(function(d){d(o)})}return new(i||(i=Promise))(function(o,d){function h(v){try{g(s.next(v))}catch(y){d(y)}}function m(v){try{g(s.throw(v))}catch(y){d(y)}}function g(v){v.done?o(v.value):l(v.value).then(h,m)}g((s=s.apply(u,a||[])).next())})}function lm(u,a){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,l,o,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=h(0),d.throw=h(1),d.return=h(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(v){return m([g,v])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(i=0)),i;)try{if(s=1,l&&(o=g[0]&2?l.return:g[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,g[1])).done)return o;switch(l=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,l=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){i.label=g[1];break}if(g[0]===6&&i.label<o[1]){i.label=o[1],o=g;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(g);break}o[2]&&i.ops.pop(),i.trys.pop();continue}g=a.call(u,i)}catch(v){g=[6,v],l=0}finally{s=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Ro=Object.create?(function(u,a,i,s){s===void 0&&(s=i);var l=Object.getOwnPropertyDescriptor(a,i);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(u,s,l)}):(function(u,a,i,s){s===void 0&&(s=i),u[s]=a[i]});function om(u,a){for(var i in u)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&Ro(a,u,i)}function yo(u){var a=typeof Symbol=="function"&&Symbol.iterator,i=a&&u[a],s=0;if(i)return i.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function bd(u,a){var i=typeof Symbol=="function"&&u[Symbol.iterator];if(!i)return u;var s=i.call(u),l,o=[],d;try{for(;(a===void 0||a-- >0)&&!(l=s.next()).done;)o.push(l.value)}catch(h){d={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(d)throw d.error}}return o}function um(){for(var u=[],a=0;a<arguments.length;a++)u=u.concat(bd(arguments[a]));return u}function cm(){for(var u=0,a=0,i=arguments.length;a<i;a++)u+=arguments[a].length;for(var s=Array(u),l=0,a=0;a<i;a++)for(var o=arguments[a],d=0,h=o.length;d<h;d++,l++)s[l]=o[d];return s}function dm(u,a,i){if(i||arguments.length===2)for(var s=0,l=a.length,o;s<l;s++)(o||!(s in a))&&(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return u.concat(o||Array.prototype.slice.call(a))}function zr(u){return this instanceof zr?(this.v=u,this):new zr(u)}function fm(u,a,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(u,a||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(w){return function(x){return Promise.resolve(x).then(w,y)}}function h(w,x){s[w]&&(l[w]=function(T){return new Promise(function(N,A){o.push([w,T,N,A])>1||m(w,T)})},x&&(l[w]=x(l[w])))}function m(w,x){try{g(s[w](x))}catch(T){p(o[0][3],T)}}function g(w){w.value instanceof zr?Promise.resolve(w.value.v).then(v,y):p(o[0][2],w)}function v(w){m("next",w)}function y(w){m("throw",w)}function p(w,x){w(x),o.shift(),o.length&&m(o[0][0],o[0][1])}}function hm(u){var a,i;return a={},s("next"),s("throw",function(l){throw l}),s("return"),a[Symbol.iterator]=function(){return this},a;function s(l,o){a[l]=u[l]?function(d){return(i=!i)?{value:zr(u[l](d)),done:!1}:o?o(d):d}:o}}function gm(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=u[Symbol.asyncIterator],i;return a?a.call(u):(u=typeof yo=="function"?yo(u):u[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(o){i[o]=u[o]&&function(d){return new Promise(function(h,m){d=u[o](d),l(h,m,d.done,d.value)})}}function l(o,d,h,m){Promise.resolve(m).then(function(g){o({value:g,done:h})},d)}}function mm(u,a){return Object.defineProperty?Object.defineProperty(u,"raw",{value:a}):u.raw=a,u}var Tp=Object.create?(function(u,a){Object.defineProperty(u,"default",{enumerable:!0,value:a})}):function(u,a){u.default=a},ad=function(u){return ad=Object.getOwnPropertyNames||function(a){var i=[];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[i.length]=s);return i},ad(u)};function vm(u){if(u&&u.__esModule)return u;var a={};if(u!=null)for(var i=ad(u),s=0;s<i.length;s++)i[s]!=="default"&&Ro(a,u,i[s]);return Tp(a,u),a}function ym(u){return u&&u.__esModule?u:{default:u}}function pm(u,a,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?u!==a||!s:!a.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(u):s?s.value:a.get(u)}function bm(u,a,i,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?u!==a||!l:!a.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(u,i):l?l.value=i:a.set(u,i),i}function wm(u,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof u=="function"?a===u:u.has(a)}function _m(u,a,i){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var s,l;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=a[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=a[Symbol.dispose],i&&(l=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");l&&(s=function(){try{l.call(this)}catch(o){return Promise.reject(o)}}),u.stack.push({value:a,dispose:s,async:i})}else i&&u.stack.push({async:!0});return a}var Op=typeof SuppressedError=="function"?SuppressedError:function(u,a,i){var s=new Error(i);return s.name="SuppressedError",s.error=u,s.suppressed=a,s};function xm(u){function a(o){u.error=u.hasError?new Op(o,u.error,"An error was suppressed during disposal."):o,u.hasError=!0}var i,s=0;function l(){for(;i=u.stack.pop();)try{if(!i.async&&s===1)return s=0,u.stack.push(i),Promise.resolve().then(l);if(i.dispose){var o=i.dispose.call(i.value);if(i.async)return s|=2,Promise.resolve(o).then(l,function(d){return a(d),l()})}else s|=1}catch(d){a(d)}if(s===1)return u.hasError?Promise.reject(u.error):Promise.resolve();if(u.hasError)throw u.error}return l()}function Sm(u,a){return typeof u=="string"&&/^\.\.?\//.test(u)?u.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,s,l,o,d){return s?a?".jsx":".js":l&&(!o||!d)?i:l+o+"."+d.toLowerCase()+"js"}):u}const Cp={__extends:W0,__assign:vo,__rest:Dr,__decorate:em,__param:tm,__esDecorate:nm,__runInitializers:am,__propKey:im,__setFunctionName:rm,__metadata:sm,__awaiter:ye,__generator:lm,__createBinding:Ro,__exportStar:om,__values:yo,__read:bd,__spread:um,__spreadArrays:cm,__spreadArray:dm,__await:zr,__asyncGenerator:fm,__asyncDelegator:hm,__asyncValues:gm,__makeTemplateObject:mm,__importStar:vm,__importDefault:ym,__classPrivateFieldGet:pm,__classPrivateFieldSet:bm,__classPrivateFieldIn:wm,__addDisposableResource:_m,__disposeResources:xm,__rewriteRelativeImportExtension:Sm},Np=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_m,get __assign(){return vo},__asyncDelegator:hm,__asyncGenerator:fm,__asyncValues:gm,__await:zr,__awaiter:ye,__classPrivateFieldGet:pm,__classPrivateFieldIn:wm,__classPrivateFieldSet:bm,__createBinding:Ro,__decorate:em,__disposeResources:xm,__esDecorate:nm,__exportStar:om,__extends:W0,__generator:lm,__importDefault:ym,__importStar:vm,__makeTemplateObject:mm,__metadata:sm,__param:tm,__propKey:im,__read:bd,__rest:Dr,__rewriteRelativeImportExtension:Sm,__runInitializers:am,__setFunctionName:rm,__spread:um,__spreadArray:dm,__spreadArrays:cm,__values:yo,default:Cp},Symbol.toStringTag,{value:"Module"})),Rp=u=>u?(...a)=>u(...a):(...a)=>fetch(...a);class wd extends Error{constructor(a,i="FunctionsError",s){super(a),this.name=i,this.context=s}}class kp extends wd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class m0 extends wd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class v0 extends wd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var id;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(id||(id={}));class zp{constructor(a,{headers:i={},customFetch:s,region:l=id.Any}={}){this.url=a,this.headers=i,this.region=l,this.fetch=Rp(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return ye(this,arguments,void 0,function*(i,s={}){var l;let o,d;try{const{headers:h,method:m,body:g,signal:v,timeout:y}=s;let p={},{region:w}=s;w||(w=this.region);const x=new URL(`${this.url}/${i}`);w&&w!=="any"&&(p["x-region"]=w,x.searchParams.set("forceFunctionRegion",w));let T;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(p["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(p["Content-Type"]="application/json",T=JSON.stringify(g)):T=g;let N=v;y&&(d=new AbortController,o=setTimeout(()=>d.abort(),y),v?(N=d.signal,v.addEventListener("abort",()=>d.abort())):N=d.signal);const A=yield this.fetch(x.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),h),body:T,signal:N}).catch(ae=>{throw new kp(ae)}),Y=A.headers.get("x-relay-error");if(Y&&Y==="true")throw new m0(A);if(!A.ok)throw new v0(A);let U=((l=A.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),B;return U==="application/json"?B=yield A.json():U==="application/octet-stream"||U==="application/pdf"?B=yield A.blob():U==="text/event-stream"?B=A:U==="multipart/form-data"?B=yield A.formData():B=yield A.text(),{data:B,error:null,response:A}}catch(h){return{data:null,error:h,response:h instanceof v0||h instanceof m0?h.context:void 0}}finally{o&&clearTimeout(o)}})}}var Jt={};const Mr=vp(Np);var io={},ro={},so={},lo={},oo={},uo={},y0;function Em(){if(y0)return uo;y0=1,Object.defineProperty(uo,"__esModule",{value:!0});class u extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return uo.default=u,uo}var p0;function jm(){if(p0)return oo;p0=1,Object.defineProperty(oo,"__esModule",{value:!0});const a=Mr.__importDefault(Em());class i{constructor(l){var o,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(o=l.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,o){return this.headers=new Headers(this.headers),this.headers.set(l,o),this}then(l,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,y,p;let w=null,x=null,T=null,N=m.status,A=m.statusText;if(m.ok){if(this.method!=="HEAD"){const ae=await m.text();ae===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?x=ae:x=JSON.parse(ae))}const U=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),B=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");U&&B&&B.length>1&&(T=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(w={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,T=null,N=406,A="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const U=await m.text();try{w=JSON.parse(U),Array.isArray(w)&&m.status===404&&(x=[],w=null,N=200,A="OK")}catch{m.status===404&&U===""?(N=204,A="No Content"):w={message:U}}if(w&&this.isMaybeSingle&&(!((p=w?.details)===null||p===void 0)&&p.includes("0 rows"))&&(w=null,N=200,A="OK"),w&&this.shouldThrowOnError)throw new a.default(w)}return{error:w,data:x,count:T,status:N,statusText:A}});return this.shouldThrowOnError||(h=h.catch(m=>{var g,v,y,p,w,x;let T="";const N=m?.cause;if(N){const A=(g=N?.message)!==null&&g!==void 0?g:"",Y=(v=N?.code)!==null&&v!==void 0?v:"";T=`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,T+=`

Caused by: ${(p=N?.name)!==null&&p!==void 0?p:"Error"}: ${A}`,Y&&(T+=` (${Y})`),N?.stack&&(T+=`
${N.stack}`)}else T=(w=m?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(x=m?.name)!==null&&x!==void 0?x:"FetchError"}: ${m?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(l,o)}returns(){return this}overrideTypes(){return this}}return oo.default=i,oo}var b0;function Am(){if(b0)return lo;b0=1,Object.defineProperty(lo,"__esModule",{value:!0});const a=Mr.__importDefault(jm());class i extends a.default{select(l){let o=!1;const d=(l??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:o=!0,nullsFirst:d,foreignTable:h,referencedTable:m=h}={}){const g=m?`${m}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${l}.${o?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:o,referencedTable:d=o}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,o,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(g,`${o-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:o=!1,settings:d=!1,buffers:h=!1,wal:m=!1,format:g="text"}={}){var v;const y=[l?"analyze":null,o?"verbose":null,d?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),p=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${p}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return lo.default=i,lo}var w0;function _d(){if(w0)return so;w0=1,Object.defineProperty(so,"__esModule",{value:!0});const a=Mr.__importDefault(Am()),i=new RegExp("[,()]");class s extends a.default{eq(o,d){return this.url.searchParams.append(o,`eq.${d}`),this}neq(o,d){return this.url.searchParams.append(o,`neq.${d}`),this}gt(o,d){return this.url.searchParams.append(o,`gt.${d}`),this}gte(o,d){return this.url.searchParams.append(o,`gte.${d}`),this}lt(o,d){return this.url.searchParams.append(o,`lt.${d}`),this}lte(o,d){return this.url.searchParams.append(o,`lte.${d}`),this}like(o,d){return this.url.searchParams.append(o,`like.${d}`),this}likeAllOf(o,d){return this.url.searchParams.append(o,`like(all).{${d.join(",")}}`),this}likeAnyOf(o,d){return this.url.searchParams.append(o,`like(any).{${d.join(",")}}`),this}ilike(o,d){return this.url.searchParams.append(o,`ilike.${d}`),this}ilikeAllOf(o,d){return this.url.searchParams.append(o,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(o,d){return this.url.searchParams.append(o,`ilike(any).{${d.join(",")}}`),this}is(o,d){return this.url.searchParams.append(o,`is.${d}`),this}in(o,d){const h=Array.from(new Set(d)).map(m=>typeof m=="string"&&i.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,d){return typeof d=="string"?this.url.searchParams.append(o,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(o,`cs.{${d.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(d)}`),this}containedBy(o,d){return typeof d=="string"?this.url.searchParams.append(o,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(o,`cd.{${d.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(d)}`),this}rangeGt(o,d){return this.url.searchParams.append(o,`sr.${d}`),this}rangeGte(o,d){return this.url.searchParams.append(o,`nxl.${d}`),this}rangeLt(o,d){return this.url.searchParams.append(o,`sl.${d}`),this}rangeLte(o,d){return this.url.searchParams.append(o,`nxr.${d}`),this}rangeAdjacent(o,d){return this.url.searchParams.append(o,`adj.${d}`),this}overlaps(o,d){return typeof d=="string"?this.url.searchParams.append(o,`ov.${d}`):this.url.searchParams.append(o,`ov.{${d.join(",")}}`),this}textSearch(o,d,{config:h,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${g}fts${v}.${d}`),this}match(o){return Object.entries(o).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(o,d,h){return this.url.searchParams.append(o,`not.${d}.${h}`),this}or(o,{foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,d,h){return this.url.searchParams.append(o,`${d}.${h}`),this}}return so.default=s,so}var _0;function Tm(){if(_0)return ro;_0=1,Object.defineProperty(ro,"__esModule",{value:!0});const a=Mr.__importDefault(_d());class i{constructor(l,{headers:o={},schema:d,fetch:h}){this.url=l,this.headers=new Headers(o),this.schema=d,this.fetch=h}select(l,o){const{head:d=!1,count:h}=o??{},m=d?"HEAD":"GET";let g=!1;const v=(l??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:o,defaultToNull:d=!0}={}){var h;const m="POST";if(o&&this.headers.append("Prefer",`count=${o}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(l,{onConflict:o,ignoreDuplicates:d=!1,count:h,defaultToNull:m=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),h&&this.headers.append("Prefer",`count=${h}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((p,w)=>p.concat(Object.keys(w)),[]);if(y.length>0){const p=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",p.join(","))}}return new a.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(l,{count:o}={}){var d;const h="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var o;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new a.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return ro.default=i,ro}var x0;function Up(){if(x0)return io;x0=1,Object.defineProperty(io,"__esModule",{value:!0});const u=Mr,a=u.__importDefault(Tm()),i=u.__importDefault(_d());class s{constructor(o,{headers:d={},schema:h,fetch:m}={}){this.url=o,this.headers=new Headers(d),this.schemaName=h,this.fetch=m}from(o){const d=new URL(`${this.url}/${o}`);return new a.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,d={},{head:h=!1,get:m=!1,count:g}={}){var v;let y;const p=new URL(`${this.url}/rpc/${o}`);let w;h||m?(y=h?"HEAD":"GET",Object.entries(d).filter(([T,N])=>N!==void 0).map(([T,N])=>[T,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([T,N])=>{p.searchParams.append(T,N)})):(y="POST",w=d);const x=new Headers(this.headers);return g&&x.set("Prefer",`count=${g}`),new i.default({method:y,url:p,headers:x,schema:this.schemaName,body:w,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return io.default=s,io}var S0;function Dp(){if(S0)return Jt;S0=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.PostgrestError=Jt.PostgrestBuilder=Jt.PostgrestTransformBuilder=Jt.PostgrestFilterBuilder=Jt.PostgrestQueryBuilder=Jt.PostgrestClient=void 0;const u=Mr,a=u.__importDefault(Up());Jt.PostgrestClient=a.default;const i=u.__importDefault(Tm());Jt.PostgrestQueryBuilder=i.default;const s=u.__importDefault(_d());Jt.PostgrestFilterBuilder=s.default;const l=u.__importDefault(Am());Jt.PostgrestTransformBuilder=l.default;const o=u.__importDefault(jm());Jt.PostgrestBuilder=o.default;const d=u.__importDefault(Em());return Jt.PostgrestError=d.default,Jt.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:o.default,PostgrestError:d.default},Jt}var Om=Dp();const Cm=F0(Om),Mp=mp({__proto__:null,default:Cm},[Om]),{PostgrestClient:Bp,PostgrestQueryBuilder:Qw,PostgrestFilterBuilder:Jw,PostgrestTransformBuilder:Zw,PostgrestBuilder:Fw,PostgrestError:Ww}=Cm||Mp;class Lp{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const s=i.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const s=this.getWebSocketConstructor();return new s(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Hp="2.83.0",qp=`realtime-js/${Hp}`,Nm="1.0.0",Gp="2.0.0",E0=Nm,rd=1e4,$p=1e3,Yp=100;var Ui;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(Ui||(Ui={}));var Mt;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Mt||(Mt={}));var Bn;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Bn||(Bn={}));var sd;(function(u){u.websocket="websocket"})(sd||(sd={}));var Di;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Di||(Di={}));class Vp{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(a,i){if(this._isArrayBuffer(a.payload))return i(this._binaryEncodePush(a));if(a.event===this.BROADCAST&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let s=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(s))}_binaryEncodePush(a){var i,s;const{event:l,topic:o,payload:d}=a,h=(i=a.ref)!==null&&i!==void 0?i:"",m=(s=a.join_ref)!==null&&s!==void 0?s:"",g=this.META_LENGTH+m.length+h.length+o.length+l.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let y=new DataView(v),p=0;y.setUint8(p++,this.KINDS.push),y.setUint8(p++,m.length),y.setUint8(p++,h.length),y.setUint8(p++,o.length),y.setUint8(p++,l.length),Array.from(m,x=>y.setUint8(p++,x.charCodeAt(0))),Array.from(h,x=>y.setUint8(p++,x.charCodeAt(0))),Array.from(o,x=>y.setUint8(p++,x.charCodeAt(0))),Array.from(l,x=>y.setUint8(p++,x.charCodeAt(0)));var w=new Uint8Array(v.byteLength+d.byteLength);return w.set(new Uint8Array(v),0),w.set(new Uint8Array(d),v.byteLength),w.buffer}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,s,l,o;const d=a.topic,h=(i=a.ref)!==null&&i!==void 0?i:"",m=(s=a.join_ref)!==null&&s!==void 0?s:"",g=a.payload.event,v=(o=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),y=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+d.length+g.length,p=new ArrayBuffer(this.HEADER_LENGTH+y);let w=new DataView(p),x=0;w.setUint8(x++,this.KINDS.userBroadcastPush),w.setUint8(x++,m.length),w.setUint8(x++,h.length),w.setUint8(x++,d.length),w.setUint8(x++,g.length),w.setUint8(x++,this.BINARY_ENCODING),Array.from(m,N=>w.setUint8(x++,N.charCodeAt(0))),Array.from(h,N=>w.setUint8(x++,N.charCodeAt(0))),Array.from(d,N=>w.setUint8(x++,N.charCodeAt(0))),Array.from(g,N=>w.setUint8(x++,N.charCodeAt(0)));var T=new Uint8Array(p.byteLength+v.byteLength);return T.set(new Uint8Array(p),0),T.set(new Uint8Array(v),p.byteLength),T.buffer}_encodeJsonUserBroadcastPush(a){var i,s,l,o;const d=a.topic,h=(i=a.ref)!==null&&i!==void 0?i:"",m=(s=a.join_ref)!==null&&s!==void 0?s:"",g=a.payload.event,v=(o=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&o!==void 0?o:{},p=new TextEncoder().encode(JSON.stringify(v)).buffer,w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+d.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let T=new DataView(x),N=0;T.setUint8(N++,this.KINDS.userBroadcastPush),T.setUint8(N++,m.length),T.setUint8(N++,h.length),T.setUint8(N++,d.length),T.setUint8(N++,g.length),T.setUint8(N++,this.JSON_ENCODING),Array.from(m,Y=>T.setUint8(N++,Y.charCodeAt(0))),Array.from(h,Y=>T.setUint8(N++,Y.charCodeAt(0))),Array.from(d,Y=>T.setUint8(N++,Y.charCodeAt(0))),Array.from(g,Y=>T.setUint8(N++,Y.charCodeAt(0)));var A=new Uint8Array(x.byteLength+p.byteLength);return A.set(new Uint8Array(x),0),A.set(new Uint8Array(p),x.byteLength),A.buffer}decode(a,i){if(this._isArrayBuffer(a)){let s=this._binaryDecode(a);return i(s)}if(typeof a=="string"){const s=JSON.parse(a),[l,o,d,h,m]=s;return i({join_ref:l,ref:o,topic:d,event:h,payload:m})}return i({})}_binaryDecode(a){const i=new DataView(a),s=i.getUint8(0),l=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(a,i,l);case this.KINDS.reply:return this._decodeReply(a,i,l);case this.KINDS.broadcast:return this._decodeBroadcast(a,i,l);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,i,l)}}_decodePush(a,i,s){const l=i.getUint8(1),o=i.getUint8(2),d=i.getUint8(3);let h=this.HEADER_LENGTH+this.META_LENGTH-1;const m=s.decode(a.slice(h,h+l));h=h+l;const g=s.decode(a.slice(h,h+o));h=h+o;const v=s.decode(a.slice(h,h+d));h=h+d;const y=JSON.parse(s.decode(a.slice(h,a.byteLength)));return{join_ref:m,ref:null,topic:g,event:v,payload:y}}_decodeReply(a,i,s){const l=i.getUint8(1),o=i.getUint8(2),d=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+this.META_LENGTH;const g=s.decode(a.slice(m,m+l));m=m+l;const v=s.decode(a.slice(m,m+o));m=m+o;const y=s.decode(a.slice(m,m+d));m=m+d;const p=s.decode(a.slice(m,m+h));m=m+h;const w=JSON.parse(s.decode(a.slice(m,a.byteLength))),x={status:p,response:w};return{join_ref:g,ref:v,topic:y,event:Bn.reply,payload:x}}_decodeBroadcast(a,i,s){const l=i.getUint8(1),o=i.getUint8(2);let d=this.HEADER_LENGTH+2;const h=s.decode(a.slice(d,d+l));d=d+l;const m=s.decode(a.slice(d,d+o));d=d+o;const g=JSON.parse(s.decode(a.slice(d,a.byteLength)));return{join_ref:null,ref:null,topic:h,event:m,payload:g}}_decodeUserBroadcast(a,i,s){const l=i.getUint8(1),o=i.getUint8(2),d=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+4;const g=s.decode(a.slice(m,m+l));m=m+l;const v=s.decode(a.slice(m,m+o));m=m+o;const y=s.decode(a.slice(m,m+d));m=m+d;const p=a.slice(m,a.byteLength),w=h===this.JSON_ENCODING?JSON.parse(s.decode(p)):p,x={type:this.BROADCAST,event:v,payload:w};return d>0&&(x.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST,payload:x}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}}class Rm{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(rt||(rt={}));const j0=(u,a,i={})=>{var s;const l=(s=i.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((o,d)=>(o[d]=Ip(d,u,a,l),o),{}):{}},Ip=(u,a,i,s)=>{const l=a.find(h=>h.name===u),o=l?.type,d=i[u];return o&&!s.includes(o)?km(o,d):ld(d)},km=(u,a)=>{if(u.charAt(0)==="_"){const i=u.slice(1,u.length);return Qp(a,i)}switch(u){case rt.bool:return Kp(a);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return Pp(a);case rt.json:case rt.jsonb:return Xp(a);case rt.timestamp:return Jp(a);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return ld(a);default:return ld(a)}},ld=u=>u,Kp=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},Pp=u=>{if(typeof u=="string"){const a=parseFloat(u);if(!Number.isNaN(a))return a}return u},Xp=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(a){return console.log(`JSON parse error: ${a}`),u}return u},Qp=(u,a)=>{if(typeof u!="string")return u;const i=u.length-1,s=u[i];if(u[0]==="{"&&s==="}"){let o;const d=u.slice(1,i);try{o=JSON.parse("["+d+"]")}catch{o=d?d.split(","):[]}return o.map(h=>km(a,h))}return u},Jp=u=>typeof u=="string"?u.replace(" ","T"):u,zm=u=>{const a=new URL(u);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Vc{constructor(a,i,s={},l=rd){this.channel=a,this.event=i,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var s;return this._hasReceived(a)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var A0;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(A0||(A0={}));class Us{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:o,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Us.syncState(this.state,l,o,d),this.pendingDiffs.forEach(m=>{this.state=Us.syncDiff(this.state,m,o,d)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},l=>{const{onJoin:o,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Us.syncDiff(this.state,l,o,d),h())}),this.onJoin((l,o,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:d})}),this.onLeave((l,o,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,s,l){const o=this.cloneDeep(a),d=this.transformState(i),h={},m={};return this.map(o,(g,v)=>{d[g]||(m[g]=v)}),this.map(d,(g,v)=>{const y=o[g];if(y){const p=v.map(N=>N.presence_ref),w=y.map(N=>N.presence_ref),x=v.filter(N=>w.indexOf(N.presence_ref)<0),T=y.filter(N=>p.indexOf(N.presence_ref)<0);x.length>0&&(h[g]=x),T.length>0&&(m[g]=T)}else h[g]=v}),this.syncDiff(o,{joins:h,leaves:m},s,l)}static syncDiff(a,i,s,l){const{joins:o,leaves:d}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(o,(h,m)=>{var g;const v=(g=a[h])!==null&&g!==void 0?g:[];if(a[h]=this.cloneDeep(m),v.length>0){const y=a[h].map(w=>w.presence_ref),p=v.filter(w=>y.indexOf(w.presence_ref)<0);a[h].unshift(...p)}s(h,v,m)}),this.map(d,(h,m)=>{let g=a[h];if(!g)return;const v=m.map(y=>y.presence_ref);g=g.filter(y=>v.indexOf(y.presence_ref)<0),a[h]=g,l(h,g,m),g.length===0&&delete a[h]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(s=>i(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,s)=>{const l=a[s];return"metas"in l?i[s]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i[s]=l,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var T0;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(T0||(T0={}));var Ds;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(Ds||(Ds={}));var ja;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class xd{constructor(a,i={config:{}},s){var l,o;if(this.topic=a,this.params=i,this.socket=s,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Vc(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new Rm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new Us(this),this.broadcastEndpointURL=zm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var s,l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:d,presence:h,private:m}}=this.params,g=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},p={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>a?.(ja.CHANNEL_ERROR,w)),this._onClose(()=>a?.(ja.CLOSED)),this.updateJoinPayload(Object.assign({config:p},y)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:w})=>{var x;if(this.socket.setAuth(),w===void 0){a?.(ja.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,N=(x=T?.length)!==null&&x!==void 0?x:0,A=[];for(let Y=0;Y<N;Y++){const U=T[Y],{filter:{event:B,schema:ae,table:k,filter:I}}=U,O=w&&w[Y];if(O&&O.event===B&&O.schema===ae&&O.table===k&&O.filter===I)A.push(Object.assign(Object.assign({},U),{id:O.id}));else{this.unsubscribe(),this.state=Mt.errored,a?.(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,a&&a(ja.SUBSCRIBED);return}}).receive("error",w=>{this.state=Mt.errored,a?.(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{a?.(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,s){return this.state===Mt.joined&&a===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,i,s)}async httpSend(a,i,s={}){var l;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const g=await h.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(a,i={}){var s,l;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:d}=a,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var d,h,m;const g=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&o("ok"),g.receive("ok",()=>o("ok")),g.receive("error",()=>o("error")),g.receive("timeout",()=>o("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Mt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new Vc(this,Bn.leave,{},a),s.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mt.closed,this.bindings={}}async _fetchWithTimeout(a,i,s){const l=new AbortController,o=setTimeout(()=>l.abort(),s),d=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(o),d}_push(a,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Vc(this,a,i,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Yp){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,s){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,s){var l,o;const d=a.toLocaleLowerCase(),{close:h,error:m,leave:g,join:v}=Bn;if(s&&[h,m,g,v].indexOf(d)>=0&&s!==this._joinRef())return;let p=this._onMessage(d,i,s);if(i&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var x,T,N;return((x=w.filter)===null||x===void 0?void 0:x.event)==="*"||((N=(T=w.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===d}).map(w=>w.callback(p,s)):(o=this.bindings[d])===null||o===void 0||o.filter(w=>{var x,T,N,A,Y,U;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const B=w.id,ae=(x=w.filter)===null||x===void 0?void 0:x.event;return B&&((T=i.ids)===null||T===void 0?void 0:T.includes(B))&&(ae==="*"||ae?.toLocaleLowerCase()===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const B=(Y=(A=w?.filter)===null||A===void 0?void 0:A.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return B==="*"||B===((U=i?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:T,table:N,commit_timestamp:A,type:Y,errors:U}=x;p=Object.assign(Object.assign({},{schema:T,table:N,commit_timestamp:A,eventType:Y,new:{},old:{},errors:U}),this._getPayloadRecords(x))}w.callback(p,s)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,s){const l=a.toLocaleLowerCase(),o={type:l,filter:i,callback:s};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(a,i){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&xd.isEqual(l.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const s in a)if(a[s]!==i[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Bn.close,{},a)}_onError(a){this._on(Bn.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=j0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=j0(a.columns,a.old_record)),i}}const Ic=()=>{},co={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zp=[1e3,2e3,5e3,1e4],Fp=1e4,Wp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eb{constructor(a,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rd,this.transport=null,this.heartbeatIntervalMs=co.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ic,this.ref=0,this.reconnectTimer=null,this.vsn=E0,this.logger=Ic,this.conn=null,this.sendBuffer=[],this.serializer=new Vp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...o)=>l(...o):(...o)=>fetch(...o),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${sd.websocket}`,this.httpEndpoint=zm(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Lp.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,s){this.logger(a,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return Di.Connecting;case Ui.open:return Di.Open;case Ui.closing:return Di.Closing;default:return Di.Closed}}isConnected(){return this.connectionState()===Di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const s=`realtime:${a}`,l=this.getChannels().find(o=>o.topic===s);if(l)return l;{const o=new xd(`realtime:${a}`,i,this);return this.channels.push(o),o}}push(a){const{topic:i,event:s,payload:l,ref:o}=a,d=()=>{this.encode(a,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${i} ${s} (${o})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close($p,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},co.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:l,payload:o,ref:d}=i,h=d?`(${d})`:"",m=o.status||"";this.log("receive",`${m} ${s} ${l} ${h}`.trim(),o),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(l,o,d)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ui.open||this.conn.readyState===Ui.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Bn.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const s=a.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${a}${s}${l}`}_workerObjectUrl(a){let i;if(a)i=a;else{const s=new Blob([Wp],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i;a?i=a:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(s=>{const l={access_token:i,version:qp};i&&s.updateJoinPayload(l),s.joinedOnce&&s._isJoined()&&s._push(Bn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(i)}catch(l){this.log("error",`error in ${a} callback`,l)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Rm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},co.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,s,l,o,d,h,m,g,v,y,p,w;switch(this.transport=(i=a?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=a?.timeout)!==null&&s!==void 0?s:rd,this.heartbeatIntervalMs=(l=a?.heartbeatIntervalMs)!==null&&l!==void 0?l:co.HEARTBEAT_INTERVAL,this.worker=(o=a?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(d=a?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=a?.heartbeatCallback)!==null&&h!==void 0?h:Ic,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:E0,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(x=>Zp[x-1]||Fp),this.vsn){case Nm:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((x,T)=>T(JSON.stringify(x))),this.decode=(y=a?.decode)!==null&&y!==void 0?y:((x,T)=>T(JSON.parse(x)));break;case Gp:this.encode=(p=a?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(w=a?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class Sd extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function mt(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class tb extends Sd{constructor(a,i,s){super(a),this.name="StorageApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class od extends Sd{constructor(a,i){super(a),this.name="StorageUnknownError",this.originalError=i}}const Ed=u=>u?(...a)=>u(...a):(...a)=>fetch(...a),nb=()=>Response,ud=u=>{if(Array.isArray(u))return u.map(i=>ud(i));if(typeof u=="function"||u!==Object(u))return u;const a={};return Object.entries(u).forEach(([i,s])=>{const l=i.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));a[l]=ud(s)}),a},ab=u=>{if(typeof u!="object"||u===null)return!1;const a=Object.getPrototypeOf(u);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},Kc=u=>{var a;return u.msg||u.message||u.error_description||(typeof u.error=="string"?u.error:(a=u.error)===null||a===void 0?void 0:a.message)||JSON.stringify(u)},ib=(u,a,i)=>ye(void 0,void 0,void 0,function*(){const s=yield nb();u instanceof s&&!i?.noResolveJson?u.json().then(l=>{const o=u.status||500,d=l?.statusCode||o+"";a(new tb(Kc(l),o,d))}).catch(l=>{a(new od(Kc(l),l))}):a(new od(Kc(u),u))}),rb=(u,a,i,s)=>{const l={method:u,headers:a?.headers||{}};return u==="GET"||!s?l:(ab(s)?(l.headers=Object.assign({"Content-Type":"application/json"},a?.headers),l.body=JSON.stringify(s)):l.body=s,a?.duplex&&(l.duplex=a.duplex),Object.assign(Object.assign({},l),i))};function qs(u,a,i,s,l,o){return ye(this,void 0,void 0,function*(){return new Promise((d,h)=>{u(i,rb(a,s,l,o)).then(m=>{if(!m.ok)throw m;return s?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>ib(m,h,s))})})}function Bs(u,a,i,s){return ye(this,void 0,void 0,function*(){return qs(u,"GET",a,i,s)})}function Qn(u,a,i,s,l){return ye(this,void 0,void 0,function*(){return qs(u,"POST",a,s,l,i)})}function cd(u,a,i,s,l){return ye(this,void 0,void 0,function*(){return qs(u,"PUT",a,s,l,i)})}function sb(u,a,i,s){return ye(this,void 0,void 0,function*(){return qs(u,"HEAD",a,Object.assign(Object.assign({},i),{noResolveJson:!0}),s)})}function jd(u,a,i,s,l){return ye(this,void 0,void 0,function*(){return qs(u,"DELETE",a,s,l,i)})}class lb{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i}then(a,i){return this.execute().then(a,i)}execute(){return ye(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}}var Um;class ob{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i,this[Um]="BlobDownloadBuilder",this.promise=null}asStream(){return new lb(this.downloadFn,this.shouldThrowOnError)}then(a,i){return this.getPromise().then(a,i)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ye(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}}Um=Symbol.toStringTag;const ub={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},O0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cb{constructor(a,i={},s,l){this.shouldThrowOnError=!1,this.url=a,this.headers=i,this.bucketId=s,this.fetch=Ed(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,i,s,l){return ye(this,void 0,void 0,function*(){try{let o;const d=Object.assign(Object.assign({},O0),l);let h=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",d.cacheControl),m&&o.append("metadata",this.encodeMetadata(m)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.has("cacheControl")||o.append("cacheControl",d.cacheControl),m&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(m))):(o=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(h=Object.assign(Object.assign({},h),l.headers));const g=this._removeEmptyFolders(i),v=this._getFinalPath(g),y=yield(a=="PUT"?cd:Qn)(this.fetch,`${this.url}/object/${v}`,o,Object.assign({headers:h},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}})}upload(a,i,s){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,i,s)})}uploadToSignedUrl(a,i,s,l){return ye(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(a),d=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",i);try{let m;const g=Object.assign({upsert:O0.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",g.cacheControl)):(m=s,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const y=yield cd(this.fetch,h.toString(),m,{headers:v});return{data:{path:o,fullPath:y.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(mt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(a,i){return ye(this,void 0,void 0,function*(){try{let s=this._getFinalPath(a);const l=Object.assign({},this.headers);i?.upsert&&(l["x-upsert"]="true");const o=yield Qn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:l}),d=new URL(this.url+o.url),h=d.searchParams.get("token");if(!h)throw new Sd("No token returned by API");return{data:{signedUrl:d.toString(),path:a,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(mt(s))return{data:null,error:s};throw s}})}update(a,i,s){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,i,s)})}move(a,i,s){return ye(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}copy(a,i,s){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}createSignedUrl(a,i,s){return ye(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a),o=yield Qn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:i},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${d}`)},{data:o,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}createSignedUrls(a,i,s){return ye(this,void 0,void 0,function*(){try{const l=yield Qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:a},{headers:this.headers}),o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${o}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}download(a,i){const l=typeof i?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(i?.transform||{}),d=o?`?${o}`:"",h=this._getFinalPath(a),m=()=>Bs(this.fetch,`${this.url}/${l}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new ob(m,this.shouldThrowOnError)}info(a){return ye(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{const s=yield Bs(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:ud(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(mt(s))return{data:null,error:s};throw s}})}exists(a){return ye(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{return yield sb(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(mt(s)&&s instanceof od){const l=s.originalError;if([400,404].includes(l?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(a,i){const s=this._getFinalPath(a),l=[],o=i?.download?`download=${i.download===!0?"":i.download}`:"";o!==""&&l.push(o);const h=typeof i?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(i?.transform||{});m!==""&&l.push(m);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${g}`)}}}remove(a){return ye(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}list(a,i,s){return ye(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},ub),i),{prefix:a||""});return{data:yield Qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}listV2(a,i){return ye(this,void 0,void 0,function*(){try{const s=Object.assign({},a);return{data:yield Qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(mt(s))return{data:null,error:s};throw s}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const i=[];return a.width&&i.push(`width=${a.width}`),a.height&&i.push(`height=${a.height}`),a.resize&&i.push(`resize=${a.resize}`),a.format&&i.push(`format=${a.format}`),a.quality&&i.push(`quality=${a.quality}`),i.join("&")}}const Dm="2.83.0",Mm={"X-Client-Info":`storage-js/${Dm}`};class db{constructor(a,i={},s,l){this.shouldThrowOnError=!1;const o=new URL(a);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mm),i),this.fetch=Ed(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return ye(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(a);return{data:yield Bs(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}getBucket(a){return ye(this,void 0,void 0,function*(){try{return{data:yield Bs(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}createBucket(a){return ye(this,arguments,void 0,function*(i,s={public:!1}){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}updateBucket(a,i){return ye(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(mt(s))return{data:null,error:s};throw s}})}emptyBucket(a){return ye(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}deleteBucket(a){return ye(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(a){const i={};return a&&("limit"in a&&(i.limit=String(a.limit)),"offset"in a&&(i.offset=String(a.offset)),a.search&&(i.search=a.search),a.sortColumn&&(i.sortColumn=a.sortColumn),a.sortOrder&&(i.sortOrder=a.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class fb{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mm),i),this.fetch=Ed(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ye(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}listBuckets(a){return ye(this,void 0,void 0,function*(){try{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const s=i.toString(),l=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Bs(this.fetch,l,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}deleteBucket(a){return ye(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}}const Ad={"X-Client-Info":`storage-js/${Dm}`,"Content-Type":"application/json"};class Bm extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function jn(u){return typeof u=="object"&&u!==null&&"__isStorageVectorsError"in u}class Pc extends Bm{constructor(a,i,s){super(a),this.name="StorageVectorsApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hb extends Bm{constructor(a,i){super(a),this.name="StorageVectorsUnknownError",this.originalError=i}}var C0;(function(u){u.InternalError="InternalError",u.S3VectorConflictException="S3VectorConflictException",u.S3VectorNotFoundException="S3VectorNotFoundException",u.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",u.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",u.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(C0||(C0={}));const Td=u=>u?(...a)=>u(...a):(...a)=>fetch(...a),gb=u=>{if(typeof u!="object"||u===null)return!1;const a=Object.getPrototypeOf(u);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},N0=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),mb=(u,a,i)=>ye(void 0,void 0,void 0,function*(){if(u&&typeof u=="object"&&"status"in u&&"ok"in u&&typeof u.status=="number"&&!i?.noResolveJson){const l=u.status||500,o=u;if(typeof o.json=="function")o.json().then(d=>{const h=d?.statusCode||d?.code||l+"";a(new Pc(N0(d),l,h))}).catch(()=>{const d=l+"",h=o.statusText||`HTTP ${l} error`;a(new Pc(h,l,d))});else{const d=l+"",h=o.statusText||`HTTP ${l} error`;a(new Pc(h,l,d))}}else a(new hb(N0(u),u))}),vb=(u,a,i,s)=>{const l={method:u,headers:a?.headers||{}};return s?(gb(s)?(l.headers=Object.assign({"Content-Type":"application/json"},a?.headers),l.body=JSON.stringify(s)):l.body=s,Object.assign(Object.assign({},l),i)):l};function yb(u,a,i,s,l,o){return ye(this,void 0,void 0,function*(){return new Promise((d,h)=>{u(i,vb(a,s,l,o)).then(m=>{if(!m.ok)throw m;if(s?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>mb(m,h,s))})})}function An(u,a,i,s,l){return ye(this,void 0,void 0,function*(){return yb(u,"POST",a,s,l,i)})}class pb{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ad),i),this.fetch=Td(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return ye(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}getIndex(a,i){return ye(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jn(s))return{data:null,error:s};throw s}})}listIndexes(a){return ye(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}deleteIndex(a,i){return ye(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jn(s))return{data:null,error:s};throw s}})}}class bb{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ad),i),this.fetch=Td(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return ye(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield An(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}getVectors(a){return ye(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}listVectors(a){return ye(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield An(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}queryVectors(a){return ye(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}deleteVectors(a){return ye(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield An(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}}class wb{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ad),i),this.fetch=Td(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ye(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}getBucket(a){return ye(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}listBuckets(){return ye(this,arguments,void 0,function*(a={}){try{return{data:yield An(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}deleteBucket(a){return ye(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}}class _b extends wb{constructor(a,i={}){super(a,i.headers||{},i.fetch)}from(a){return new xb(this.url,this.headers,a,this.fetch)}}class xb extends pb{constructor(a,i,s,l){super(a,i,l),this.vectorBucketName=s}createIndex(a){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ye(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ye(this,arguments,void 0,function*(i={}){return a.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ye(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ye(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Sb(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Sb extends bb{constructor(a,i,s,l,o){super(a,i,o),this.vectorBucketName=s,this.indexName=l}putVectors(a){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ye(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ye(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ye(this,arguments,void 0,function*(i={}){return a.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ye(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ye(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Eb extends db{constructor(a,i={},s,l){super(a,i,s,l)}from(a){return new cb(this.url,this.headers,a,this.fetch)}get vectors(){return new _b(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fb(this.url+"/iceberg",this.headers,this.fetch)}}const jb="2.83.0";let zs="";typeof Deno<"u"?zs="deno":typeof document<"u"?zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zs="react-native":zs="node";const Ab={"X-Client-Info":`supabase-js-${zs}/${jb}`},Tb={headers:Ab},Ob={schema:"public"},Cb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nb={},Rb=u=>u?(...a)=>u(...a):(...a)=>fetch(...a),kb=()=>Headers,zb=(u,a,i)=>{const s=Rb(i),l=kb();return async(o,d)=>{var h;const m=(h=await a())!==null&&h!==void 0?h:u;let g=new l(d?.headers);return g.has("apikey")||g.set("apikey",u),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),s(o,Object.assign(Object.assign({},d),{headers:g}))}};function Ub(u){return u.endsWith("/")?u:u+"/"}function Db(u,a){var i,s;const{db:l,auth:o,realtime:d,global:h}=u,{db:m,auth:g,realtime:v,global:y}=a,p={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},g),o),realtime:Object.assign(Object.assign({},v),d),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(i=y?.headers)!==null&&i!==void 0?i:{}),(s=h?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return u.accessToken?p.accessToken=u.accessToken:delete p.accessToken,p}function Mb(u){const a=u?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ub(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Lm="2.83.0",Cr=30*1e3,dd=3,Xc=dd*Cr,Bb="http://localhost:9999",Lb="supabase.auth.token",Hb={"X-Client-Info":`gotrue-js/${Lm}`},fd="X-Supabase-Api-Version",Hm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gb=600*1e3;class Ls extends Error{constructor(a,i,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function pe(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class $b extends Ls{constructor(a,i,s){super(a,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function Yb(u){return pe(u)&&u.name==="AuthApiError"}class Mi extends Ls{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class ri extends Ls{constructor(a,i,s,l){super(a,s,l),this.name=i,this.status=s}}class Sn extends ri{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vb(u){return pe(u)&&u.name==="AuthSessionMissingError"}class xr extends ri{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fo extends ri{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ho extends ri{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ib(u){return pe(u)&&u.name==="AuthImplicitGrantRedirectError"}class R0 extends ri{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hd extends ri{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function Qc(u){return pe(u)&&u.name==="AuthRetryableFetchError"}class k0 extends ri{constructor(a,i,s){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class gd extends ri{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),z0=` 	
\r=`.split(""),Kb=(()=>{const u=new Array(128);for(let a=0;a<u.length;a+=1)u[a]=-1;for(let a=0;a<z0.length;a+=1)u[z0[a].charCodeAt(0)]=-2;for(let a=0;a<po.length;a+=1)u[po[a].charCodeAt(0)]=a;return u})();function U0(u,a,i){if(u!==null)for(a.queue=a.queue<<8|u,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;i(po[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;i(po[s]),a.queuedBits-=6}}function qm(u,a,i){const s=Kb[u];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function D0(u){const a=[],i=d=>{a.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=d=>{Qb(d,s,i)};for(let d=0;d<u.length;d+=1)qm(u.charCodeAt(d),l,o);return a.join("")}function Pb(u,a){if(u<=127){a(u);return}else if(u<=2047){a(192|u>>6),a(128|u&63);return}else if(u<=65535){a(224|u>>12),a(128|u>>6&63),a(128|u&63);return}else if(u<=1114111){a(240|u>>18),a(128|u>>12&63),a(128|u>>6&63),a(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function Xb(u,a){for(let i=0;i<u.length;i+=1){let s=u.charCodeAt(i);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(u.charCodeAt(i+1)-56320&65535|l)+65536,i+=1}Pb(s,a)}}function Qb(u,a,i){if(a.utf8seq===0){if(u<=127){i(u);return}for(let s=1;s<6;s+=1)if((u>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=u&31;else if(a.utf8seq===3)a.codepoint=u&15;else if(a.utf8seq===4)a.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|u&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function kr(u){const a=[],i={queue:0,queuedBits:0},s=l=>{a.push(l)};for(let l=0;l<u.length;l+=1)qm(u.charCodeAt(l),i,s);return new Uint8Array(a)}function Jb(u){const a=[];return Xb(u,i=>a.push(i)),new Uint8Array(a)}function Bi(u){const a=[],i={queue:0,queuedBits:0},s=l=>{a.push(l)};return u.forEach(l=>U0(l,i,s)),U0(null,i,s),a.join("")}function Zb(u){return Math.round(Date.now()/1e3)+u}function Fb(){return Symbol("auth-callback")}const Xt=()=>typeof window<"u"&&typeof document<"u",Ri={tested:!1,writable:!1},Gm=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ri.tested)return Ri.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Ri.tested=!0,Ri.writable=!0}catch{Ri.tested=!0,Ri.writable=!1}return Ri.writable};function Wb(u){const a={},i=new URL(u);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,o)=>{a[o]=l})}catch{}return i.searchParams.forEach((s,l)=>{a[l]=s}),a}const $m=u=>u?(...a)=>u(...a):(...a)=>fetch(...a),e1=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",Nr=async(u,a,i)=>{await u.setItem(a,JSON.stringify(i))},ki=async(u,a)=>{const i=await u.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ti=async(u,a)=>{await u.removeItem(a)};class ko{constructor(){this.promise=new ko.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}ko.promiseConstructor=Promise;function Jc(u){const a=u.split(".");if(a.length!==3)throw new gd("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!qb.test(a[s]))throw new gd("JWT not in base64url format");return{header:JSON.parse(D0(a[0])),payload:JSON.parse(D0(a[1])),signature:kr(a[2]),raw:{header:a[0],payload:a[1]}}}async function t1(u){return await new Promise(a=>{setTimeout(()=>a(null),u)})}function n1(u,a){return new Promise((s,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const d=await u(o);if(!a(o,null,d)){s(d);return}}catch(d){if(!a(o,d)){l(d);return}}})()})}function a1(u){return("0"+u.toString(16)).substr(-2)}function i1(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let l="";for(let o=0;o<56;o++)l+=i.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(a),Array.from(a,a1).join("")}async function r1(u){const i=new TextEncoder().encode(u),s=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(s);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function s1(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const i=await r1(u);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sr(u,a,i=!1){const s=i1();let l=s;i&&(l+="/PASSWORD_RECOVERY"),await Nr(u,`${a}-code-verifier`,l);const o=await s1(s);return[o,s===o?"plain":"s256"]}const l1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function o1(u){const a=u.headers.get(fd);if(!a||!a.match(l1))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function u1(u){if(!u)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(u<=a)throw new Error("JWT has expired")}function c1(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Er(u){if(!d1.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zc(){const u={};return new Proxy(u,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function f1(u,a){return new Proxy(u,{get:(i,s,l)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,l)}return!a.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,s,l)}})}function M0(u){return JSON.parse(JSON.stringify(u))}const zi=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),h1=[502,503,504];async function B0(u){var a;if(!e1(u))throw new hd(zi(u),0);if(h1.includes(u.status))throw new hd(zi(u),u.status);let i;try{i=await u.json()}catch(o){throw new Mi(zi(o),o)}let s;const l=o1(u);if(l&&l.getTime()>=Hm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new k0(zi(i),u.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new Sn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((o,d)=>o&&typeof d=="string",!0))throw new k0(zi(i),u.status,i.weak_password.reasons);throw new $b(zi(i),u.status||500,s)}const g1=(u,a,i,s)=>{const l={method:u,headers:a?.headers||{}};return u==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),i))};async function xe(u,a,i,s){var l;const o=Object.assign({},s?.headers);o[fd]||(o[fd]=Hm["2024-01-01"].name),s?.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const d=(l=s?.query)!==null&&l!==void 0?l:{};s?.redirectTo&&(d.redirect_to=s.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await m1(u,a,i+h,{headers:o,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function m1(u,a,i,s,l,o){const d=g1(a,s,l,o);let h;try{h=await u(i,Object.assign({},d))}catch(m){throw console.error(m),new hd(zi(m),0)}if(h.ok||await B0(h),s?.noResolveJson)return h;try{return await h.json()}catch(m){await B0(m)}}function Kn(u){var a;let i=null;p1(u)&&(i=Object.assign({},u),u.expires_at||(i.expires_at=Zb(u.expires_in)));const s=(a=u.user)!==null&&a!==void 0?a:u;return{data:{session:i,user:s},error:null}}function L0(u){const a=Kn(u);return!a.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(a.data.weak_password=u.weak_password),a}function ii(u){var a;return{data:{user:(a=u.user)!==null&&a!==void 0?a:u},error:null}}function v1(u){return{data:u,error:null}}function y1(u){const{action_link:a,email_otp:i,hashed_token:s,redirect_to:l,verification_type:o}=u,d=Dr(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:a,email_otp:i,hashed_token:s,redirect_to:l,verification_type:o},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function H0(u){return u}function p1(u){return u.access_token&&u.refresh_token&&u.expires_in}const Fc=["global","local","others"];class b1{constructor({url:a="",headers:i={},fetch:s}){this.url=a,this.headers=i,this.fetch=$m(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=Fc[0]){if(Fc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fc.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,i={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ii})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:i}=a,s=Dr(a,["options"]),l=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(l.new_email=s?.newEmail,delete l.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:y1,redirectTo:i?.redirectTo})}catch(i){if(pe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ii})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,s,l,o,d,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(o=(l=a?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:H0});if(v.error)throw v.error;const y=await v.json(),p=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);g[`${N}Page`]=T}),g.total=parseInt(p)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(pe(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){Er(a);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ii})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){Er(a);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:ii})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,i=!1){Er(a);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:ii})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){Er(a.userId);try{const{data:i,error:s}=await xe(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:s}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteFactor(a){Er(a.userId),Er(a.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,s,l,o,d,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(o=(l=a?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:H0});if(v.error)throw v.error;const y=await v.json(),p=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);g[`${N}Page`]=T}),g.total=parseInt(p)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(pe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}}function q0(u={}){return{getItem:a=>u[a]||null,setItem:(a,i)=>{u[a]=i},removeItem:a=>{delete u[a]}}}const jr={debug:!!(globalThis&&Gm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ym extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class w1 extends Ym{}async function _1(u,a,i){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,l.name);try{return await i()}finally{jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,l.name)}}else{if(a===0)throw jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new w1(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(jr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function x1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vm(u){if(!/^0x[a-fA-F0-9]{40}$/.test(u))throw new Error(`@supabase/auth-js: Address "${u}" is invalid.`);return u.toLowerCase()}function S1(u){return parseInt(u,16)}function E1(u){const a=new TextEncoder().encode(u);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function j1(u){var a;const{chainId:i,domain:s,expirationTime:l,issuedAt:o=new Date,nonce:d,notBefore:h,requestId:m,resources:g,scheme:v,uri:y,version:p}=u;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((a=u.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${u.statement}`)}const w=Vm(u.address),x=v?`${v}://${s}`:s,T=u.statement?`${u.statement}
`:"",N=`${x} wants you to sign in with your Ethereum account:
${w}

${T}`;let A=`URI: ${y}
Version: ${p}
Chain ID: ${i}${d?`
Nonce: ${d}`:""}
Issued At: ${o.toISOString()}`;if(l&&(A+=`
Expiration Time: ${l.toISOString()}`),h&&(A+=`
Not Before: ${h.toISOString()}`),m&&(A+=`
Request ID: ${m}`),g){let Y=`
Resources:`;for(const U of g){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);Y+=`
- ${U}`}A+=Y}return`${N}
${A}`}class Ut extends Error{constructor({message:a,code:i,cause:s,name:l}){var o;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=l??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=i}}class bo extends Ut{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function A1({error:u,options:a}){var i,s,l;const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if(u.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:u})}else if(u.name==="ConstraintError"){if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:u});if(a.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:u});if(((l=o.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:u})}else{if(u.name==="InvalidStateError")return new Ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:u});if(u.name==="NotAllowedError")return new Ut({message:u.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u});if(u.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:u}):new Ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:u});if(u.name==="SecurityError"){const d=window.location.hostname;if(Im(d)){if(o.rp.id!==d)return new Ut({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:u})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:u})}else if(u.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:u})}else if(u.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:u})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u})}function T1({error:u,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(u.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:u})}else{if(u.name==="NotAllowedError")return new Ut({message:u.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u});if(u.name==="SecurityError"){const s=window.location.hostname;if(Im(s)){if(i.rpId!==s)return new Ut({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:u})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:u})}else if(u.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:u})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u})}class O1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const C1=new O1;function N1(u){if(!u)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(u);const{challenge:a,user:i,excludeCredentials:s}=u,l=Dr(u,["challenge","user","excludeCredentials"]),o=kr(a).buffer,d=Object.assign(Object.assign({},i),{id:kr(i.id).buffer}),h=Object.assign(Object.assign({},l),{challenge:o,user:d});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const g=s[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:kr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function R1(u){if(!u)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(u);const{challenge:a,allowCredentials:i}=u,s=Dr(u,["challenge","allowCredentials"]),l=kr(a).buffer,o=Object.assign(Object.assign({},s),{challenge:l});if(i&&i.length>0){o.allowCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const h=i[d];o.allowCredentials[d]=Object.assign(Object.assign({},h),{id:kr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function k1(u){var a;if("toJSON"in u&&typeof u.toJSON=="function")return u.toJSON();const i=u;return{id:u.id,rawId:u.id,response:{attestationObject:Bi(new Uint8Array(u.response.attestationObject)),clientDataJSON:Bi(new Uint8Array(u.response.clientDataJSON))},type:"public-key",clientExtensionResults:u.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function z1(u){var a;if("toJSON"in u&&typeof u.toJSON=="function")return u.toJSON();const i=u,s=u.getClientExtensionResults(),l=u.response;return{id:u.id,rawId:u.id,response:{authenticatorData:Bi(new Uint8Array(l.authenticatorData)),clientDataJSON:Bi(new Uint8Array(l.clientDataJSON)),signature:Bi(new Uint8Array(l.signature)),userHandle:l.userHandle?Bi(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Im(u){return u==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(u)}function G0(){var u,a;return!!(Xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((u=navigator?.credentials)===null||u===void 0?void 0:u.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function U1(u){try{const a=await navigator.credentials.create(u);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new bo("Browser returned unexpected credential type",a)}:{data:null,error:new bo("Empty credential response",a)}}catch(a){return{data:null,error:A1({error:a,options:u})}}}async function D1(u){try{const a=await navigator.credentials.get(u);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new bo("Browser returned unexpected credential type",a)}:{data:null,error:new bo("Empty credential response",a)}}catch(a){return{data:null,error:T1({error:a,options:u})}}}const M1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},B1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wo(...u){const a=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),i=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of u)if(l)for(const o in l){const d=l[o];if(d!==void 0)if(Array.isArray(d))s[o]=d;else if(i(d))s[o]=d;else if(a(d)){const h=s[o];a(h)?s[o]=wo(h,d):s[o]=wo(d)}else s[o]=d}return s}function L1(u,a){return wo(M1,u,a||{})}function H1(u,a){return wo(B1,u,a||{})}class q1{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:s,signal:l},o){try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!d)return{data:null,error:h};const m=l??C1.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=L1(d.webauthn.credential_options.publicKey,o?.create),{data:v,error:y}=await U1({publicKey:g,signal:m});return v?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const g=H1(d.webauthn.credential_options.publicKey,o?.request),{data:v,error:y}=await D1(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:m}));return v?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new Mi("Unexpected error in challenge",d)}}}async _verify({challengeId:a,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!i)return{data:null,error:new Ls("rpId is required for WebAuthn authentication")};try{if(!G0())return{data:null,error:new Mi("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:s},signal:l},{request:o});if(!d)return{data:null,error:h};const{webauthn:m}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:s,credential_response:m.credential_response}})}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new Mi("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!i)return{data:null,error:new Ls("rpId is required for WebAuthn registration")};try{if(!G0())return{data:null,error:new Mi("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===a&&p.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:l},{create:o});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new Mi("Unexpected error in register",d)}}}}x1();const G1={url:Bb,storageKey:Lb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function $0(u,a,i){return await i()}const Ar={};class Hs{get jwks(){var a,i;return(i=(a=Ar[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=Ar[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{cachedAt:a})}constructor(a){var i,s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},G1),a);if(this.storageKey=o.storageKey,this.instanceID=(i=Hs.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Hs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Xt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new b1({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=$m(o.fetch),this.lock=o.lock||$0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Xt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=_1:this.lock=$0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Gm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=q0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=q0(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lm}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},s="none";if(Xt()&&(i=Wb(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),Xt()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:o}=await this._getSessionFromURL(i,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Ib(o)){const m=(a=o.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:d,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return pe(i)?this._returnResult({error:i}):this._returnResult({error:new Mi("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,s,l;try{const o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=a?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=a?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Kn}),{data:d,error:h}=o;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(a){var i,s,l;try{let o;if("email"in a){const{email:v,password:y,options:p}=a;let w=null,x=null;this.flowType==="pkce"&&([w,x]=await Sr(this.storage,this.storageKey)),o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:v,password:y,data:(i=p?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:w,code_challenge_method:x},xform:Kn})}else if("phone"in a){const{phone:v,password:y,options:p}=a;o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(s=p?.data)!==null&&s!==void 0?s:{},channel:(l=p?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Kn})}else throw new fo("You must provide either an email or phone number and a password");const{data:d,error:h}=o;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(a){try{let i;if("email"in a){const{email:o,password:d,options:h}=a;i=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:L0})}else if("phone"in a){const{phone:o,password:d,options:h}=a;i=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:L0})}else throw new fo("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const o=new xr;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,s,l,o;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=a.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=a.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,s,l,o,d,h,m,g,v,y,p;let w,x;if("message"in a)w=a.message,x=a.signature;else{const{chain:T,wallet:N,statement:A,options:Y}=a;let U;if(Xt())if(typeof N=="object")U=N;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")U=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!Y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=N}const B=new URL((i=Y?.url)!==null&&i!==void 0?i:window.location.href),ae=await U.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Vm(ae[0]);let I=(s=Y?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!I){const C=await U.request({method:"eth_chainId"});I=S1(C)}const O={domain:B.host,address:k,statement:A,uri:B.href,version:"1",chainId:I,nonce:(l=Y?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(o=Y?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=Y?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=Y?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=Y?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=Y?.signInWithEthereum)===null||v===void 0?void 0:v.resources};w=j1(O),x=await U.request({method:"personal_sign",params:[E1(w),k]})}try{const{data:T,error:N}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:x},!((y=a.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(p=a.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Kn});if(N)throw N;if(!T||!T.session||!T.user){const A=new xr;return this._returnResult({data:{user:null,session:null},error:A})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:N})}catch(T){if(pe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(a){var i,s,l,o,d,h,m,g,v,y,p,w;let x,T;if("message"in a)x=a.message,T=a.signature;else{const{chain:N,wallet:A,statement:Y,options:U}=a;let B;if(Xt())if(typeof A=="object")B=A;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))B=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=A}const ae=new URL((i=U?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in B&&B.signIn){const k=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),Y?{statement:Y}:null));let I;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")I=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)I=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)x=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),T=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${ae.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(l=(s=U?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=U?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((d=U?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((y=(v=U?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...U.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const k=await B.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=k}}try{const{data:N,error:A}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Bi(T)},!((p=a.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Kn});if(A)throw A;if(!N||!N.session||!N.user){const Y=new xr;return this._returnResult({data:{user:null,session:null},error:Y})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:A})}catch(N){if(pe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(a){const i=await ki(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(i??"").split("/");try{const{data:o,error:d}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:Kn});if(await ti(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!o||!o.session||!o.user){const h=new xr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:d})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(a){try{const{options:i,provider:s,token:l,access_token:o,nonce:d}=a,h=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:o,nonce:d,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Kn}),{data:m,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const v=new xr;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,s,l,o,d;try{if("email"in a){const{email:h,options:m}=a;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Sr(this.storage,this.storageKey));const{error:y}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in a){const{phone:h,options:m}=a,{data:g,error:v}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new fo("You must provide either an email or phone number.")}catch(h){if(pe(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(a){var i,s;try{let l,o;"options"in a&&(l=(i=a.options)===null||i===void 0?void 0:i.redirectTo,o=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:h}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:Kn});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(a){var i,s,l,o,d;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Sr(this.storage,this.storageKey));const g=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=a?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:v1});return!((o=g.data)===null||o===void 0)&&o.url&&Xt()&&!(!((d=a.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(pe(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)throw s;if(!i)throw new Sn;const{error:l}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:s,type:l,options:o}=a,{error:d}=await xe(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in a){const{phone:s,type:l,options:o}=a,{data:d,error:h}=await xe(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new fo("You must provide either an email or phone number and a type")}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<Xc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const d=await ki(this.userStorage,this.storageKey+"-user");d?.user?a.user=d.user:a.user=Zc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};a.user=f1(a.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:l,error:o}=await this._callRefreshToken(a.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ii}):await this._useSession(async i=>{var s,l,o;const{data:d,error:h}=i;if(h)throw h;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sn}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:ii})})}catch(i){if(pe(i))return Vb(i)&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async s=>{const{data:l,error:o}=s;if(o)throw o;if(!l.session)throw new Sn;const d=l.session;let h=null,m=null;this.flowType==="pkce"&&a.email!=null&&([h,m]=await Sr(this.storage,this.storageKey));const{data:g,error:v}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:ii});if(v)throw v;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(s){if(pe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Sn;const i=Date.now()/1e3;let s=i,l=!0,o=null;const{payload:d}=Jc(a.access_token);if(d.exp&&(s=d.exp,l=s<=i),l){const{data:h,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:m}=await this._getUser(a.access_token);if(m)throw m;o={access_token:a.access_token,refresh_token:a.refresh_token,user:h.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(i){if(pe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var s;if(!a){const{data:d,error:h}=i;if(h)throw h;a=(s=d.session)!==null&&s!==void 0?s:void 0}if(!a?.refresh_token)throw new Sn;const{data:l,error:o}=await this._callRefreshToken(a.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!Xt())throw new ho("No browser detected.");if(a.error||a.error_description||a.error_code)throw new ho(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new R0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ho("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new R0("No code detected.");const{data:Y,error:U}=await this._exchangeCodeForSession(a.code);if(U)throw U;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:o,refresh_token:d,expires_in:h,expires_at:m,token_type:g}=a;if(!o||!h||!d||!g)throw new ho("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(h);let p=v+y;m&&(p=parseInt(m));const w=p-v;w*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const x=p-y;v-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,v):v-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,v);const{data:T,error:N}=await this._getUser(o);if(N)throw N;const A={provider_token:s,provider_refresh_token:l,access_token:o,expires_in:y,expires_at:p,refresh_token:d,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:a.type},error:null})}catch(s){if(pe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await ki(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:l,error:o}=i;if(o)return this._returnResult({error:o});const d=(s=l.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:h}=await this.admin.signOut(d,a);if(h&&!(Yb(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return a!=="others"&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=Fb(),s={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async i=>{var s,l;try{const{data:{session:o},error:d}=i;if(d)throw d;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",a,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",o),console.error(o)}})}async resetPasswordForEmail(a,i={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Sr(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(o){if(pe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var a;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:s,error:l}=await this._useSession(async o=>{var d,h,m,g,v;const{data:y,error:p}=o;if(p)throw p;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=a.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return Xt()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:a.provider,url:s?.url},error:null})}catch(s){if(pe(s))return this._returnResult({data:{provider:a.provider,url:null},error:s});throw s}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var s;try{const{error:l,data:{session:o}}=i;if(l)throw l;const{options:d,provider:h,token:m,access_token:g,nonce:v}=a,y=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:m,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Kn}),{data:p,error:w}=y;return w?this._returnResult({data:{user:null,session:null},error:w}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new xr}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:w}))}catch(l){if(pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var s,l;const{data:o,error:d}=i;if(d)throw d;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(l=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await n1(async l=>(l>0&&await t1(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Kn})),(l,o)=>{const d=200*Math.pow(2,l);return o&&Qc(o)&&Date.now()+d-s<Cr})}catch(s){if(this._debug(i,"error",s),pe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",s),Xt()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await ki(this.storage,this.storageKey);if(l&&this.userStorage){let d=await ki(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Nr(this.userStorage,this.storageKey+"-user",d)),l.user=(a=d?.user)!==null&&a!==void 0?a:Zc()}else if(l&&!l.user&&!l.user){const d=await ki(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await ti(this.storage,this.storageKey+"-user"),await Nr(this.storage,this.storageKey,l)):l.user=Zc()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const o=((i=l.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Xc;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Xc}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Qc(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(l.access_token);!h&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var i,s;if(!a)throw new Sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new ko;const{data:o,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!o.session)throw new Sn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(l,"error",o),pe(o)){const d={data:null,error:o};return Qc(o)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(a,i,s=!0){const l=`#_notifyAllSubscribers(${a})`;this._debug(l,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:i});const o=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(a,i)}catch(m){o.push(m)}});if(await Promise.all(d),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const i=Object.assign({},a),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Nr(this.userStorage,this.storageKey+"-user",{user:i.user});const l=Object.assign({},i);delete l.user;const o=M0(l);await Nr(this.storage,this.storageKey,o)}else{const l=M0(i);await Nr(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await ti(this.storage,this.storageKey),await ti(this.storage,this.storageKey+"-code-verifier"),await ti(this.storage,this.storageKey+"-user"),this.userStorage&&await ti(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-a)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Cr}ms, refresh threshold is ${dd} ticks`),l<=dd&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Ym)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,s){const l=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,d]=await Sr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(h.toString())}if(s?.queryParams){const o=new URLSearchParams(s.queryParams);l.push(o.toString())}return s?.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${l.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var s;const{data:l,error:o}=i;return o?this._returnResult({data:null,error:o}):await xe(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var s,l;const{data:o,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:g}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:l,error:o}=i;if(o)return this._returnResult({data:null,error:o});const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?k1(a.webauthn.credential_response):z1(a.webauthn.credential_response)})}:{code:a.code}),{data:h,error:m}=await xe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:l,error:o}=i;if(o)return this._returnResult({data:null,error:o});const d=await xe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:N1(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:R1(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:s}=await this._challenge({factorId:a.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const o of(a=i?.factors)!==null&&a!==void 0?a:[])l.all.push(o),o.status==="verified"&&l[o.factor_type].push(o);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jc(s.access_token);let d=null;o.aal&&(d=o.aal);let h=d;((i=(a=s.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const g=o.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;return l?this._returnResult({data:null,error:l}):s?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Sn})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async s=>{const{data:{session:l},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new Sn});const d=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&Xt()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(a,i){try{return await this._useSession(async s=>{const{data:{session:l},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new Sn});const d=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&Xt()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;return s?this._returnResult({data:null,error:s}):i?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Sn})})}catch(a){if(pe(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;return l?this._returnResult({data:null,error:l}):s?await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:a.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Sn})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let s=i.keys.find(h=>h.kid===a);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(h=>h.kid===a),s&&this.jwks_cached_at+Gb>l)return s;const{data:o,error:d}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,s=o.keys.find(h=>h.kid===a),!s)?null:s}async getClaims(a,i={}){try{let s=a;if(!s){const{data:w,error:x}=await this.getSession();if(x||!w.session)return this._returnResult({data:null,error:x});s=w.session.access_token}const{header:l,payload:o,signature:d,raw:{header:h,payload:m}}=Jc(s);i?.allowExpired||u1(o.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:o,header:l,signature:d},error:null}}const v=c1(l.alg),y=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,d,Jb(`${h}.${m}`)))throw new gd("Invalid JWT signature");return{data:{claims:o,header:l,signature:d},error:null}}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}}Hs.nextInstanceID={};const $1=Hs;class Y1 extends $1{constructor(a){super(a)}}class V1{constructor(a,i,s){var l,o,d;this.supabaseUrl=a,this.supabaseKey=i;const h=Mb(a);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:Ob,realtime:Nb,auth:Object.assign(Object.assign({},Cb),{storageKey:m}),global:Tb},v=Db(s??{},g);this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=zb(i,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Bp(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Eb(this.storageUrl.href,this.headers,this.fetch,s?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new zp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,i={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,i,s)}channel(a,i={config:{}}){return this.realtime.channel(a,i)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,i;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:i,detectSessionInUrl:s,storage:l,userStorage:o,storageKey:d,flowType:h,lock:m,debug:g,throwOnError:v},y,p){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y1({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:d,autoRefreshToken:a,persistSession:i,detectSessionInUrl:s,storage:l,userStorage:o,flowType:h,lock:m,debug:g,throwOnError:v,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new eb(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,s)=>{this._handleTokenChanged(i,"CLIENT",s?.access_token)})}_handleTokenChanged(a,i,s){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I1=(u,a,i)=>new V1(u,a,i);function K1(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const a=u.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}K1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P1="https://opzqjipvwddyhzzsowoi.supabase.co",X1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wenFqaXB2d2RkeWh6enNvd29pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2Mjk3NjksImV4cCI6MjA3OTIwNTc2OX0.cKiU8zfwbzc9AFmlLOykl5Xy9-gJ52wDFr32ki0YA8I",En=I1(P1,X1),Q1=async u=>{const{data:a,error:i}=await En.from("user_data").select("id, persone, custom_relazioni, custom_event_types").maybeSingle();if(i&&i.code==="PGRST116")return"USER_NOT_FOUND";if(i)throw console.error("Errore nel fetch dei dati utente:",i),i;return a},J1=async(u,a,i)=>{try{if(a){const{data:s,error:l}=await En.from("user_data").update(i).eq("id",a).select().single();if(l)throw l;return s}else{const{data:s,error:l}=await En.from("user_data").insert([{...i,user_id:u}]).select().single();if(l)throw l;return s}}catch(s){throw console.error("Errore nel salvataggio dei dati utente:",s),s}},Z1=async(u,a)=>{try{const i=`${u}-${Date.now()}-${a.name}`,{error:s}=await En.storage.from("avatars").upload(i,a);if(s)throw s;const{data:l}=En.storage.from("avatars").getPublicUrl(i);return l.publicUrl}catch(i){throw console.error("Errore caricamento immagine:",i),i}},F1=async(u,a)=>{try{const i=`${u}-${Date.now()}-${a.name}`,{error:s}=await En.storage.from("gift-images").upload(i,a);if(s)throw s;const{data:l}=En.storage.from("gift-images").getPublicUrl(i);return l.publicUrl}catch(i){throw console.error("Errore caricamento immagine regalo:",i),i}},W1=["Amico/a","Moglie","Marito","Fidanzato/a","Pap","Mamma","Figlio/a","Fratello","Sorella","Collega"],ew=["Compleanno","Natale","Anniversario","San Valentino","Onomastico","Laurea","Epifania","Festa del Pap"],Km={default:{id:"default",name:"Classico",primary:"#4f46e5",secondary:"#f59e0b",accent:"#e0e7ff",textAccent:"#3730a3"},logo:{id:"logo",name:"Corallo",primary:"#FF7F50",secondary:"#25A79B",accent:"#FEF2F2",textAccent:"#991B1B"},ocean:{id:"ocean",name:"Oceano",primary:"#0284c7",secondary:"#06b6d4",accent:"#e0f2fe",textAccent:"#075985"},forest:{id:"forest",name:"Foresta",primary:"#059669",secondary:"#84cc16",accent:"#d1fae5",textAccent:"#064e3b"},autumn:{id:"autumn",name:"Autunno",primary:"#D97706",secondary:"#F59E0B",accent:"#FEF3C7",textAccent:"#92400E"}},Rs={generici:[{nome:"Buono Amazon",link:"https://www.amazon.it/s?k=buono+regalo&tag=giftminder-21",img:"img/buonoamazon.png"},{nome:"Powerbank Solare",link:"https://www.amazon.it/s?k=powerbank+solare&tag=giftminder-21",img:"img/solarpowerbank.jpeg"},{nome:"Zaino Tech",link:"https://www.amazon.it/s?k=zaino+laptop&tag=giftminder-21",img:"img/zainotech.jpeg"},{nome:"Borraccia Termica",link:"https://www.amazon.it/s?k=borraccia+termica&tag=giftminder-21",img:"img/Borraccia Termica.jpeg"},{nome:"Speaker Bluetooth",link:"https://www.amazon.it/s?k=speaker+bluetooth&tag=giftminder-21",img:"img/Speaker Bluetooth.jpeg"},{nome:"Organizer Scrivania",link:"https://www.amazon.it/s?k=organizer+scrivania&tag=giftminder-21",img:"img/Organizer Scrivania.jpeg"},{nome:"Cuscino Viaggio",link:"https://www.amazon.it/s?k=cuscino+viaggio+memory&tag=giftminder-21",img:"img/cuscinoviaggio.jpeg"},{nome:"Tazza Personalizzata",link:"https://www.amazon.it/s?k=tazza+divertente&tag=giftminder-21",img:"img/Tazza Personalizzata.jpeg"},{nome:"Caricatore Wireless",link:"https://www.amazon.it/s?k=caricatore+wireless&tag=giftminder-21",img:"img/Caricatore Wireless.jpeg"},{nome:"Agenda Moleskine",link:"https://www.amazon.it/s?k=moleskine&tag=giftminder-21",img:"img/Agenda Moleskine.jpeg"},{nome:"Penna Parker",link:"https://www.amazon.it/s?k=penna+parker&tag=giftminder-21",img:"img/penna parker.jpg"},{nome:"Set Sommelier",link:"https://www.amazon.it/s?k=set+vino&tag=giftminder-21",img:"img/Set Sommelier.jpeg"},{nome:"Diffusore Aromi",link:"https://www.amazon.it/s?k=diffusore+oli+essenziali&tag=giftminder-21",img:"img/Diffusore Aromi.jpeg"},{nome:"Lunch Box Termico",link:"https://www.amazon.it/s?k=lunch+box+porta+pranzo&tag=giftminder-21",img:"img/lunchbox.jpeg"},{nome:"Supporto Laptop",link:"https://www.amazon.it/s?k=supporto+pc+portatile&tag=giftminder-21",img:"img/Supporto Laptop.jpeg"},{nome:"Candela Profumata",link:"https://www.amazon.it/s?k=candela+profumata+regalo&tag=giftminder-21",img:"img/Candela Profumata.jpeg"},{nome:"Trousse da Viaggio",link:"https://www.amazon.it/s?k=beauty+case+viaggio&tag=giftminder-21",img:"img/Trousse da Viaggio.jpeg"},{nome:"Luce da Lettura",link:"https://www.amazon.it/s?k=luce+lettura+clip&tag=giftminder-21",img:"img/Luce da Lettura.jpg"},{nome:"Kit Coltivazione",link:"https://www.amazon.it/s?k=kit+bonsai+o+erbe&tag=giftminder-21",img:"img/Kit Coltivazione.jpeg"},{nome:"Cuffie Wireless",link:"https://www.amazon.it/s?k=cuffie+bluetooth+in+ear&tag=giftminder-21",img:"img/Cuffie Wireless.jpeg"},{nome:"Set Tagliere Formaggi",link:"https://www.amazon.it/s?k=set+tagliere+formaggi&tag=giftminder-21",img:"img/Set Tagliere Formaggi.jpeg"},{nome:"Localizzatore Chiavi",link:"https://www.amazon.it/s?k=trova+chiavi+bluetooth&tag=giftminder-21",img:"img/Localizzatore Chiavi.jpeg"}],Compleanno:[{nome:"Kindle",link:"https://www.amazon.it/s?k=kindle&tag=giftminder-21",img:"img/kindle.jpg"},{nome:"Smartwatch",link:"https://www.amazon.it/s?k=smartwatch&tag=giftminder-21",img:"img/smartwatch.jpeg"},{nome:"Cuffie Noise Cancelling",link:"https://www.amazon.it/s?k=cuffie+anc&tag=giftminder-21",img:"img/Cuffie Noise Cancelling.jpeg"},{nome:"Set Cocktail",link:"https://www.amazon.it/s?k=set+barman&tag=giftminder-21",img:"img/Set Cocktail.jpeg"},{nome:"LEGO Icons",link:"https://www.amazon.it/s?k=lego+adulti&tag=giftminder-21",img:"img/lego-icons.webp"},{nome:"Fotocamera Istantanea",link:"https://www.amazon.it/s?k=instax+mini&tag=giftminder-21",img:"img/instantcamera.jpeg"},{nome:"Massaggiatore Collo",link:"https://www.amazon.it/s?k=massaggiatore+collo&tag=giftminder-21",img:"img/Massaggiatore Collo.jpeg"},{nome:"Telescopio",link:"https://www.amazon.it/s?k=telescopio+astronomico&tag=giftminder-21",img:"img/telescopio.jpg"},{nome:"Giradischi Vintage",link:"https://www.amazon.it/s?k=giradischi&tag=giftminder-21",img:"img/Giradischi Vintage.jpg"},{nome:"Macchina Caff",link:"https://www.amazon.it/s?k=macchina+caffe+espresso&tag=giftminder-21",img:"img/Macchina Caff.jpeg"},{nome:"Drone con Telecamera",link:"https://www.amazon.it/s?k=drone&tag=giftminder-21",img:"img/Drone con Telecamera.jpeg"},{nome:"Tablet",link:"https://www.amazon.it/s?k=tablet&tag=giftminder-21",img:"img/tablet.jpg"}],Natale:[{nome:"Cesto Gourmet",link:"https://www.amazon.it/s?k=cesto+natalizio&tag=giftminder-21",img:"img/cesto gourmet.jpg"},{nome:"Luci Smart",link:"https://www.amazon.it/s?k=philips+hue&tag=giftminder-21",img:"img/luci-smart.jpg"},{nome:"Maglione Natalizio",link:"https://www.amazon.it/s?k=maglione+natale&tag=giftminder-21",img:"img/maglione natalizio.jpeg"},{nome:"Gioco da Tavolo",link:"https://www.amazon.it/s?k=giochi+da+tavolo&tag=giftminder-21",img:"img/set-giochi-tavolo.jpg"},{nome:"Candela Yankee Candle",link:"https://www.amazon.it/s?k=yankee+candle&tag=giftminder-21",img:"img/yankeecandle.jpeg"},{nome:"Coperta Ponderata",link:"https://www.amazon.it/s?k=coperta+ponderata&tag=giftminder-21",img:"img/copertaponderata.webp"},{nome:"Set Degustazione T",link:"https://www.amazon.it/s?k=set+regalo+te&tag=giftminder-21",img:"img/setthe.jpeg"},{nome:"Echo Dot",link:"https://www.amazon.it/s?k=echo+dot&tag=giftminder-21",img:"img/Echo Dot.jpeg"},{nome:"Calze Divertenti",link:"https/www.amazon.it/s?k=calze+pizza&tag=giftminder-21",img:"img/Calze Divertenti.jpeg"},{nome:"Pandoro Artigianale",link:"https://www.amazon.it/s?k=pandoro+artigianale&tag=giftminder-21",img:"img/pandoro_artigianale_serge_pandorodett_1_1000x.webp"},{nome:"Proiettore Stelle",link:"https://www.amazon.it/s?k=proiettore+galassia&tag=giftminder-21",img:"img/proiettorestelle.webp"},{nome:"Set Bombe da Bagno",link:"https://www.amazon.it/s?k=bombe+da+bagno&tag=giftminder-21",img:"img/setbombe.jpg"}],Anniversario:[{nome:"Smartbox Coppia",link:"https://www.amazon.it/s?k=smartbox+coppia&tag=giftminder-21",img:"img/Smartbox Coppia.jpeg"},{nome:"Mappa Stellare",link:"https://www.amazon.it/s?k=mappa+stellare&tag=giftminder-21",img:"img/Mappa Stellare.jpeg"},{nome:"Cornice Digitale",link:"https://www.amazon.it/s?k=cornice+digitale&tag=giftminder-21",img:"img/cornice digitale.jpg"},{nome:"Set Spa Luxury",link:"https://www.amazon.it/s?k=set+spa+regalo&tag=giftminder-21",img:"img/Set Spa Luxury.jpg"},{nome:"Proiettore Portatile",link:"https://www.amazon.it/s?k=mini+proiettore&tag=giftminder-21",img:"img/proiettore portatile.jpeg"},{nome:"Calici Vino Incisi",link:"https://www.amazon.it/s?k=calice+vino+inciso&tag=giftminder-21",img:"img/Calici Vino Incisi.webp"},{nome:"Cena a Lume di Candela",link:"https://www.amazon.it/s?k=kit+cena+romantica&tag=giftminder-21",img:"img/Cena a Lume di Candela.jpeg"},{nome:"Weekend Fuori Porta",link:"https://www.amazon.it/s?k=cofanetto+viaggio&tag=giftminder-21",img:"img/Weekend Fuori Porta.jpeg"}],"San Valentino":[{nome:"Cioccolatini Luxury",link:"https://www.amazon.it/s?k=cioccolatini+regalo&tag=giftminder-21",img:"img/Cioccolatini Luxury.jpeg"},{nome:"Album Foto",link:"https://www.amazon.it/s?k=album+foto+coppia&tag=giftminder-21",img:"img/album-foto.webp"},{nome:"Orso di Rose",link:"https://www.amazon.it/s?k=orso+rose&tag=giftminder-21",img:"img/Orso di Rose.jpeg"},{nome:"Gioiello Personalizzato",link:"https://www.amazon.it/s?k=collana+nome&tag=giftminder-21",img:"img/Gioiello Personalizzato.jpg"},{nome:"Cuscino Cuore",link:"https://www.amazon.it/s?k=cuscino+cuore&tag=giftminder-21",img:"img/Cuscino Cuore.jpeg"},{nome:"Chiave del Cuore",link:"https://www.amazon.it/s?k=portachiavi+coppia&tag=giftminder-21",img:"img/Chiave del Cuore.jpeg"}],Laurea:[{nome:"Penna Stilografica",link:"https://www.amazon.it/s?k=penna+stilografica&tag=giftminder-21",img:"img/Penna Stilografica.jpeg"},{nome:"Borsa Ventiquattrore",link:"https://www.amazon.it/s?k=borsa+lavoro+pelle&tag=giftminder-21",img:"img/Borsa Ventiquattrore.jpeg"},{nome:"Smartwatch Elegante",link:"https://www.amazon.it/s?k=smartwatch+elegante&tag=giftminder-21",img:"img/Smartwatch Elegante.jpeg"}]};function tw(u,a){return a.forEach((function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach((function(s){if(s!=="default"&&!(s in u)){var l=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(u,s,l.get?l:{enumerable:!0,get:function(){return i[s]}})}}))})),Object.freeze(u)}function Pm(u,a){return new Promise((function(i,s){let l;return nw(u).then((function(o){try{return l=o,i(new Blob([a.slice(0,2),l,a.slice(2)],{type:"image/jpeg"}))}catch(d){return s(d)}}),s)}))}const nw=u=>new Promise(((a,i)=>{const s=new FileReader;s.addEventListener("load",(({target:{result:l}})=>{const o=new DataView(l);let d=0;if(o.getUint16(d)!==65496)return i("not a valid JPEG");for(d+=2;;){const h=o.getUint16(d);if(h===65498)break;const m=o.getUint16(d+2);if(h===65505&&o.getUint32(d+4)===1165519206){const g=d+10;let v;switch(o.getUint16(g)){case 18761:v=!0;break;case 19789:v=!1;break;default:return i("TIFF header contains invalid endian")}if(o.getUint16(g+2,v)!==42)return i("TIFF header contains invalid version");const y=o.getUint32(g+4,v),p=g+y+2+12*o.getUint16(g+y,v);for(let w=g+y+2;w<p;w+=12)if(o.getUint16(w,v)==274){if(o.getUint16(w+2,v)!==3)return i("Orientation data type is invalid");if(o.getUint32(w+4,v)!==1)return i("Orientation data count is invalid");o.setUint16(w+8,1,v);break}return a(l.slice(d,d+2+m))}d+=2+m}return a(new Blob)})),s.readAsArrayBuffer(u)}));var _o={},aw={get exports(){return _o},set exports(u){_o=u}};(function(u){var a,i,s={};aw.exports=s,s.parse=function(l,o){for(var d=s.bin.readUshort,h=s.bin.readUint,m=0,g={},v=new Uint8Array(l),y=v.length-4;h(v,y)!=101010256;)y--;m=y,m+=4;var p=d(v,m+=4);d(v,m+=2);var w=h(v,m+=2),x=h(v,m+=4);m+=4,m=x;for(var T=0;T<p;T++){h(v,m),m+=4,m+=4,m+=4,h(v,m+=4),w=h(v,m+=4);var N=h(v,m+=4),A=d(v,m+=4),Y=d(v,m+2),U=d(v,m+4);m+=6;var B=h(v,m+=8);m+=4,m+=A+Y+U,s._readLocal(v,B,g,w,N,o)}return g},s._readLocal=function(l,o,d,h,m,g){var v=s.bin.readUshort,y=s.bin.readUint;y(l,o),v(l,o+=4),v(l,o+=2);var p=v(l,o+=2);y(l,o+=2),y(l,o+=4),o+=4;var w=v(l,o+=8),x=v(l,o+=2);o+=2;var T=s.bin.readUTF8(l,o,w);if(o+=w,o+=x,g)d[T]={size:m,csize:h};else{var N=new Uint8Array(l.buffer,o);if(p==0)d[T]=new Uint8Array(N.buffer.slice(o,o+h));else{if(p!=8)throw"unknown compression method: "+p;var A=new Uint8Array(m);s.inflateRaw(N,A),d[T]=A}}},s.inflateRaw=function(l,o){return s.F.inflate(l,o)},s.inflate=function(l,o){return l[0],l[1],s.inflateRaw(new Uint8Array(l.buffer,l.byteOffset+2,l.length-6),o)},s.deflate=function(l,o){o==null&&(o={level:6});var d=0,h=new Uint8Array(50+Math.floor(1.1*l.length));h[d]=120,h[d+1]=156,d+=2,d=s.F.deflateRaw(l,h,d,o.level);var m=s.adler(l,0,l.length);return h[d+0]=m>>>24&255,h[d+1]=m>>>16&255,h[d+2]=m>>>8&255,h[d+3]=m>>>0&255,new Uint8Array(h.buffer,0,d+4)},s.deflateRaw=function(l,o){o==null&&(o={level:6});var d=new Uint8Array(50+Math.floor(1.1*l.length)),h=s.F.deflateRaw(l,d,h,o.level);return new Uint8Array(d.buffer,0,h)},s.encode=function(l,o){o==null&&(o=!1);var d=0,h=s.bin.writeUint,m=s.bin.writeUshort,g={};for(var v in l){var y=!s._noNeed(v)&&!o,p=l[v],w=s.crc.crc(p,0,p.length);g[v]={cpr:y,usize:p.length,crc:w,file:y?s.deflateRaw(p):p}}for(var v in g)d+=g[v].file.length+30+46+2*s.bin.sizeUTF8(v);d+=22;var x=new Uint8Array(d),T=0,N=[];for(var v in g){var A=g[v];N.push(T),T=s._writeHeader(x,T,v,A,0)}var Y=0,U=T;for(var v in g)A=g[v],N.push(T),T=s._writeHeader(x,T,v,A,1,N[Y++]);var B=T-U;return h(x,T,101010256),T+=4,m(x,T+=4,Y),m(x,T+=2,Y),h(x,T+=2,B),h(x,T+=4,U),T+=4,T+=2,x.buffer},s._noNeed=function(l){var o=l.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},s._writeHeader=function(l,o,d,h,m,g){var v=s.bin.writeUint,y=s.bin.writeUshort,p=h.file;return v(l,o,m==0?67324752:33639248),o+=4,m==1&&(o+=2),y(l,o,20),y(l,o+=2,0),y(l,o+=2,h.cpr?8:0),v(l,o+=2,0),v(l,o+=4,h.crc),v(l,o+=4,p.length),v(l,o+=4,h.usize),y(l,o+=4,s.bin.sizeUTF8(d)),y(l,o+=2,0),o+=2,m==1&&(o+=2,o+=2,v(l,o+=6,g),o+=4),o+=s.bin.writeUTF8(l,o,d),m==0&&(l.set(p,o),o+=p.length),o},s.crc={table:(function(){for(var l=new Uint32Array(256),o=0;o<256;o++){for(var d=o,h=0;h<8;h++)1&d?d=3988292384^d>>>1:d>>>=1;l[o]=d}return l})(),update:function(l,o,d,h){for(var m=0;m<h;m++)l=s.crc.table[255&(l^o[d+m])]^l>>>8;return l},crc:function(l,o,d){return 4294967295^s.crc.update(4294967295,l,o,d)}},s.adler=function(l,o,d){for(var h=1,m=0,g=o,v=o+d;g<v;){for(var y=Math.min(g+5552,v);g<y;)m+=h+=l[g++];h%=65521,m%=65521}return m<<16|h},s.bin={readUshort:function(l,o){return l[o]|l[o+1]<<8},writeUshort:function(l,o,d){l[o]=255&d,l[o+1]=d>>8&255},readUint:function(l,o){return 16777216*l[o+3]+(l[o+2]<<16|l[o+1]<<8|l[o])},writeUint:function(l,o,d){l[o]=255&d,l[o+1]=d>>8&255,l[o+2]=d>>16&255,l[o+3]=d>>24&255},readASCII:function(l,o,d){for(var h="",m=0;m<d;m++)h+=String.fromCharCode(l[o+m]);return h},writeASCII:function(l,o,d){for(var h=0;h<d.length;h++)l[o+h]=d.charCodeAt(h)},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,o,d){for(var h,m="",g=0;g<d;g++)m+="%"+s.bin.pad(l[o+g].toString(16));try{h=decodeURIComponent(m)}catch{return s.bin.readASCII(l,o,d)}return h},writeUTF8:function(l,o,d){for(var h=d.length,m=0,g=0;g<h;g++){var v=d.charCodeAt(g);if((4294967168&v)==0)l[o+m]=v,m++;else if((4294965248&v)==0)l[o+m]=192|v>>6,l[o+m+1]=128|v>>0&63,m+=2;else if((4294901760&v)==0)l[o+m]=224|v>>12,l[o+m+1]=128|v>>6&63,l[o+m+2]=128|v>>0&63,m+=3;else{if((4292870144&v)!=0)throw"e";l[o+m]=240|v>>18,l[o+m+1]=128|v>>12&63,l[o+m+2]=128|v>>6&63,l[o+m+3]=128|v>>0&63,m+=4}}return m},sizeUTF8:function(l){for(var o=l.length,d=0,h=0;h<o;h++){var m=l.charCodeAt(h);if((4294967168&m)==0)d++;else if((4294965248&m)==0)d+=2;else if((4294901760&m)==0)d+=3;else{if((4292870144&m)!=0)throw"e";d+=4}}return d}},s.F={},s.F.deflateRaw=function(l,o,d,h){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][h],g=s.F.U,v=s.F._goodIndex;s.F._hash;var y=s.F._putsE,p=0,w=d<<3,x=0,T=l.length;if(h==0){for(;p<T;)y(o,w,p+($=Math.min(65535,T-p))==T?1:0),w=s.F._copyExact(l,p,$,o,w+8),p+=$;return w>>>3}var N=g.lits,A=g.strt,Y=g.prev,U=0,B=0,ae=0,k=0,I=0,O=0;for(T>2&&(A[O=s.F._hash(l,0)]=0),p=0;p<T;p++){if(I=O,p+1<T-2){O=s.F._hash(l,p+1);var C=p+1&32767;Y[C]=A[O],A[O]=C}if(x<=p){(U>14e3||B>26697)&&T-p>100&&(x<p&&(N[U]=p-x,U+=2,x=p),w=s.F._writeBlock(p==T-1||x==T?1:0,N,U,k,l,ae,p-ae,o,w),U=B=k=0,ae=p);var G=0;p<T-2&&(G=s.F._bestMatch(l,p,Y,I,Math.min(m[2],T-p),m[3]));var $=G>>>16,H=65535&G;if(G!=0){H=65535&G;var M=v($=G>>>16,g.of0);g.lhst[257+M]++;var q=v(H,g.df0);g.dhst[q]++,k+=g.exb[M]+g.dxb[q],N[U]=$<<23|p-x,N[U+1]=H<<16|M<<8|q,U+=2,x=p+$}else g.lhst[l[p]]++;B++}}for(ae==p&&l.length!=0||(x<p&&(N[U]=p-x,U+=2,x=p),w=s.F._writeBlock(1,N,U,k,l,ae,p-ae,o,w),U=0,B=0,U=B=k=0,ae=p);(7&w)!=0;)w++;return w>>>3},s.F._bestMatch=function(l,o,d,h,m,g){var v=32767&o,y=d[v],p=v-y+32768&32767;if(y==v||h!=s.F._hash(l,o-p))return 0;for(var w=0,x=0,T=Math.min(32767,o);p<=T&&--g!=0&&y!=v;){if(w==0||l[o+w]==l[o+w-p]){var N=s.F._howLong(l,o,p);if(N>w){if(x=p,(w=N)>=m)break;p+2<N&&(N=p+2);for(var A=0,Y=0;Y<N-2;Y++){var U=o-p+Y+32768&32767,B=U-d[U]+32768&32767;B>A&&(A=B,y=U)}}}p+=(v=y)-(y=d[v])+32768&32767}return w<<16|x},s.F._howLong=function(l,o,d){if(l[o]!=l[o-d]||l[o+1]!=l[o+1-d]||l[o+2]!=l[o+2-d])return 0;var h=o,m=Math.min(l.length,o+258);for(o+=3;o<m&&l[o]==l[o-d];)o++;return o-h},s.F._hash=function(l,o){return(l[o]<<8|l[o+1])+(l[o+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(l,o,d,h,m,g,v,y,p){var w,x,T,N,A,Y,U,B,ae,k=s.F.U,I=s.F._putsF,O=s.F._putsE;k.lhst[256]++,x=(w=s.F.getTrees())[0],T=w[1],N=w[2],A=w[3],Y=w[4],U=w[5],B=w[6],ae=w[7];var C=32+((p+3&7)==0?0:8-(p+3&7))+(v<<3),G=h+s.F.contSize(k.fltree,k.lhst)+s.F.contSize(k.fdtree,k.dhst),$=h+s.F.contSize(k.ltree,k.lhst)+s.F.contSize(k.dtree,k.dhst);$+=14+3*U+s.F.contSize(k.itree,k.ihst)+(2*k.ihst[16]+3*k.ihst[17]+7*k.ihst[18]);for(var H=0;H<286;H++)k.lhst[H]=0;for(H=0;H<30;H++)k.dhst[H]=0;for(H=0;H<19;H++)k.ihst[H]=0;var M=C<G&&C<$?0:G<$?1:2;if(I(y,p,l),I(y,p+1,M),p+=3,M==0){for(;(7&p)!=0;)p++;p=s.F._copyExact(m,g,v,y,p)}else{var q,X;if(M==1&&(q=k.fltree,X=k.fdtree),M==2){s.F.makeCodes(k.ltree,x),s.F.revCodes(k.ltree,x),s.F.makeCodes(k.dtree,T),s.F.revCodes(k.dtree,T),s.F.makeCodes(k.itree,N),s.F.revCodes(k.itree,N),q=k.ltree,X=k.dtree,O(y,p,A-257),O(y,p+=5,Y-1),O(y,p+=5,U-4),p+=4;for(var S=0;S<U;S++)O(y,p+3*S,k.itree[1+(k.ordr[S]<<1)]);p+=3*U,p=s.F._codeTiny(B,k.itree,y,p),p=s.F._codeTiny(ae,k.itree,y,p)}for(var E=g,W=0;W<d;W+=2){for(var K=o[W],te=K>>>23,R=E+(8388607&K);E<R;)p=s.F._writeLit(m[E++],q,y,p);if(te!=0){var z=o[W+1],F=z>>16,Q=z>>8&255,P=255&z;O(y,p=s.F._writeLit(257+Q,q,y,p),te-k.of0[Q]),p+=k.exb[Q],I(y,p=s.F._writeLit(P,X,y,p),F-k.df0[P]),p+=k.dxb[P],E+=te}}p=s.F._writeLit(256,q,y,p)}return p},s.F._copyExact=function(l,o,d,h,m){var g=m>>>3;return h[g]=d,h[g+1]=d>>>8,h[g+2]=255-h[g],h[g+3]=255-h[g+1],g+=4,h.set(new Uint8Array(l.buffer,o,d),g),m+(d+4<<3)},s.F.getTrees=function(){for(var l=s.F.U,o=s.F._hufTree(l.lhst,l.ltree,15),d=s.F._hufTree(l.dhst,l.dtree,15),h=[],m=s.F._lenCodes(l.ltree,h),g=[],v=s.F._lenCodes(l.dtree,g),y=0;y<h.length;y+=2)l.ihst[h[y]]++;for(y=0;y<g.length;y+=2)l.ihst[g[y]]++;for(var p=s.F._hufTree(l.ihst,l.itree,7),w=19;w>4&&l.itree[1+(l.ordr[w-1]<<1)]==0;)w--;return[o,d,p,m,v,w,h,g]},s.F.getSecond=function(l){for(var o=[],d=0;d<l.length;d+=2)o.push(l[d+1]);return o},s.F.nonZero=function(l){for(var o="",d=0;d<l.length;d+=2)l[d+1]!=0&&(o+=(d>>1)+",");return o},s.F.contSize=function(l,o){for(var d=0,h=0;h<o.length;h++)d+=o[h]*l[1+(h<<1)];return d},s.F._codeTiny=function(l,o,d,h){for(var m=0;m<l.length;m+=2){var g=l[m],v=l[m+1];h=s.F._writeLit(g,o,d,h);var y=g==16?2:g==17?3:7;g>15&&(s.F._putsE(d,h,v,y),h+=y)}return h},s.F._lenCodes=function(l,o){for(var d=l.length;d!=2&&l[d-1]==0;)d-=2;for(var h=0;h<d;h+=2){var m=l[h+1],g=h+3<d?l[h+3]:-1,v=h+5<d?l[h+5]:-1,y=h==0?-1:l[h-1];if(m==0&&g==m&&v==m){for(var p=h+5;p+2<d&&l[p+2]==m;)p+=2;(w=Math.min(p+1-h>>>1,138))<11?o.push(17,w-3):o.push(18,w-11),h+=2*w-2}else if(m==y&&g==m&&v==m){for(p=h+5;p+2<d&&l[p+2]==m;)p+=2;var w=Math.min(p+1-h>>>1,6);o.push(16,w-3),h+=2*w-2}else o.push(m,0)}return d>>>1},s.F._hufTree=function(l,o,d){var h=[],m=l.length,g=o.length,v=0;for(v=0;v<g;v+=2)o[v]=0,o[v+1]=0;for(v=0;v<m;v++)l[v]!=0&&h.push({lit:v,f:l[v]});var y=h.length,p=h.slice(0);if(y==0)return 0;if(y==1){var w=h[0].lit;return p=w==0?1:0,o[1+(w<<1)]=1,o[1+(p<<1)]=1,1}h.sort((function(B,ae){return B.f-ae.f}));var x=h[0],T=h[1],N=0,A=1,Y=2;for(h[0]={lit:-1,f:x.f+T.f,l:x,r:T,d:0};A!=y-1;)x=N!=A&&(Y==y||h[N].f<h[Y].f)?h[N++]:h[Y++],T=N!=A&&(Y==y||h[N].f<h[Y].f)?h[N++]:h[Y++],h[A++]={lit:-1,f:x.f+T.f,l:x,r:T};var U=s.F.setDepth(h[A-1],0);for(U>d&&(s.F.restrictDepth(p,d,U),U=d),v=0;v<y;v++)o[1+(p[v].lit<<1)]=p[v].d;return U},s.F.setDepth=function(l,o){return l.lit!=-1?(l.d=o,o):Math.max(s.F.setDepth(l.l,o+1),s.F.setDepth(l.r,o+1))},s.F.restrictDepth=function(l,o,d){var h=0,m=1<<d-o,g=0;for(l.sort((function(y,p){return p.d==y.d?y.f-p.f:p.d-y.d})),h=0;h<l.length&&l[h].d>o;h++){var v=l[h].d;l[h].d=o,g+=m-(1<<d-v)}for(g>>>=d-o;g>0;)(v=l[h].d)<o?(l[h].d++,g-=1<<o-v-1):h++;for(;h>=0;h--)l[h].d==o&&g<0&&(l[h].d--,g++);g!=0&&console.log("debt left")},s.F._goodIndex=function(l,o){var d=0;return o[16|d]<=l&&(d|=16),o[8|d]<=l&&(d|=8),o[4|d]<=l&&(d|=4),o[2|d]<=l&&(d|=2),o[1|d]<=l&&(d|=1),d},s.F._writeLit=function(l,o,d,h){return s.F._putsF(d,h,o[l<<1]),h+o[1+(l<<1)]},s.F.inflate=function(l,o){var d=Uint8Array;if(l[0]==3&&l[1]==0)return o||new d(0);var h=s.F,m=h._bitsF,g=h._bitsE,v=h._decodeTiny,y=h.makeCodes,p=h.codes2map,w=h._get17,x=h.U,T=o==null;T&&(o=new d(l.length>>>2<<3));for(var N,A,Y=0,U=0,B=0,ae=0,k=0,I=0,O=0,C=0,G=0;Y==0;)if(Y=m(l,G,1),U=m(l,G+1,2),G+=3,U!=0){if(T&&(o=s.F._check(o,C+(1<<17))),U==1&&(N=x.flmap,A=x.fdmap,I=511,O=31),U==2){B=g(l,G,5)+257,ae=g(l,G+5,5)+1,k=g(l,G+10,4)+4,G+=14;for(var $=0;$<38;$+=2)x.itree[$]=0,x.itree[$+1]=0;var H=1;for($=0;$<k;$++){var M=g(l,G+3*$,3);x.itree[1+(x.ordr[$]<<1)]=M,M>H&&(H=M)}G+=3*k,y(x.itree,H),p(x.itree,H,x.imap),N=x.lmap,A=x.dmap,G=v(x.imap,(1<<H)-1,B+ae,l,G,x.ttree);var q=h._copyOut(x.ttree,0,B,x.ltree);I=(1<<q)-1;var X=h._copyOut(x.ttree,B,ae,x.dtree);O=(1<<X)-1,y(x.ltree,q),p(x.ltree,q,N),y(x.dtree,X),p(x.dtree,X,A)}for(;;){var S=N[w(l,G)&I];G+=15&S;var E=S>>>4;if(!(E>>>8))o[C++]=E;else{if(E==256)break;var W=C+E-254;if(E>264){var K=x.ldef[E-257];W=C+(K>>>3)+g(l,G,7&K),G+=7&K}var te=A[w(l,G)&O];G+=15&te;var R=te>>>4,z=x.ddef[R],F=(z>>>4)+m(l,G,15&z);for(G+=15&z,T&&(o=s.F._check(o,C+(1<<17)));C<W;)o[C]=o[C++-F],o[C]=o[C++-F],o[C]=o[C++-F],o[C]=o[C++-F];C=W}}}else{(7&G)!=0&&(G+=8-(7&G));var Q=4+(G>>>3),P=l[Q-4]|l[Q-3]<<8;T&&(o=s.F._check(o,C+P)),o.set(new d(l.buffer,l.byteOffset+Q,P),C),G=Q+P<<3,C+=P}return o.length==C?o:o.slice(0,C)},s.F._check=function(l,o){var d=l.length;if(o<=d)return l;var h=new Uint8Array(Math.max(d<<1,o));return h.set(l,0),h},s.F._decodeTiny=function(l,o,d,h,m,g){for(var v=s.F._bitsE,y=s.F._get17,p=0;p<d;){var w=l[y(h,m)&o];m+=15&w;var x=w>>>4;if(x<=15)g[p]=x,p++;else{var T=0,N=0;x==16?(N=3+v(h,m,2),m+=2,T=g[p-1]):x==17?(N=3+v(h,m,3),m+=3):x==18&&(N=11+v(h,m,7),m+=7);for(var A=p+N;p<A;)g[p]=T,p++}}return m},s.F._copyOut=function(l,o,d,h){for(var m=0,g=0,v=h.length>>>1;g<d;){var y=l[g+o];h[g<<1]=0,h[1+(g<<1)]=y,y>m&&(m=y),g++}for(;g<v;)h[g<<1]=0,h[1+(g<<1)]=0,g++;return m},s.F.makeCodes=function(l,o){for(var d,h,m,g,v=s.F.U,y=l.length,p=v.bl_count,w=0;w<=o;w++)p[w]=0;for(w=1;w<y;w+=2)p[l[w]]++;var x=v.next_code;for(d=0,p[0]=0,h=1;h<=o;h++)d=d+p[h-1]<<1,x[h]=d;for(m=0;m<y;m+=2)(g=l[m+1])!=0&&(l[m]=x[g],x[g]++)},s.F.codes2map=function(l,o,d){for(var h=l.length,m=s.F.U.rev15,g=0;g<h;g+=2)if(l[g+1]!=0)for(var v=g>>1,y=l[g+1],p=v<<4|y,w=o-y,x=l[g]<<w,T=x+(1<<w);x!=T;)d[m[x]>>>15-o]=p,x++},s.F.revCodes=function(l,o){for(var d=s.F.U.rev15,h=15-o,m=0;m<l.length;m+=2){var g=l[m]<<o-l[m+1];l[m]=d[g]>>>h}},s.F._putsE=function(l,o,d){d<<=7&o;var h=o>>>3;l[h]|=d,l[h+1]|=d>>>8},s.F._putsF=function(l,o,d){d<<=7&o;var h=o>>>3;l[h]|=d,l[h+1]|=d>>>8,l[h+2]|=d>>>16},s.F._bitsE=function(l,o,d){return(l[o>>>3]|l[1+(o>>>3)]<<8)>>>(7&o)&(1<<d)-1},s.F._bitsF=function(l,o,d){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16)>>>(7&o)&(1<<d)-1},s.F._get17=function(l,o){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16)>>>(7&o)},s.F._get25=function(l,o){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16|l[3+(o>>>3)]<<24)>>>(7&o)},s.F.U=(a=Uint16Array,i=Uint32Array,{next_code:new a(16),bl_count:new a(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new a(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new a(512),fltree:[],fdmap:new a(32),fdtree:[],lmap:new a(32768),ltree:[],ttree:[],dmap:new a(32768),dtree:[],imap:new a(512),itree:[],rev15:new a(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new a(65536),prev:new a(32768)}),(function(){for(var l=s.F.U,o=0;o<32768;o++){var d=o;d=(4278255360&(d=(4042322160&(d=(3435973836&(d=(2863311530&d)>>>1|(1431655765&d)<<1))>>>2|(858993459&d)<<2))>>>4|(252645135&d)<<4))>>>8|(16711935&d)<<8,l.rev15[o]=(d>>>16|d<<16)>>>17}function h(m,g,v){for(;g--!=0;)m.push(0,v)}for(o=0;o<32;o++)l.ldef[o]=l.of0[o]<<3|l.exb[o],l.ddef[o]=l.df0[o]<<4|l.dxb[o];h(l.fltree,144,8),h(l.fltree,112,9),h(l.fltree,24,7),h(l.fltree,8,8),s.F.makeCodes(l.fltree,9),s.F.codes2map(l.fltree,9,l.flmap),s.F.revCodes(l.fltree,9),h(l.fdtree,32,5),s.F.makeCodes(l.fdtree,5),s.F.codes2map(l.fdtree,5,l.fdmap),s.F.revCodes(l.fdtree,5),h(l.itree,19,0),h(l.ltree,286,0),h(l.dtree,30,0),h(l.ttree,320,0)})()})();var iw=tw({__proto__:null,default:_o},[_o]);const Pn=(function(){var u={nextZero(v,y){for(;v[y]!=0;)y++;return y},readUshort:(v,y)=>v[y]<<8|v[y+1],writeUshort(v,y,p){v[y]=p>>8&255,v[y+1]=255&p},readUint:(v,y)=>16777216*v[y]+(v[y+1]<<16|v[y+2]<<8|v[y+3]),writeUint(v,y,p){v[y]=p>>24&255,v[y+1]=p>>16&255,v[y+2]=p>>8&255,v[y+3]=255&p},readASCII(v,y,p){let w="";for(let x=0;x<p;x++)w+=String.fromCharCode(v[y+x]);return w},writeASCII(v,y,p){for(let w=0;w<p.length;w++)v[y+w]=p.charCodeAt(w)},readBytes(v,y,p){const w=[];for(let x=0;x<p;x++)w.push(v[y+x]);return w},pad:v=>v.length<2?`0${v}`:v,readUTF8(v,y,p){let w,x="";for(let T=0;T<p;T++)x+=`%${u.pad(v[y+T].toString(16))}`;try{w=decodeURIComponent(x)}catch{return u.readASCII(v,y,p)}return w}};function a(v,y,p,w){const x=y*p,T=o(w),N=Math.ceil(y*T/8),A=new Uint8Array(4*x),Y=new Uint32Array(A.buffer),{ctype:U}=w,{depth:B}=w,ae=u.readUshort;if(U==6){const K=x<<2;if(B==8)for(var k=0;k<K;k+=4)A[k]=v[k],A[k+1]=v[k+1],A[k+2]=v[k+2],A[k+3]=v[k+3];if(B==16)for(k=0;k<K;k++)A[k]=v[k<<1]}else if(U==2){const K=w.tabs.tRNS;if(K==null){if(B==8)for(k=0;k<x;k++){var I=3*k;Y[k]=255<<24|v[I+2]<<16|v[I+1]<<8|v[I]}if(B==16)for(k=0;k<x;k++)I=6*k,Y[k]=255<<24|v[I+4]<<16|v[I+2]<<8|v[I]}else{var O=K[0];const te=K[1],R=K[2];if(B==8)for(k=0;k<x;k++){var C=k<<2;I=3*k,Y[k]=255<<24|v[I+2]<<16|v[I+1]<<8|v[I],v[I]==O&&v[I+1]==te&&v[I+2]==R&&(A[C+3]=0)}if(B==16)for(k=0;k<x;k++)C=k<<2,I=6*k,Y[k]=255<<24|v[I+4]<<16|v[I+2]<<8|v[I],ae(v,I)==O&&ae(v,I+2)==te&&ae(v,I+4)==R&&(A[C+3]=0)}}else if(U==3){const K=w.tabs.PLTE,te=w.tabs.tRNS,R=te?te.length:0;if(B==1)for(var G=0;G<p;G++){var $=G*N,H=G*y;for(k=0;k<y;k++){C=H+k<<2;var M=3*(q=v[$+(k>>3)]>>7-((7&k)<<0)&1);A[C]=K[M],A[C+1]=K[M+1],A[C+2]=K[M+2],A[C+3]=q<R?te[q]:255}}if(B==2)for(G=0;G<p;G++)for($=G*N,H=G*y,k=0;k<y;k++)C=H+k<<2,M=3*(q=v[$+(k>>2)]>>6-((3&k)<<1)&3),A[C]=K[M],A[C+1]=K[M+1],A[C+2]=K[M+2],A[C+3]=q<R?te[q]:255;if(B==4)for(G=0;G<p;G++)for($=G*N,H=G*y,k=0;k<y;k++)C=H+k<<2,M=3*(q=v[$+(k>>1)]>>4-((1&k)<<2)&15),A[C]=K[M],A[C+1]=K[M+1],A[C+2]=K[M+2],A[C+3]=q<R?te[q]:255;if(B==8)for(k=0;k<x;k++){var q;C=k<<2,M=3*(q=v[k]),A[C]=K[M],A[C+1]=K[M+1],A[C+2]=K[M+2],A[C+3]=q<R?te[q]:255}}else if(U==4){if(B==8)for(k=0;k<x;k++){C=k<<2;var X=v[S=k<<1];A[C]=X,A[C+1]=X,A[C+2]=X,A[C+3]=v[S+1]}if(B==16)for(k=0;k<x;k++){var S;C=k<<2,X=v[S=k<<2],A[C]=X,A[C+1]=X,A[C+2]=X,A[C+3]=v[S+2]}}else if(U==0)for(O=w.tabs.tRNS?w.tabs.tRNS:-1,G=0;G<p;G++){const K=G*N,te=G*y;if(B==1)for(var E=0;E<y;E++){var W=(X=255*(v[K+(E>>>3)]>>>7-(7&E)&1))==255*O?0:255;Y[te+E]=W<<24|X<<16|X<<8|X}else if(B==2)for(E=0;E<y;E++)W=(X=85*(v[K+(E>>>2)]>>>6-((3&E)<<1)&3))==85*O?0:255,Y[te+E]=W<<24|X<<16|X<<8|X;else if(B==4)for(E=0;E<y;E++)W=(X=17*(v[K+(E>>>1)]>>>4-((1&E)<<2)&15))==17*O?0:255,Y[te+E]=W<<24|X<<16|X<<8|X;else if(B==8)for(E=0;E<y;E++)W=(X=v[K+E])==O?0:255,Y[te+E]=W<<24|X<<16|X<<8|X;else if(B==16)for(E=0;E<y;E++)X=v[K+(E<<1)],W=ae(v,K+(E<<1))==O?0:255,Y[te+E]=W<<24|X<<16|X<<8|X}return A}function i(v,y,p,w){const x=o(v),T=Math.ceil(p*x/8),N=new Uint8Array((T+1+v.interlace)*w);return y=v.tabs.CgBI?l(y,N):s(y,N),v.interlace==0?y=d(y,v,0,p,w):v.interlace==1&&(y=(function(Y,U){const B=U.width,ae=U.height,k=o(U),I=k>>3,O=Math.ceil(B*k/8),C=new Uint8Array(ae*O);let G=0;const $=[0,0,4,0,2,0,1],H=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],q=[8,8,4,4,2,2,1];let X=0;for(;X<7;){const E=M[X],W=q[X];let K=0,te=0,R=$[X];for(;R<ae;)R+=E,te++;let z=H[X];for(;z<B;)z+=W,K++;const F=Math.ceil(K*k/8);d(Y,U,G,K,te);let Q=0,P=$[X];for(;P<ae;){let de=H[X],me=G+Q*F<<3;for(;de<B;){var S;if(k==1&&(S=(S=Y[me>>3])>>7-(7&me)&1,C[P*O+(de>>3)]|=S<<7-((7&de)<<0)),k==2&&(S=(S=Y[me>>3])>>6-(7&me)&3,C[P*O+(de>>2)]|=S<<6-((3&de)<<1)),k==4&&(S=(S=Y[me>>3])>>4-(7&me)&15,C[P*O+(de>>1)]|=S<<4-((1&de)<<2)),k>=8){const Se=P*O+de*I;for(let be=0;be<I;be++)C[Se+be]=Y[(me>>3)+be]}me+=k,de+=W}Q++,P+=E}K*te!=0&&(G+=te*(1+F)),X+=1}return C})(y,v)),y}function s(v,y){return l(new Uint8Array(v.buffer,2,v.length-6),y)}var l=(function(){const v={H:{}};return v.H.N=function(y,p){const w=Uint8Array;let x,T,N=0,A=0,Y=0,U=0,B=0,ae=0,k=0,I=0,O=0;if(y[0]==3&&y[1]==0)return p||new w(0);const C=v.H,G=C.b,$=C.e,H=C.R,M=C.n,q=C.A,X=C.Z,S=C.m,E=p==null;for(E&&(p=new w(y.length>>>2<<5));N==0;)if(N=G(y,O,1),A=G(y,O+1,2),O+=3,A!=0){if(E&&(p=v.H.W(p,I+(1<<17))),A==1&&(x=S.J,T=S.h,ae=511,k=31),A==2){Y=$(y,O,5)+257,U=$(y,O+5,5)+1,B=$(y,O+10,4)+4,O+=14;let K=1;for(var W=0;W<38;W+=2)S.Q[W]=0,S.Q[W+1]=0;for(W=0;W<B;W++){const z=$(y,O+3*W,3);S.Q[1+(S.X[W]<<1)]=z,z>K&&(K=z)}O+=3*B,M(S.Q,K),q(S.Q,K,S.u),x=S.w,T=S.d,O=H(S.u,(1<<K)-1,Y+U,y,O,S.v);const te=C.V(S.v,0,Y,S.C);ae=(1<<te)-1;const R=C.V(S.v,Y,U,S.D);k=(1<<R)-1,M(S.C,te),q(S.C,te,x),M(S.D,R),q(S.D,R,T)}for(;;){const K=x[X(y,O)&ae];O+=15&K;const te=K>>>4;if(!(te>>>8))p[I++]=te;else{if(te==256)break;{let R=I+te-254;if(te>264){const de=S.q[te-257];R=I+(de>>>3)+$(y,O,7&de),O+=7&de}const z=T[X(y,O)&k];O+=15&z;const F=z>>>4,Q=S.c[F],P=(Q>>>4)+G(y,O,15&Q);for(O+=15&Q;I<R;)p[I]=p[I++-P],p[I]=p[I++-P],p[I]=p[I++-P],p[I]=p[I++-P];I=R}}}}else{(7&O)!=0&&(O+=8-(7&O));const K=4+(O>>>3),te=y[K-4]|y[K-3]<<8;E&&(p=v.H.W(p,I+te)),p.set(new w(y.buffer,y.byteOffset+K,te),I),O=K+te<<3,I+=te}return p.length==I?p:p.slice(0,I)},v.H.W=function(y,p){const w=y.length;if(p<=w)return y;const x=new Uint8Array(w<<1);return x.set(y,0),x},v.H.R=function(y,p,w,x,T,N){const A=v.H.e,Y=v.H.Z;let U=0;for(;U<w;){const B=y[Y(x,T)&p];T+=15&B;const ae=B>>>4;if(ae<=15)N[U]=ae,U++;else{let k=0,I=0;ae==16?(I=3+A(x,T,2),T+=2,k=N[U-1]):ae==17?(I=3+A(x,T,3),T+=3):ae==18&&(I=11+A(x,T,7),T+=7);const O=U+I;for(;U<O;)N[U]=k,U++}}return T},v.H.V=function(y,p,w,x){let T=0,N=0;const A=x.length>>>1;for(;N<w;){const Y=y[N+p];x[N<<1]=0,x[1+(N<<1)]=Y,Y>T&&(T=Y),N++}for(;N<A;)x[N<<1]=0,x[1+(N<<1)]=0,N++;return T},v.H.n=function(y,p){const w=v.H.m,x=y.length;let T,N,A,Y;const U=w.j;for(var B=0;B<=p;B++)U[B]=0;for(B=1;B<x;B+=2)U[y[B]]++;const ae=w.K;for(T=0,U[0]=0,N=1;N<=p;N++)T=T+U[N-1]<<1,ae[N]=T;for(A=0;A<x;A+=2)Y=y[A+1],Y!=0&&(y[A]=ae[Y],ae[Y]++)},v.H.A=function(y,p,w){const x=y.length,T=v.H.m.r;for(let N=0;N<x;N+=2)if(y[N+1]!=0){const A=N>>1,Y=y[N+1],U=A<<4|Y,B=p-Y;let ae=y[N]<<B;const k=ae+(1<<B);for(;ae!=k;)w[T[ae]>>>15-p]=U,ae++}},v.H.l=function(y,p){const w=v.H.m.r,x=15-p;for(let T=0;T<y.length;T+=2){const N=y[T]<<p-y[T+1];y[T]=w[N]>>>x}},v.H.M=function(y,p,w){w<<=7&p;const x=p>>>3;y[x]|=w,y[x+1]|=w>>>8},v.H.I=function(y,p,w){w<<=7&p;const x=p>>>3;y[x]|=w,y[x+1]|=w>>>8,y[x+2]|=w>>>16},v.H.e=function(y,p,w){return(y[p>>>3]|y[1+(p>>>3)]<<8)>>>(7&p)&(1<<w)-1},v.H.b=function(y,p,w){return(y[p>>>3]|y[1+(p>>>3)]<<8|y[2+(p>>>3)]<<16)>>>(7&p)&(1<<w)-1},v.H.Z=function(y,p){return(y[p>>>3]|y[1+(p>>>3)]<<8|y[2+(p>>>3)]<<16)>>>(7&p)},v.H.i=function(y,p){return(y[p>>>3]|y[1+(p>>>3)]<<8|y[2+(p>>>3)]<<16|y[3+(p>>>3)]<<24)>>>(7&p)},v.H.m=(function(){const y=Uint16Array,p=Uint32Array;return{K:new y(16),j:new y(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new y(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new y(512),_:[],h:new y(32),$:[],w:new y(32768),C:[],v:[],d:new y(32768),D:[],u:new y(512),Q:[],r:new y(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new y(65536),g:new y(32768)}})(),(function(){const y=v.H.m;for(var p=0;p<32768;p++){let x=p;x=(2863311530&x)>>>1|(1431655765&x)<<1,x=(3435973836&x)>>>2|(858993459&x)<<2,x=(4042322160&x)>>>4|(252645135&x)<<4,x=(4278255360&x)>>>8|(16711935&x)<<8,y.r[p]=(x>>>16|x<<16)>>>17}function w(x,T,N){for(;T--!=0;)x.push(0,N)}for(p=0;p<32;p++)y.q[p]=y.S[p]<<3|y.T[p],y.c[p]=y.p[p]<<4|y.z[p];w(y._,144,8),w(y._,112,9),w(y._,24,7),w(y._,8,8),v.H.n(y._,9),v.H.A(y._,9,y.J),v.H.l(y._,9),w(y.$,32,5),v.H.n(y.$,5),v.H.A(y.$,5,y.h),v.H.l(y.$,5),w(y.Q,19,0),w(y.C,286,0),w(y.D,30,0),w(y.v,320,0)})(),v.H.N})();function o(v){return[1,null,3,1,2,null,4][v.ctype]*v.depth}function d(v,y,p,w,x){let T=o(y);const N=Math.ceil(w*T/8);let A,Y;T=Math.ceil(T/8);let U=v[p],B=0;if(U>1&&(v[p]=[0,0,1][U-2]),U==3)for(B=T;B<N;B++)v[B+1]=v[B+1]+(v[B+1-T]>>>1)&255;for(let ae=0;ae<x;ae++)if(A=p+ae*N,Y=A+ae+1,U=v[Y-1],B=0,U==0)for(;B<N;B++)v[A+B]=v[Y+B];else if(U==1){for(;B<T;B++)v[A+B]=v[Y+B];for(;B<N;B++)v[A+B]=v[Y+B]+v[A+B-T]}else if(U==2)for(;B<N;B++)v[A+B]=v[Y+B]+v[A+B-N];else if(U==3){for(;B<T;B++)v[A+B]=v[Y+B]+(v[A+B-N]>>>1);for(;B<N;B++)v[A+B]=v[Y+B]+(v[A+B-N]+v[A+B-T]>>>1)}else{for(;B<T;B++)v[A+B]=v[Y+B]+h(0,v[A+B-N],0);for(;B<N;B++)v[A+B]=v[Y+B]+h(v[A+B-T],v[A+B-N],v[A+B-T-N])}return v}function h(v,y,p){const w=v+y-p,x=w-v,T=w-y,N=w-p;return x*x<=T*T&&x*x<=N*N?v:T*T<=N*N?y:p}function m(v,y,p){p.width=u.readUint(v,y),y+=4,p.height=u.readUint(v,y),y+=4,p.depth=v[y],y++,p.ctype=v[y],y++,p.compress=v[y],y++,p.filter=v[y],y++,p.interlace=v[y],y++}function g(v,y,p,w,x,T,N,A,Y){const U=Math.min(y,x),B=Math.min(p,T);let ae=0,k=0;for(let X=0;X<B;X++)for(let S=0;S<U;S++)if(N>=0&&A>=0?(ae=X*y+S<<2,k=(A+X)*x+N+S<<2):(ae=(-A+X)*y-N+S<<2,k=X*x+S<<2),Y==0)w[k]=v[ae],w[k+1]=v[ae+1],w[k+2]=v[ae+2],w[k+3]=v[ae+3];else if(Y==1){var I=v[ae+3]*.00392156862745098,O=v[ae]*I,C=v[ae+1]*I,G=v[ae+2]*I,$=w[k+3]*(1/255),H=w[k]*$,M=w[k+1]*$,q=w[k+2]*$;const E=1-I,W=I+$*E,K=W==0?0:1/W;w[k+3]=255*W,w[k+0]=(O+H*E)*K,w[k+1]=(C+M*E)*K,w[k+2]=(G+q*E)*K}else if(Y==2)I=v[ae+3],O=v[ae],C=v[ae+1],G=v[ae+2],$=w[k+3],H=w[k],M=w[k+1],q=w[k+2],I==$&&O==H&&C==M&&G==q?(w[k]=0,w[k+1]=0,w[k+2]=0,w[k+3]=0):(w[k]=O,w[k+1]=C,w[k+2]=G,w[k+3]=I);else if(Y==3){if(I=v[ae+3],O=v[ae],C=v[ae+1],G=v[ae+2],$=w[k+3],H=w[k],M=w[k+1],q=w[k+2],I==$&&O==H&&C==M&&G==q)continue;if(I<220&&$>20)return!1}return!0}return{decode:function(y){const p=new Uint8Array(y);let w=8;const x=u,T=x.readUshort,N=x.readUint,A={tabs:{},frames:[]},Y=new Uint8Array(p.length);let U,B=0,ae=0;const k=[137,80,78,71,13,10,26,10];for(var I=0;I<8;I++)if(p[I]!=k[I])throw"The input is not a PNG file!";for(;w<p.length;){const X=x.readUint(p,w);w+=4;const S=x.readASCII(p,w,4);if(w+=4,S=="IHDR")m(p,w,A);else if(S=="iCCP"){for(var O=w;p[O]!=0;)O++;x.readASCII(p,w,O-w),p[O+1];const E=p.slice(O+2,w+X);let W=null;try{W=s(E)}catch{W=l(E)}A.tabs[S]=W}else if(S=="CgBI")A.tabs[S]=p.slice(w,w+4);else if(S=="IDAT"){for(I=0;I<X;I++)Y[B+I]=p[w+I];B+=X}else if(S=="acTL")A.tabs[S]={num_frames:N(p,w),num_plays:N(p,w+4)},U=new Uint8Array(p.length);else if(S=="fcTL"){ae!=0&&((q=A.frames[A.frames.length-1]).data=i(A,U.slice(0,ae),q.rect.width,q.rect.height),ae=0);const E={x:N(p,w+12),y:N(p,w+16),width:N(p,w+4),height:N(p,w+8)};let W=T(p,w+22);W=T(p,w+20)/(W==0?100:W);const K={rect:E,delay:Math.round(1e3*W),dispose:p[w+24],blend:p[w+25]};A.frames.push(K)}else if(S=="fdAT"){for(I=0;I<X-4;I++)U[ae+I]=p[w+I+4];ae+=X-4}else if(S=="pHYs")A.tabs[S]=[x.readUint(p,w),x.readUint(p,w+4),p[w+8]];else if(S=="cHRM")for(A.tabs[S]=[],I=0;I<8;I++)A.tabs[S].push(x.readUint(p,w+4*I));else if(S=="tEXt"||S=="zTXt"){A.tabs[S]==null&&(A.tabs[S]={});var C=x.nextZero(p,w),G=x.readASCII(p,w,C-w),$=w+X-C-1;if(S=="tEXt")M=x.readASCII(p,C+1,$);else{var H=s(p.slice(C+2,C+2+$));M=x.readUTF8(H,0,H.length)}A.tabs[S][G]=M}else if(S=="iTXt"){A.tabs[S]==null&&(A.tabs[S]={}),C=0,O=w,C=x.nextZero(p,O),G=x.readASCII(p,O,C-O);const E=p[O=C+1];var M;p[O+1],O+=2,C=x.nextZero(p,O),x.readASCII(p,O,C-O),O=C+1,C=x.nextZero(p,O),x.readUTF8(p,O,C-O),$=X-((O=C+1)-w),E==0?M=x.readUTF8(p,O,$):(H=s(p.slice(O,O+$)),M=x.readUTF8(H,0,H.length)),A.tabs[S][G]=M}else if(S=="PLTE")A.tabs[S]=x.readBytes(p,w,X);else if(S=="hIST"){const E=A.tabs.PLTE.length/3;for(A.tabs[S]=[],I=0;I<E;I++)A.tabs[S].push(T(p,w+2*I))}else if(S=="tRNS")A.ctype==3?A.tabs[S]=x.readBytes(p,w,X):A.ctype==0?A.tabs[S]=T(p,w):A.ctype==2&&(A.tabs[S]=[T(p,w),T(p,w+2),T(p,w+4)]);else if(S=="gAMA")A.tabs[S]=x.readUint(p,w)/1e5;else if(S=="sRGB")A.tabs[S]=p[w];else if(S=="bKGD")A.ctype==0||A.ctype==4?A.tabs[S]=[T(p,w)]:A.ctype==2||A.ctype==6?A.tabs[S]=[T(p,w),T(p,w+2),T(p,w+4)]:A.ctype==3&&(A.tabs[S]=p[w]);else if(S=="IEND")break;w+=X,x.readUint(p,w),w+=4}var q;return ae!=0&&((q=A.frames[A.frames.length-1]).data=i(A,U.slice(0,ae),q.rect.width,q.rect.height)),A.data=i(A,Y,A.width,A.height),delete A.compress,delete A.interlace,delete A.filter,A},toRGBA8:function(y){const p=y.width,w=y.height;if(y.tabs.acTL==null)return[a(y.data,p,w,y).buffer];const x=[];y.frames[0].data==null&&(y.frames[0].data=y.data);const T=p*w*4,N=new Uint8Array(T),A=new Uint8Array(T),Y=new Uint8Array(T);for(let B=0;B<y.frames.length;B++){const ae=y.frames[B],k=ae.rect.x,I=ae.rect.y,O=ae.rect.width,C=ae.rect.height,G=a(ae.data,O,C,y);if(B!=0)for(var U=0;U<T;U++)Y[U]=N[U];if(ae.blend==0?g(G,O,C,N,p,w,k,I,0):ae.blend==1&&g(G,O,C,N,p,w,k,I,1),x.push(N.buffer.slice(0)),ae.dispose!=0){if(ae.dispose==1)g(A,O,C,N,p,w,k,I,0);else if(ae.dispose==2)for(U=0;U<T;U++)N[U]=Y[U]}}return x},_paeth:h,_copyTile:g,_bin:u}})();(function(){const{_copyTile:u}=Pn,{_bin:a}=Pn,i=Pn._paeth;var s={table:(function(){const O=new Uint32Array(256);for(let C=0;C<256;C++){let G=C;for(let $=0;$<8;$++)1&G?G=3988292384^G>>>1:G>>>=1;O[C]=G}return O})(),update(O,C,G,$){for(let H=0;H<$;H++)O=s.table[255&(O^C[G+H])]^O>>>8;return O},crc:(O,C,G)=>4294967295^s.update(4294967295,O,C,G)};function l(O,C,G,$){C[G]+=O[0]*$>>4,C[G+1]+=O[1]*$>>4,C[G+2]+=O[2]*$>>4,C[G+3]+=O[3]*$>>4}function o(O){return Math.max(0,Math.min(255,O))}function d(O,C){const G=O[0]-C[0],$=O[1]-C[1],H=O[2]-C[2],M=O[3]-C[3];return G*G+$*$+H*H+M*M}function h(O,C,G,$,H,M,q){q==null&&(q=1);const X=$.length,S=[];for(var E=0;E<X;E++){const P=$[E];S.push([P>>>0&255,P>>>8&255,P>>>16&255,P>>>24&255])}for(E=0;E<X;E++){let P=4294967295;for(var W=0,K=0;K<X;K++){var te=d(S[E],S[K]);K!=E&&te<P&&(P=te,W=K)}}const R=new Uint32Array(H.buffer),z=new Int16Array(C*G*4),F=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(E=0;E<F.length;E++)F[E]=255*((F[E]+.5)/16-.5);for(let P=0;P<G;P++)for(let de=0;de<C;de++){var Q;E=4*(P*C+de),q!=2?Q=[o(O[E]+z[E]),o(O[E+1]+z[E+1]),o(O[E+2]+z[E+2]),o(O[E+3]+z[E+3])]:(te=F[4*(3&P)+(3&de)],Q=[o(O[E]+te),o(O[E+1]+te),o(O[E+2]+te),o(O[E+3]+te)]),W=0;let me=16777215;for(K=0;K<X;K++){const ke=d(Q,S[K]);ke<me&&(me=ke,W=K)}const Se=S[W],be=[Q[0]-Se[0],Q[1]-Se[1],Q[2]-Se[2],Q[3]-Se[3]];q==1&&(de!=C-1&&l(be,z,E+4,7),P!=G-1&&(de!=0&&l(be,z,E+4*C-4,3),l(be,z,E+4*C,5),de!=C-1&&l(be,z,E+4*C+4,1))),M[E>>2]=W,R[E>>2]=$[W]}}function m(O,C,G,$,H){H==null&&(H={});const{crc:M}=s,q=a.writeUint,X=a.writeUshort,S=a.writeASCII;let E=8;const W=O.frames.length>1;let K,te=!1,R=33+(W?20:0);if(H.sRGB!=null&&(R+=13),H.pHYs!=null&&(R+=21),H.iCCP!=null&&(K=pako.deflate(H.iCCP),R+=21+K.length+4),O.ctype==3){for(var z=O.plte.length,F=0;F<z;F++)O.plte[F]>>>24!=255&&(te=!0);R+=8+3*z+4+(te?8+1*z+4:0)}for(var Q=0;Q<O.frames.length;Q++)W&&(R+=38),R+=(Se=O.frames[Q]).cimg.length+12,Q!=0&&(R+=4);R+=12;const P=new Uint8Array(R),de=[137,80,78,71,13,10,26,10];for(F=0;F<8;F++)P[F]=de[F];if(q(P,E,13),E+=4,S(P,E,"IHDR"),E+=4,q(P,E,C),E+=4,q(P,E,G),E+=4,P[E]=O.depth,E++,P[E]=O.ctype,E++,P[E]=0,E++,P[E]=0,E++,P[E]=0,E++,q(P,E,M(P,E-17,17)),E+=4,H.sRGB!=null&&(q(P,E,1),E+=4,S(P,E,"sRGB"),E+=4,P[E]=H.sRGB,E++,q(P,E,M(P,E-5,5)),E+=4),H.iCCP!=null){const be=13+K.length;q(P,E,be),E+=4,S(P,E,"iCCP"),E+=4,S(P,E,"ICC profile"),E+=11,E+=2,P.set(K,E),E+=K.length,q(P,E,M(P,E-(be+4),be+4)),E+=4}if(H.pHYs!=null&&(q(P,E,9),E+=4,S(P,E,"pHYs"),E+=4,q(P,E,H.pHYs[0]),E+=4,q(P,E,H.pHYs[1]),E+=4,P[E]=H.pHYs[2],E++,q(P,E,M(P,E-13,13)),E+=4),W&&(q(P,E,8),E+=4,S(P,E,"acTL"),E+=4,q(P,E,O.frames.length),E+=4,q(P,E,H.loop!=null?H.loop:0),E+=4,q(P,E,M(P,E-12,12)),E+=4),O.ctype==3){for(q(P,E,3*(z=O.plte.length)),E+=4,S(P,E,"PLTE"),E+=4,F=0;F<z;F++){const be=3*F,ke=O.plte[F],Ve=255&ke,et=ke>>>8&255,Oe=ke>>>16&255;P[E+be+0]=Ve,P[E+be+1]=et,P[E+be+2]=Oe}if(E+=3*z,q(P,E,M(P,E-3*z-4,3*z+4)),E+=4,te){for(q(P,E,z),E+=4,S(P,E,"tRNS"),E+=4,F=0;F<z;F++)P[E+F]=O.plte[F]>>>24&255;E+=z,q(P,E,M(P,E-z-4,z+4)),E+=4}}let me=0;for(Q=0;Q<O.frames.length;Q++){var Se=O.frames[Q];W&&(q(P,E,26),E+=4,S(P,E,"fcTL"),E+=4,q(P,E,me++),E+=4,q(P,E,Se.rect.width),E+=4,q(P,E,Se.rect.height),E+=4,q(P,E,Se.rect.x),E+=4,q(P,E,Se.rect.y),E+=4,X(P,E,$[Q]),E+=2,X(P,E,1e3),E+=2,P[E]=Se.dispose,E++,P[E]=Se.blend,E++,q(P,E,M(P,E-30,30)),E+=4);const be=Se.cimg;q(P,E,(z=be.length)+(Q==0?0:4)),E+=4;const ke=E;S(P,E,Q==0?"IDAT":"fdAT"),E+=4,Q!=0&&(q(P,E,me++),E+=4),P.set(be,E),E+=z,q(P,E,M(P,ke,E-ke)),E+=4}return q(P,E,0),E+=4,S(P,E,"IEND"),E+=4,q(P,E,M(P,E-4,4)),E+=4,P.buffer}function g(O,C,G){for(let $=0;$<O.frames.length;$++){const H=O.frames[$];H.rect.width;const M=H.rect.height,q=new Uint8Array(M*H.bpl+M);H.cimg=w(H.img,M,H.bpp,H.bpl,q,C,G)}}function v(O,C,G,$,H){const M=H[0],q=H[1],X=H[2],S=H[3],E=H[4],W=H[5];let K=6,te=8,R=255;for(var z=0;z<O.length;z++){const vt=new Uint8Array(O[z]);for(var F=vt.length,Q=0;Q<F;Q+=4)R&=vt[Q+3]}const P=R!=255,de=(function(Xe,Ye,ut,at,tt,Bt){const st=[];for(var je=0;je<Xe.length;je++){const gt=new Uint8Array(Xe[je]),Yt=new Uint32Array(gt.buffer);var Lt;let Ht=0,Tt=0,Qe=Ye,yt=ut,pt=at?1:0;if(je!=0){const la=Bt||at||je==1||st[je-2].dispose!=0?1:2;let Ln=0,Aa=1e9;for(let an=0;an<la;an++){var At=new Uint8Array(Xe[je-1-an]);const Jn=new Uint32Array(Xe[je-1-an]);let qt=Ye,Ot=ut,Ft=-1,rn=-1;for(let Wt=0;Wt<ut;Wt++)for(let en=0;en<Ye;en++)Yt[ht=Wt*Ye+en]!=Jn[ht]&&(en<qt&&(qt=en),en>Ft&&(Ft=en),Wt<Ot&&(Ot=Wt),Wt>rn&&(rn=Wt));Ft==-1&&(qt=Ot=Ft=rn=0),tt&&((1&qt)==1&&qt--,(1&Ot)==1&&Ot--);const si=(Ft-qt+1)*(rn-Ot+1);si<Aa&&(Aa=si,Ln=an,Ht=qt,Tt=Ot,Qe=Ft-qt+1,yt=rn-Ot+1)}At=new Uint8Array(Xe[je-1-Ln]),Ln==1&&(st[je-1].dispose=2),Lt=new Uint8Array(Qe*yt*4),u(At,Ye,ut,Lt,Qe,yt,-Ht,-Tt,0),pt=u(gt,Ye,ut,Lt,Qe,yt,-Ht,-Tt,3)?1:0,pt==1?p(gt,Ye,ut,Lt,{x:Ht,y:Tt,width:Qe,height:yt}):u(gt,Ye,ut,Lt,Qe,yt,-Ht,-Tt,0)}else Lt=gt.slice(0);st.push({rect:{x:Ht,y:Tt,width:Qe,height:yt},img:Lt,blend:pt,dispose:0})}if(at)for(je=0;je<st.length;je++){if((gn=st[je]).blend==1)continue;const gt=gn.rect,Yt=st[je-1].rect,Ht=Math.min(gt.x,Yt.x),Tt=Math.min(gt.y,Yt.y),Qe={x:Ht,y:Tt,width:Math.max(gt.x+gt.width,Yt.x+Yt.width)-Ht,height:Math.max(gt.y+gt.height,Yt.y+Yt.height)-Tt};st[je-1].dispose=1,je-1!=0&&y(Xe,Ye,ut,st,je-1,Qe,tt),y(Xe,Ye,ut,st,je,Qe,tt)}let nn=0;if(Xe.length!=1)for(var ht=0;ht<st.length;ht++){var gn;nn+=(gn=st[ht]).rect.width*gn.rect.height}return st})(O,C,G,M,q,X),me={},Se=[],be=[];if($!=0){const vt=[];for(Q=0;Q<de.length;Q++)vt.push(de[Q].img.buffer);const Xe=(function(tt){let Bt=0;for(var st=0;st<tt.length;st++)Bt+=tt[st].byteLength;const je=new Uint8Array(Bt);let Lt=0;for(st=0;st<tt.length;st++){const At=new Uint8Array(tt[st]),nn=At.length;for(let ht=0;ht<nn;ht+=4){let gn=At[ht],gt=At[ht+1],Yt=At[ht+2];const Ht=At[ht+3];Ht==0&&(gn=gt=Yt=0),je[Lt+ht]=gn,je[Lt+ht+1]=gt,je[Lt+ht+2]=Yt,je[Lt+ht+3]=Ht}Lt+=nn}return je.buffer})(vt),Ye=T(Xe,$);for(Q=0;Q<Ye.plte.length;Q++)Se.push(Ye.plte[Q].est.rgba);let ut=0;for(Q=0;Q<de.length;Q++){const at=(Ve=de[Q]).img.length;var ke=new Uint8Array(Ye.inds.buffer,ut>>2,at>>2);be.push(ke);const tt=new Uint8Array(Ye.abuf,ut,at);W&&h(Ve.img,Ve.rect.width,Ve.rect.height,Se,tt,ke),Ve.img.set(tt),ut+=at}}else for(z=0;z<de.length;z++){var Ve=de[z];const vt=new Uint32Array(Ve.img.buffer);var et=Ve.rect.width;for(F=vt.length,ke=new Uint8Array(F),be.push(ke),Q=0;Q<F;Q++){const Xe=vt[Q];if(Q!=0&&Xe==vt[Q-1])ke[Q]=ke[Q-1];else if(Q>et&&Xe==vt[Q-et])ke[Q]=ke[Q-et];else{let Ye=me[Xe];if(Ye==null&&(me[Xe]=Ye=Se.length,Se.push(Xe),Se.length>=300))break;ke[Q]=Ye}}}const Oe=Se.length;for(Oe<=256&&E==0&&(te=Oe<=2?1:Oe<=4?2:Oe<=16?4:8,te=Math.max(te,S)),z=0;z<de.length;z++){(Ve=de[z]).rect.x,Ve.rect.y,et=Ve.rect.width;const vt=Ve.rect.height;let Xe=Ve.img;new Uint32Array(Xe.buffer);let Ye=4*et,ut=4;if(Oe<=256&&E==0){Ye=Math.ceil(te*et/8);var xt=new Uint8Array(Ye*vt);const at=be[z];for(let tt=0;tt<vt;tt++){Q=tt*Ye;const Bt=tt*et;if(te==8)for(var Ie=0;Ie<et;Ie++)xt[Q+Ie]=at[Bt+Ie];else if(te==4)for(Ie=0;Ie<et;Ie++)xt[Q+(Ie>>1)]|=at[Bt+Ie]<<4-4*(1&Ie);else if(te==2)for(Ie=0;Ie<et;Ie++)xt[Q+(Ie>>2)]|=at[Bt+Ie]<<6-2*(3&Ie);else if(te==1)for(Ie=0;Ie<et;Ie++)xt[Q+(Ie>>3)]|=at[Bt+Ie]<<7-1*(7&Ie)}Xe=xt,K=3,ut=1}else if(P==0&&de.length==1){xt=new Uint8Array(et*vt*3);const at=et*vt;for(Q=0;Q<at;Q++){const tt=3*Q,Bt=4*Q;xt[tt]=Xe[Bt],xt[tt+1]=Xe[Bt+1],xt[tt+2]=Xe[Bt+2]}Xe=xt,K=2,ut=3,Ye=3*et}Ve.img=Xe,Ve.bpl=Ye,Ve.bpp=ut}return{ctype:K,depth:te,plte:Se,frames:de}}function y(O,C,G,$,H,M,q){const X=Uint8Array,S=Uint32Array,E=new X(O[H-1]),W=new S(O[H-1]),K=H+1<O.length?new X(O[H+1]):null,te=new X(O[H]),R=new S(te.buffer);let z=C,F=G,Q=-1,P=-1;for(let me=0;me<M.height;me++)for(let Se=0;Se<M.width;Se++){const be=M.x+Se,ke=M.y+me,Ve=ke*C+be,et=R[Ve];et==0||$[H-1].dispose==0&&W[Ve]==et&&(K==null||K[4*Ve+3]!=0)||(be<z&&(z=be),be>Q&&(Q=be),ke<F&&(F=ke),ke>P&&(P=ke))}Q==-1&&(z=F=Q=P=0),q&&((1&z)==1&&z--,(1&F)==1&&F--),M={x:z,y:F,width:Q-z+1,height:P-F+1};const de=$[H];de.rect=M,de.blend=1,de.img=new Uint8Array(M.width*M.height*4),$[H-1].dispose==0?(u(E,C,G,de.img,M.width,M.height,-M.x,-M.y,0),p(te,C,G,de.img,M)):u(te,C,G,de.img,M.width,M.height,-M.x,-M.y,0)}function p(O,C,G,$,H){u(O,C,G,$,H.width,H.height,-H.x,-H.y,2)}function w(O,C,G,$,H,M,q){const X=[];let S,E=[0,1,2,3,4];M!=-1?E=[M]:(C*$>5e5||G==1)&&(E=[0]),q&&(S={level:0});const W=iw;for(var K=0;K<E.length;K++){for(let z=0;z<C;z++)x(H,O,z,$,G,E[K]);X.push(W.deflate(H,S))}let te,R=1e9;for(K=0;K<X.length;K++)X[K].length<R&&(te=K,R=X[K].length);return X[te]}function x(O,C,G,$,H,M){const q=G*$;let X=q+G;if(O[X]=M,X++,M==0)if($<500)for(var S=0;S<$;S++)O[X+S]=C[q+S];else O.set(new Uint8Array(C.buffer,q,$),X);else if(M==1){for(S=0;S<H;S++)O[X+S]=C[q+S];for(S=H;S<$;S++)O[X+S]=C[q+S]-C[q+S-H]+256&255}else if(G==0){for(S=0;S<H;S++)O[X+S]=C[q+S];if(M==2)for(S=H;S<$;S++)O[X+S]=C[q+S];if(M==3)for(S=H;S<$;S++)O[X+S]=C[q+S]-(C[q+S-H]>>1)+256&255;if(M==4)for(S=H;S<$;S++)O[X+S]=C[q+S]-i(C[q+S-H],0,0)+256&255}else{if(M==2)for(S=0;S<$;S++)O[X+S]=C[q+S]+256-C[q+S-$]&255;if(M==3){for(S=0;S<H;S++)O[X+S]=C[q+S]+256-(C[q+S-$]>>1)&255;for(S=H;S<$;S++)O[X+S]=C[q+S]+256-(C[q+S-$]+C[q+S-H]>>1)&255}if(M==4){for(S=0;S<H;S++)O[X+S]=C[q+S]+256-i(0,C[q+S-$],0)&255;for(S=H;S<$;S++)O[X+S]=C[q+S]+256-i(C[q+S-H],C[q+S-$],C[q+S-H-$])&255}}}function T(O,C){const G=new Uint8Array(O),$=G.slice(0),H=new Uint32Array($.buffer),M=N($,C),q=M[0],X=M[1],S=G.length,E=new Uint8Array(S>>2);let W;if(G.length<2e7)for(var K=0;K<S;K+=4)W=A(q,te=G[K]*(1/255),R=G[K+1]*(1/255),z=G[K+2]*(1/255),F=G[K+3]*(1/255)),E[K>>2]=W.ind,H[K>>2]=W.est.rgba;else for(K=0;K<S;K+=4){var te=G[K]*.00392156862745098,R=G[K+1]*(1/255),z=G[K+2]*(1/255),F=G[K+3]*(1/255);for(W=q;W.left;)W=Y(W.est,te,R,z,F)<=0?W.left:W.right;E[K>>2]=W.ind,H[K>>2]=W.est.rgba}return{abuf:$.buffer,inds:E,plte:X}}function N(O,C,G){G==null&&(G=1e-4);const $=new Uint32Array(O.buffer),H={i0:0,i1:O.length,bst:null,est:null,tdst:0,left:null,right:null};H.bst=ae(O,H.i0,H.i1),H.est=k(H.bst);const M=[H];for(;M.length<C;){let X=0,S=0;for(var q=0;q<M.length;q++)M[q].est.L>X&&(X=M[q].est.L,S=q);if(X<G)break;const E=M[S],W=U(O,$,E.i0,E.i1,E.est.e,E.est.eMq255);if(E.i0>=W||E.i1<=W){E.est.L=0;continue}const K={i0:E.i0,i1:W,bst:null,est:null,tdst:0,left:null,right:null};K.bst=ae(O,K.i0,K.i1),K.est=k(K.bst);const te={i0:W,i1:E.i1,bst:null,est:null,tdst:0,left:null,right:null};for(te.bst={R:[],m:[],N:E.bst.N-K.bst.N},q=0;q<16;q++)te.bst.R[q]=E.bst.R[q]-K.bst.R[q];for(q=0;q<4;q++)te.bst.m[q]=E.bst.m[q]-K.bst.m[q];te.est=k(te.bst),E.left=K,E.right=te,M[S]=K,M.push(te)}for(M.sort(((X,S)=>S.bst.N-X.bst.N)),q=0;q<M.length;q++)M[q].ind=q;return[H,M]}function A(O,C,G,$,H){if(O.left==null)return O.tdst=(function(K,te,R,z,F){const Q=te-K[0],P=R-K[1],de=z-K[2],me=F-K[3];return Q*Q+P*P+de*de+me*me})(O.est.q,C,G,$,H),O;const M=Y(O.est,C,G,$,H);let q=O.left,X=O.right;M>0&&(q=O.right,X=O.left);const S=A(q,C,G,$,H);if(S.tdst<=M*M)return S;const E=A(X,C,G,$,H);return E.tdst<S.tdst?E:S}function Y(O,C,G,$,H){const{e:M}=O;return M[0]*C+M[1]*G+M[2]*$+M[3]*H-O.eMq}function U(O,C,G,$,H,M){for($-=4;G<$;){for(;B(O,G,H)<=M;)G+=4;for(;B(O,$,H)>M;)$-=4;if(G>=$)break;const q=C[G>>2];C[G>>2]=C[$>>2],C[$>>2]=q,G+=4,$-=4}for(;B(O,G,H)>M;)G-=4;return G+4}function B(O,C,G){return O[C]*G[0]+O[C+1]*G[1]+O[C+2]*G[2]+O[C+3]*G[3]}function ae(O,C,G){const $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],H=[0,0,0,0],M=G-C>>2;for(let q=C;q<G;q+=4){const X=O[q]*.00392156862745098,S=O[q+1]*(1/255),E=O[q+2]*(1/255),W=O[q+3]*(1/255);H[0]+=X,H[1]+=S,H[2]+=E,H[3]+=W,$[0]+=X*X,$[1]+=X*S,$[2]+=X*E,$[3]+=X*W,$[5]+=S*S,$[6]+=S*E,$[7]+=S*W,$[10]+=E*E,$[11]+=E*W,$[15]+=W*W}return $[4]=$[1],$[8]=$[2],$[9]=$[6],$[12]=$[3],$[13]=$[7],$[14]=$[11],{R:$,m:H,N:M}}function k(O){const{R:C}=O,{m:G}=O,{N:$}=O,H=G[0],M=G[1],q=G[2],X=G[3],S=$==0?0:1/$,E=[C[0]-H*H*S,C[1]-H*M*S,C[2]-H*q*S,C[3]-H*X*S,C[4]-M*H*S,C[5]-M*M*S,C[6]-M*q*S,C[7]-M*X*S,C[8]-q*H*S,C[9]-q*M*S,C[10]-q*q*S,C[11]-q*X*S,C[12]-X*H*S,C[13]-X*M*S,C[14]-X*q*S,C[15]-X*X*S],W=E,K=I;let te=[Math.random(),Math.random(),Math.random(),Math.random()],R=0,z=0;if($!=0)for(let Q=0;Q<16&&(te=K.multVec(W,te),z=Math.sqrt(K.dot(te,te)),te=K.sml(1/z,te),!(Q!=0&&Math.abs(z-R)<1e-9));Q++)R=z;const F=[H*S,M*S,q*S,X*S];return{Cov:E,q:F,e:te,L:R,eMq255:K.dot(K.sml(255,F),te),eMq:K.dot(te,F),rgba:(Math.round(255*F[3])<<24|Math.round(255*F[2])<<16|Math.round(255*F[1])<<8|Math.round(255*F[0])<<0)>>>0}}var I={multVec:(O,C)=>[O[0]*C[0]+O[1]*C[1]+O[2]*C[2]+O[3]*C[3],O[4]*C[0]+O[5]*C[1]+O[6]*C[2]+O[7]*C[3],O[8]*C[0]+O[9]*C[1]+O[10]*C[2]+O[11]*C[3],O[12]*C[0]+O[13]*C[1]+O[14]*C[2]+O[15]*C[3]],dot:(O,C)=>O[0]*C[0]+O[1]*C[1]+O[2]*C[2]+O[3]*C[3],sml:(O,C)=>[O*C[0],O*C[1],O*C[2],O*C[3]]};Pn.encode=function(C,G,$,H,M,q,X){H==null&&(H=0),X==null&&(X=!1);const S=v(C,G,$,H,[!1,!1,!1,0,X,!1]);return g(S,-1),m(S,G,$,M,q)},Pn.encodeLL=function(C,G,$,H,M,q,X,S){const E={ctype:0+(H==1?0:2)+(M==0?0:4),depth:q,frames:[]},W=(H+M)*q,K=W*G;for(let te=0;te<C.length;te++)E.frames.push({rect:{x:0,y:0,width:G,height:$},img:new Uint8Array(C[te]),blend:0,dispose:1,bpp:Math.ceil(W/8),bpl:Math.ceil(K/8)});return g(E,0,!0),m(E,G,$,X,S)},Pn.encode.compress=v,Pn.encode.dither=h,Pn.quantize=T,Pn.quantize.getKDtree=N,Pn.quantize.getNearest=A})();const Xm={toArrayBuffer(u,a){const i=u.width,s=u.height,l=i<<2,o=u.getContext("2d").getImageData(0,0,i,s),d=new Uint32Array(o.data.buffer),h=(32*i+31)/32<<2,m=h*s,g=122+m,v=new ArrayBuffer(g),y=new DataView(v),p=1<<20;let w,x,T,N,A=p,Y=0,U=0,B=0;function ae(O){y.setUint16(U,O,!0),U+=2}function k(O){y.setUint32(U,O,!0),U+=4}function I(O){U+=O}ae(19778),k(g),I(4),k(122),k(108),k(i),k(-s>>>0),ae(1),ae(32),k(3),k(m),k(2835),k(2835),I(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),(function O(){for(;Y<s&&A>0;){for(N=122+Y*h,w=0;w<l;)A--,x=d[B++],T=x>>>24,y.setUint32(N+w,x<<8|T),w+=4;Y++}B<d.length?(A=p,setTimeout(O,Xm._dly)):a(v)})()},toBlob(u,a){this.toArrayBuffer(u,(i=>{a(new Blob([i],{type:"image/bmp"}))}))},_dly:9};var hn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},rw={[hn.CHROME]:16384,[hn.FIREFOX]:11180,[hn.DESKTOP_SAFARI]:16384,[hn.IE]:8192,[hn.IOS]:4096,[hn.ETC]:8192};const Od=typeof window<"u",Qm=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,xo=Od&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),sw=(Od||Qm)&&(xo&&xo.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Jm=(Od||Qm)&&(xo&&xo.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Cd(u,a,i=Date.now()){return new Promise((s=>{const l=u.split(","),o=l[0].match(/:(.*?);/)[1],d=globalThis.atob(l[1]);let h=d.length;const m=new Uint8Array(h);for(;h--;)m[h]=d.charCodeAt(h);const g=new Blob([m],{type:o});g.name=a,g.lastModified=i,s(g)}))}function Zm(u){return new Promise(((a,i)=>{const s=new Jm;s.onload=()=>a(s.result),s.onerror=l=>i(l),s.readAsDataURL(u)}))}function Fm(u){return new Promise(((a,i)=>{const s=new Image;s.onload=()=>a(s),s.onerror=l=>i(l),s.src=u}))}function Li(){if(Li.cachedResult!==void 0)return Li.cachedResult;let u=hn.ETC;const{userAgent:a}=navigator;return/Chrom(e|ium)/i.test(a)?u=hn.CHROME:/iP(ad|od|hone)/i.test(a)&&/WebKit/i.test(a)?u=hn.IOS:/Safari/i.test(a)?u=hn.DESKTOP_SAFARI:/Firefox/i.test(a)?u=hn.FIREFOX:(/MSIE/i.test(a)||document.documentMode)&&(u=hn.IE),Li.cachedResult=u,Li.cachedResult}function Wm(u,a){const i=Li(),s=rw[i];let l=u,o=a,d=l*o;const h=l>o?o/l:l/o;for(;d>s*s;){const m=(s+l)/2,g=(s+o)/2;m<g?(o=g,l=g*h):(o=m*h,l=m),d=l*o}return{width:l,height:o}}function zo(u,a){let i,s;try{if(i=new OffscreenCanvas(u,a),s=i.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),s=i.getContext("2d")}return i.width=u,i.height=a,[i,s]}function ev(u,a){const{width:i,height:s}=Wm(u.width,u.height),[l,o]=zo(i,s);return a&&/jpe?g/.test(a)&&(o.fillStyle="white",o.fillRect(0,0,l.width,l.height)),o.drawImage(u,0,0,l.width,l.height),l}function go(){return go.cachedResult!==void 0||(go.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),go.cachedResult}function So(u,a={}){return new Promise((function(i,s){let l,o;var d=function(){try{return o=ev(l,a.fileType||u.type),i([l,o])}catch(m){return s(m)}},h=function(m){try{var g=function(v){try{throw v}catch(y){return s(y)}};try{let v;return Zm(u).then((function(y){try{return v=y,Fm(v).then((function(p){try{return l=p,(function(){try{return d()}catch(w){return s(w)}})()}catch(w){return g(w)}}),g)}catch(p){return g(p)}}),g)}catch(v){g(v)}}catch(v){return s(v)}};try{if(go()||[hn.DESKTOP_SAFARI,hn.MOBILE_SAFARI].includes(Li()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(u).then((function(m){try{return l=m,d()}catch{return h()}}),h)}catch{h()}}))}function Eo(u,a,i,s,l=1){return new Promise((function(o,d){let h;if(a==="image/png"){let y,p,w;return y=u.getContext("2d"),{data:p}=y.getImageData(0,0,u.width,u.height),w=Pn.encode([p.buffer],u.width,u.height,4096*l),h=new Blob([w],{type:a}),h.name=i,h.lastModified=s,m.call(this)}{let y=function(){return m.call(this)};var g=y;if(a==="image/bmp")return new Promise((p=>Xm.toBlob(u,p))).then((function(p){try{return h=p,h.name=i,h.lastModified=s,y.call(this)}catch(w){return d(w)}}).bind(this),d);{let p=function(){return y.call(this)};var v=p;if(typeof OffscreenCanvas=="function"&&u instanceof OffscreenCanvas)return u.convertToBlob({type:a,quality:l}).then((function(w){try{return h=w,h.name=i,h.lastModified=s,p.call(this)}catch(x){return d(x)}}).bind(this),d);{let w;return w=u.toDataURL(a,l),Cd(w,i,s).then((function(x){try{return h=x,p.call(this)}catch(T){return d(T)}}).bind(this),d)}}}function m(){return o(h)}}))}function sa(u){u.width=0,u.height=0}function Rr(){return new Promise((function(u,a){let i,s,l,o;return Rr.cachedResult!==void 0?u(Rr.cachedResult):Cd("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(d){try{return i=d,So(i).then((function(h){try{return s=h[1],Eo(s,i.type,i.name,i.lastModified).then((function(m){try{return l=m,sa(s),So(l).then((function(g){try{return o=g[0],Rr.cachedResult=o.width===1&&o.height===2,u(Rr.cachedResult)}catch(v){return a(v)}}),a)}catch(g){return a(g)}}),a)}catch(m){return a(m)}}),a)}catch(h){return a(h)}}),a)}))}function tv(u){return new Promise(((a,i)=>{const s=new Jm;s.onload=l=>{const o=new DataView(l.target.result);if(o.getUint16(0,!1)!=65496)return a(-2);const d=o.byteLength;let h=2;for(;h<d;){if(o.getUint16(h+2,!1)<=8)return a(-1);const m=o.getUint16(h,!1);if(h+=2,m==65505){if(o.getUint32(h+=2,!1)!=1165519206)return a(-1);const g=o.getUint16(h+=6,!1)==18761;h+=o.getUint32(h+4,g);const v=o.getUint16(h,g);h+=2;for(let y=0;y<v;y++)if(o.getUint16(h+12*y,g)==274)return a(o.getUint16(h+12*y+8,g))}else{if((65280&m)!=65280)break;h+=o.getUint16(h,!1)}}return a(-1)},s.onerror=l=>i(l),s.readAsArrayBuffer(u)}))}function nv(u,a){const{width:i}=u,{height:s}=u,{maxWidthOrHeight:l}=a;let o,d=u;return isFinite(l)&&(i>l||s>l)&&([d,o]=zo(i,s),i>s?(d.width=l,d.height=s/i*l):(d.width=i/s*l,d.height=l),o.drawImage(u,0,0,d.width,d.height),sa(u)),d}function av(u,a){const{width:i}=u,{height:s}=u,[l,o]=zo(i,s);switch(a>4&&a<9?(l.width=s,l.height=i):(l.width=i,l.height=s),a){case 2:o.transform(-1,0,0,1,i,0);break;case 3:o.transform(-1,0,0,-1,i,s);break;case 4:o.transform(1,0,0,-1,0,s);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,s,0);break;case 7:o.transform(0,-1,-1,0,s,i);break;case 8:o.transform(0,-1,1,0,0,i)}return o.drawImage(u,0,0,i,s),sa(u),l}function Y0(u,a,i=0){return new Promise((function(s,l){let o,d,h,m,g,v,y,p,w,x,T,N,A,Y,U,B,ae,k,I,O;function C($=5){if(a.signal&&a.signal.aborted)throw a.signal.reason;o+=$,a.onProgress(Math.min(o,100))}function G($){if(a.signal&&a.signal.aborted)throw a.signal.reason;o=Math.min(Math.max($,o),100),a.onProgress(o)}return o=i,d=a.maxIteration||10,h=1024*a.maxSizeMB*1024,C(),So(u,a).then((function($){try{return[,m]=$,C(),g=nv(m,a),C(),new Promise((function(H,M){var q;if(!(q=a.exifOrientation))return tv(u).then((function(S){try{return q=S,X.call(this)}catch(E){return M(E)}}).bind(this),M);function X(){return H(q)}return X.call(this)})).then((function(H){try{return v=H,C(),Rr().then((function(M){try{return y=M?g:av(g,v),C(),p=a.initialQuality||1,w=a.fileType||u.type,Eo(y,w,u.name,u.lastModified,p).then((function(q){try{{let W=function(){if(d--&&(U>h||U>A)){let te,R;return te=O?.95*I.width:I.width,R=O?.95*I.height:I.height,[ae,k]=zo(te,R),k.drawImage(I,0,0,te,R),p*=w==="image/png"?.85:.95,Eo(ae,w,u.name,u.lastModified,p).then((function(z){try{return B=z,sa(I),I=ae,U=B.size,G(Math.min(99,Math.floor((Y-U)/(Y-h)*100))),W}catch(F){return l(F)}}),l)}return[1]},K=function(){return sa(I),sa(ae),sa(g),sa(y),sa(m),G(100),s(B)};var S=W,E=K;if(x=q,C(),T=x.size>h,N=x.size>u.size,!T&&!N)return G(100),s(x);var X;return A=u.size,Y=x.size,U=Y,I=y,O=!a.alwaysKeepResolution&&T,(X=(function(te){for(;te;){if(te.then)return void te.then(X,l);try{if(te.pop){if(te.length)return te.pop()?K.call(this):te;te=W}else te=te.call(this)}catch(R){return l(R)}}}).bind(this))(W)}}catch(W){return l(W)}}).bind(this),l)}catch(q){return l(q)}}).bind(this),l)}catch(M){return l(M)}}).bind(this),l)}catch(H){return l(H)}}).bind(this),l)}))}const lw=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Wc;function ow(u,a){return new Promise(((i,s)=>{Wc||(Wc=(function(d){const h=[];return h.push(d),URL.createObjectURL(new Blob(h))})(lw));const l=new Worker(Wc);l.addEventListener("message",(function(d){if(a.signal&&a.signal.aborted)l.terminate();else if(d.data.progress===void 0){if(d.data.error)return s(new Error(d.data.error)),void l.terminate();i(d.data.file),l.terminate()}else a.onProgress(d.data.progress)})),l.addEventListener("error",s),a.signal&&a.signal.addEventListener("abort",(()=>{s(a.signal.reason),l.terminate()})),l.postMessage({file:u,imageCompressionLibUrl:a.libURL,options:{...a,onProgress:void 0,signal:void 0}})}))}function Zt(u,a){return new Promise((function(i,s){let l,o,d,h,m,g;if(l={...a},d=0,{onProgress:h}=l,l.maxSizeMB=l.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof l.useWebWorker!="boolean"||l.useWebWorker,delete l.useWebWorker,l.onProgress=w=>{d=w,typeof h=="function"&&h(d)},!(u instanceof Blob||u instanceof sw))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(u.type))return s(new Error("The file given is not an image"));if(g=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||g)return Y0(u,l).then((function(w){try{return o=w,p.call(this)}catch(x){return s(x)}}).bind(this),s);var v=(function(){try{return p.call(this)}catch(w){return s(w)}}).bind(this),y=function(w){try{return Y0(u,l).then((function(x){try{return o=x,v()}catch(T){return s(T)}}),s)}catch(x){return s(x)}};try{return l.libURL=l.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ow(u,l).then((function(w){try{return o=w,v()}catch{return y()}}),y)}catch{y()}function p(){try{o.name=u.name,o.lastModified=u.lastModified}catch{}try{l.preserveExif&&u.type==="image/jpeg"&&(!l.fileType||l.fileType&&l.fileType===u.type)&&(o=Pm(u,o))}catch{}return i(o)}}))}Zt.getDataUrlFromFile=Zm,Zt.getFilefromDataUrl=Cd,Zt.loadImage=Fm,Zt.drawImageInCanvas=ev,Zt.drawFileInCanvas=So,Zt.canvasToFile=Eo,Zt.getExifOrientation=tv,Zt.handleMaxWidthOrHeight=nv,Zt.followExifOrientation=av,Zt.cleanupCanvasMemory=sa,Zt.isAutoOrientationInBrowser=Rr,Zt.approximateBelowMaximumCanvasSizeOfBrowser=Wm,Zt.copyExifWithoutOrientation=Pm,Zt.getBrowserName=Li,Zt.version="2.0.2";const uw=u=>{try{return!!new URL(u)}catch{return!1}},ed=u=>{if(!u)return 1/0;const a=new Date;a.setHours(0,0,0,0);let i=a.getFullYear(),s;if(u.length===5&&u.includes("-")){const[o,d]=u.split("-").map(Number);s=new Date(i,o-1,d)}else s=new Date(u),s.setFullYear(i);s.setHours(0,0,0,0),s<a&&s.setFullYear(i+1);const l=s.getTime()-a.getTime();return Math.ceil(l/(1e3*60*60*24))},md=(u,a,i)=>{if(!u||!a)return null;const s=new Date(u).getFullYear(),l=a-s;return l<=0?null:i==="Compleanno"?`${l} Anni`:i==="Anniversario"?`${l} Anniv.`:null},cw=u=>/^[a-zA-Z0-9\p{L}\s,.]*$/u.test(u)&&!/\n/.test(u),td=(u,a)=>u?u.length<=a?u:u.substring(0,a)+"...":"",iv=u=>typeof u!="number"?u:u.toLocaleString("it-IT",{minimumFractionDigits:2,maximumFractionDigits:2}),vd=u=>{if(!u||!u.includes("-"))return"";const[a,i]=u.split("-");return new Date(2e3,parseInt(a,10)-1,parseInt(i,10)).toLocaleDateString("it-IT",{month:"long",day:"numeric"})};async function rv(u,a){if(!a||!u)return null;const i=document.createElement("canvas"),s=u.naturalWidth/u.width,l=u.naturalHeight/u.height;i.width=Math.floor(a.width*s),i.height=Math.floor(a.height*l);const o=i.getContext("2d"),d=window.devicePixelRatio||1;i.width=Math.floor(a.width*s*d),i.height=Math.floor(a.height*l*d),o.setTransform(d,0,0,d,0,0),o.imageSmoothingQuality="high";const h=a.x*s,m=a.y*l;o.drawImage(u,h,m,a.width*s,a.height*l,0,0,a.width*s,a.height*l);const g=await new Promise(y=>i.toBlob(y,"image/jpeg",1));if(!g)return console.error("Failed to create blob"),null;const v={maxSizeMB:.5,maxWidthOrHeight:512,useWebWorker:!0};try{const y=await Zt(g,v);return new File([y],"avatar.jpg",{type:y.type,lastModified:Date.now()})}catch(y){return console.error("Image compression error:",y),null}}const Ms=[{type:"Natale",date:"12-25",is_fixed:!0},{type:"San Valentino",date:"02-14",is_fixed:!0},{type:"Epifania",date:"01-06",is_fixed:!0},{type:"Festa del Pap",date:"03-19",is_fixed:!0}],dw=()=>{const[u,a]=fe.useState(null),[i,s]=fe.useState(!0),[l,o]=fe.useState([]),[d,h]=fe.useState(null),[m,g]=fe.useState([]),[v,y]=fe.useState([]),[p,w]=fe.useState(Km.default),[x,T]=fe.useState(!1),N=fe.useMemo(()=>[...W1,...m],[m]),A=fe.useMemo(()=>[...new Set([...ew,...v])],[v]),[Y,U]=fe.useState("login"),[B,ae]=fe.useState(""),[k,I]=fe.useState(""),[O,C]=fe.useState(!1),[G,$]=fe.useState(null),[H,M]=fe.useState("Tutti"),[q,X]=fe.useState(""),[S,E]=fe.useState(!1),[W,K]=fe.useState(!1),[te,R]=fe.useState(!1),[z,F]=fe.useState(!1),[Q,P]=fe.useState(!1),[de,me]=fe.useState({show:!1,title:"",msg:"",action:null}),[Se,be]=fe.useState(!1),[ke,Ve]=fe.useState(null),[et,Oe]=fe.useState(null),[xt,Ie]=fe.useState([]),[vt,Xe]=fe.useState(0),[Ye,ut]=fe.useState(!1),[at,tt]=fe.useState(null),[Bt,st]=fe.useState(null),[je,Lt]=fe.useState(null),[At,nn]=fe.useState([]),[ht,gn]=fe.useState(null),[gt,Yt]=fe.useState(""),[Ht,Tt]=fe.useState(""),[Qe,yt]=fe.useState("Amico/a"),[pt,la]=fe.useState(""),[Ln,Aa]=fe.useState(""),[an,Jn]=fe.useState("Compleanno"),[qt,Ot]=fe.useState(""),[Ft,rn]=fe.useState(""),[si,Wt]=fe.useState(""),[en,oa]=fe.useState(""),[Gs,Hi]=fe.useState(new Date().getFullYear()),[li,qi]=fe.useState(""),[Gi,oi]=fe.useState(""),[ui,$i]=fe.useState(""),[Hn,bt]=fe.useState(""),[Gt,Zn]=fe.useState(""),[ci,Yi]=fe.useState("Compleanno"),[Vi,di]=fe.useState(""),[Fn,fi]=fe.useState("");fe.useEffect(()=>{En.auth.getSession().then(({data:{session:re}})=>{a(re),re?ua(re.user.id):s(!1)});const{data:{subscription:ne}}=En.auth.onAuthStateChange((re,ue)=>{a(ue),ue?ua(ue.user.id):(o([]),s(!1))});return()=>ne.unsubscribe()},[]),fe.useEffect(()=>{et&&setTimeout(()=>Oe(null),3e3)},[et]);const Ta={primary:{backgroundColor:p.primary,color:"white"},textPrimary:{color:p.primary},borderPrimary:{borderColor:p.primary},accentBg:{backgroundColor:p.accent,color:p.textAccent},iconColor:{color:p.secondary}},ua=async ne=>{s(!0);try{const re=await Q1(ne);if(re==="USER_NOT_FOUND")o([]),g([]),y([]),await St({persone:[],custom_relazioni:[],custom_event_types:[]});else if(re){const ue=re;o(ue.persone||[]),g(ue.custom_relazioni||[]),y(ue.custom_event_types||[]),h(ue.id)}else Oe("Errore inaspettato nel recupero dei dati."),o([]),g([]),y([])}catch{Oe("Si  verificato un errore nel recupero dei dati.")}finally{s(!1)}},St=async ne=>{if(u)try{const re=await J1(u.user.id,d,ne);re&&(h(re.id),ne.persone&&o(ne.persone),ne.custom_relazioni&&g(ne.custom_relazioni),ne.custom_event_types&&y(ne.custom_event_types))}catch{Oe("Errore during il salvataggio dei dati.")}},Oa=(ne,re)=>{if(!re||re.trim()===""){Oe("Il nome dell'evento non pu essere vuoto.");return}if(ne===re){gn(null);return}const ue=v.map(he=>he===ne?re:he),ce=l.map(he=>{const Ee=he.eventi.map(He=>He.tipo===ne?{...He,tipo:re}:He);return{...he,eventi:Ee}});St({persone:ce,custom_event_types:ue}),Oe("Tipo evento aggiornato con successo!"),gn(null)},Ct=ne=>{Tn("Elimina Tipo Evento",`Sei sicuro di voler eliminare "${ne}"? Questa azione  irreversibile e canceller TUTTI gli eventi e i regali associati a questo tipo per OGNI persona.`,()=>{const re=v.filter(ce=>ce!==ne),ue=l.map(ce=>{const he=ce.eventi.filter(Ee=>Ee.tipo!==ne);return{...ce,eventi:he}});St({persone:ue,custom_event_types:re}),Oe(`"${ne}"  stato eliminato.`)})},$s=fe.useMemo(()=>l.map(ne=>{const re=ne.eventi.filter(it=>!it.archived);if(re.length===0)return null;const ue=re.map((it,Be)=>({...it,days:ed(it.data),idx:Be}));ue.sort((it,Be)=>it.days-Be.days);const ce=ue[0],he=new Date,Ee=new Date(ce.data);Ee.setFullYear(he.getFullYear());let He=he.getFullYear();Ee<new Date(he.setHours(0,0,0,0))&&(He+=1);const ct=md(ce.data,He,ce.tipo);return{id:ne.id,nome:ne.nome,foto:ne.foto,relazione:ne.relazione,nextEvent:ce,occorrenza:ct,uidToSelect:`${ne.id}-${ce.idx}`}}).filter(Boolean).sort((ne,re)=>ne.nextEvent.days-re.nextEvent.days),[l]),Ys=fe.useMemo(()=>l.flatMap(ne=>ne.eventi.map((re,ue)=>({uid:`${ne.id}-${ue}`,nome:ne.nome,tipo:re.tipo,archived:re.archived,giftCount:re.storicoRegali?.length||0}))).filter(ne=>ne.archived),[l]),mn=ne=>{const re=ne==="Tutti"?"generici":Rs[ne]?ne:"generici";let ue=[];ne==="Tutti"?ue=Object.values(Rs).flat():ue=[...Rs[re]||[],...Rs.generici];const ce=new Set,he=[];for(const ct of ue)ce.has(ct.nome)||(ce.add(ct.nome),he.push(ct));const Ee=xt.map(ct=>ct.nome);let He=he.filter(ct=>!Ee.includes(ct.nome));He.length<3&&(He=he),Ie(He.sort(()=>.5-Math.random()).slice(0,4))},Ca=ne=>{$(ne.uidToSelect),M("Tutti"),X(""),mn("Tutti"),ut(!1)},Uo=()=>{$(null)},Br=(ne,re)=>{$(ne),M("Tutti"),X(""),mn("Tutti")},Vs=ne=>{M(ne),mn(ne)},Is=()=>{if(!G)return null;const[ne]=G.split("-");return l.find(re=>re.id.toString()===ne)},Me=Is(),hi=()=>{if(!Me)return{date:"",type:"",subtext:""};const ne=Me.partnerId?l.find(On=>On.id===Me.partnerId):null,re=ne&&ne.eventi.length>0?`${ne.id}-0`:null,ue=re?ne.eventi[0].tipo:"";let ce=null;if(H==="Tutti"?ce=Me.eventi.filter(On=>!On.archived).sort((On,mi)=>ed(On.data)-ed(mi.data))[0]:ce=Me.eventi.find(On=>On.tipo===H),!ce)return{date:"",type:"",partnerName:ne?.nome,partnerUid:re,partnerType:ue};const he=new Date,Ee=new Date(ce.data);Ee.setFullYear(he.getFullYear());let He=he.getFullYear();Ee<new Date(he.setHours(0,0,0,0))&&(He+=1);const ct=md(ce.data,He,ce.tipo),it=H==="Tutti"?`Prossimo: ${ce.tipo}`:ce.tipo,Be=ct?`  ${ct}`:"",$n=ce.is_fixed||ce.data&&ce.data.length===5&&ce.data.includes("-");return{date:ce.data,type:it+Be,partnerName:ne?.nome,partnerUid:re,partnerType:ue,isFixed:$n}},qn=hi(),sn=()=>{if(!Me)return{breakdown:[],total:"0.00"};const ne={};let re=0;return Me.eventi.forEach(ce=>{if(ce.storicoRegali){const he=ce.storicoRegali.reduce((Ee,He)=>Ee+(He.prezzo||0),0);he>0&&(ne[ce.tipo]=(ne[ce.tipo]||0)+he,re+=he)}}),{breakdown:Object.entries(ne).map(([ce,he])=>({type:ce,amount:he.toFixed(2)})),total:re.toFixed(2)}},Ks=()=>{const ne=pt.trim();if(ne&&!N.includes(ne)){const re=[...m,ne];St({custom_relazioni:re}),yt(ne),la(""),Oe("Nuova relazione salvata!")}},Do=()=>{const ne=qt.trim();if(ne&&!A.includes(ne)){const re=[...v,ne];St({custom_event_types:re}),Jn(ne),Ot(""),Oe("Nuovo tipo evento salvato!")}},Lr=()=>{const ne=Vi.trim();if(ne&&!A.includes(ne)){const re=[...v,ne];St({custom_event_types:re}),Yi(ne),di(""),Oe("Nuovo tipo evento salvato!")}},Ps=()=>{Yt(""),Tt(""),yt("Amico/a"),la(""),Aa(""),Jn("Compleanno"),Ot(""),rn(""),Lt(null),nn([]),E(!0)},Ii=()=>{Me&&(Yt(Me.nome),Tt(Me.foto||""),N.includes(Me.relazione)?(yt(Me.relazione),la("")):(yt("Altro"),la(active.relazione)),Aa(Me.partnerId||""),nn(JSON.parse(JSON.stringify(Me.eventi))),Lt(Me.id),E(!0))},Mo=(ne,re,ue)=>{const ce=[...At];ce[ne]?.is_fixed||(ce[ne][re]=ue,nn(ce))},ln=(ne,re)=>{const ue=l.find(he=>he.id===ne);if(!ue)return;const ce=ue.eventi[re];if(ce){if(ue.eventi.length===1){Oe("Non puoi eliminare l'ultima ricorrenza. Puoi modificarla o archiviare la persona.");return}Tn("Elimina Evento",`Sei sicuro di voler eliminare l'evento "${ce.tipo}" per ${ue.nome}? L'azione  irreversibile.`,()=>{const he=l.map(Ee=>{if(Ee.id===ne){const He=Ee.eventi.filter((ct,it)=>it!==re);return H===ce.tipo&&M("Tutti"),{...Ee,eventi:He}}return Ee});St({persone:he}),Oe("Evento eliminato.")})}},Hr=ne=>{At.length===1?Tn("Elimina Ultimo Evento","Stai per eliminare l'ultimo evento. Se salvi, questo eliminer anche la persona. Sei sicuro?",()=>{const re=At.filter((ue,ce)=>ce!==ne);nn(re)}):Tn("Elimina Evento","Eliminare questo evento e il suo storico regali?",()=>{const re=At.filter((ue,ce)=>ce!==ne);nn(re)})},Xs=()=>{const ne=At.map(ue=>ue.is_fixed?ue.type:null).filter(Boolean),re=Ms.filter(ue=>!ne.includes(ue.type));if(re.length===0){Oe("Tutti gli eventi fissi sono gi presenti.");return}nn(ue=>[...ue,...re]),Oe("Eventi fissi aggiunti!")},qr=ne=>{if(ne.preventDefault(),je&&At.length===0){Tn("Elimina Persona",`Stai per eliminare ${gt} perch non ha pi eventi. Sei sicuro?`,()=>{const ce=l.filter(he=>he.id!==je);St({persone:ce}),Oe("Persona eliminata."),E(!1),$(null)});return}const re=Qe==="Altro"&&pt.trim()?pt.trim():Qe;let ue;if(je)ue=l.map(ce=>ce.id===je?{...ce,nome:gt,relazione:re,partnerId:Ln?parseInt(Ln):null,eventi:At,foto:Ht}:ce),Oe("Dettagli aggiornati!");else{if(new Date(Ft).getFullYear()>2099){alert("Data non valida (max 2099)");return}let ce=an==="Altro"&&qt.trim()?qt.trim():an;(ce==="Altro"||!ce)&&(ce="Evento");const he=Date.now(),Ee={id:he,nome:gt,relazione:re,foto:Ht,partnerId:Ln?parseInt(Ln):null,eventi:[{tipo:ce,data:Ft,storicoRegali:[],archived:!1}]};ue=[...l,Ee],setTimeout(()=>Br(`${he}-0`),100)}St({persone:ue}),E(!1)},Wn=()=>{oa(""),Hi(new Date().getFullYear()),qi(""),oi(""),$i(""),bt(""),Zn("");const ne=H!=="Tutti"?H:Me?.eventi[0]?.tipo||"";Wt(ne),tt(null),st(null),mn(ne)},Qs=()=>{Wn(),K(!0)},Js=(ne,re,ue,ce)=>{Wn(),oa(ne.oggetto),Hi(ne.anno),qi(ne.partecipanti||""),oi(ne.negozio||""),$i(ne.link||""),bt(ne.img||""),Zn(ne.prezzo||""),Wt(ce),tt(re),st(ue),K(!0)},Na=()=>{if(!en||!Me)return;if(ui&&!uw(ui)){alert("Link prodotto non valido.");return}if(li.trim()&&!cw(li)){Oe("I partecipanti contengono caratteri non ammessi (solo lettere, numeri, caratteri accentati, spazi, virgole e punti).");return}let ne=0;if(Gt){let he=Gt.toString().replace(",",".");isNaN(he)||(ne=parseFloat(parseFloat(he).toFixed(2)))}let re=Gi.trim();const ue=ui.trim();if(!re&&ue)try{re=new URL(ue.startsWith("http")?ue:`https://${ue}`).hostname.replace("www.","")}catch{}let ce=l.map(he=>{if(he.id===Me.id){let Ee=[...he.eventi],He=Ee.findIndex(it=>it.tipo===si);if(He===-1){if(ke&&ke.activePersonId===he.id&&(He=Ee.findIndex(it=>it.tipo===ke.tipo)),He===-1&&Ee.length>0)He=0;else if(He===-1&&Ee.length===0)return Oe("Nessun evento disponibile per aggiungere il regalo."),he}const ct={anno:parseInt(Gs),oggetto:en,partecipanti:li.trim(),negozio:re,link:ue,img:Hn.trim(),prezzo:ne};if(at!==null){const it=Bt,Be=He;it!==null&&Be!==-1&&it!==Be?(Ee[it]&&Ee[it].storicoRegali&&Ee[it].storicoRegali.splice(at,1),Ee[Be]&&(Ee[Be].storicoRegali||(Ee[Be].storicoRegali=[]),Ee[Be].storicoRegali.unshift(ct))):Be!==-1&&Ee[Be]&&Ee[Be].storicoRegali&&Ee[Be].storicoRegali[at]&&(Ee[Be].storicoRegali[at]=ct)}else He!==-1&&Ee[He].storicoRegali.unshift(ct);return Ee.forEach(it=>{it.storicoRegali&&it.storicoRegali.sort((Be,$n)=>$n.anno-Be.anno)}),{...he,eventi:Ee}}return he});St({persone:ce}),Ve(null),K(!1),Oe(at!==null?"Aggiornato!":"Regalo aggiunto!")},Bo=async ne=>{if(u&&ne)try{const re=await F1(u.user.id,ne);bt(re),Oe("Immagine caricata!")}catch{Oe("Errore during il caricamento dell'immagine.")}},Zs=()=>{let ne=ci==="Altro"&&Vi.trim()?Vi.trim():ci;if(ne==="Altro"||!ne||!Me||!Fn)return;if(Me.eventi.some(he=>he.tipo.toLowerCase()===ne.toLowerCase())){Oe("La ricorrenza  gi presente."),P(!1),Yi("Compleanno"),di(""),fi(""),be(!1);return}if(new Date(Fn).getFullYear()>2099){alert("Data non valida");return}const ue={tipo:ne,data:Fn,storicoRegali:[],archived:!1},ce=l.map(he=>he.id===Me.id?{...he,eventi:[...he.eventi,ue]}:he);St({persone:ce}),M(ne),Oe("Ricorrenza aggiunta!"),P(!1),Se&&Wt(ne),be(!1),Yi("Compleanno"),di(""),fi("")},Tn=(ne,re,ue)=>{me({show:!0,title:ne,msg:re,action:ue})},Gr=()=>{de.action&&de.action(),me({...de,show:!1})},Lo=(ne,re)=>{Tn("Elimina Regalo","Vuoi eliminare definitivamente questo regalo?",()=>{const ue=l.map(ce=>{if(ce.id===Me.id){const he=[...ce.eventi];return he[re].storicoRegali.splice(ne,1),{...ce,eventi:he}}return ce});St({persone:ue}),Oe("Regalo eliminato.")})},Ho=()=>{Tn("Archivia","Spostare nell'archivio?",()=>{const ne=l.map(re=>{if(re.id===Me.id){const ue=re.eventi.map(ce=>({...ce,archived:!0}));return{...re,eventi:ue}}return re});St({persone:ne}),$(null),Oe("Archiviato.")})},Ki=()=>{if(!Me)return[];let ne=[];if(H==="Tutti")ne=(Me.eventi||[]).flatMap((re,ue)=>(re.storicoRegali||[]).map((ce,he)=>({...ce,_evtTipo:re.tipo,_evtData:re.data,_eIdx:ue,_rIdx:he})));else{const re=(Me.eventi||[]).find(ce=>ce.tipo===H);if(!re)return[];const ue=Me.eventi.indexOf(re);ne=(re.storicoRegali||[]).map((ce,he)=>({...ce,_evtTipo:re.tipo,_evtData:re.data,_eIdx:ue,_rIdx:he}))}if(ne.sort((re,ue)=>ue.anno-re.anno),q.trim()){const re=q.toLowerCase();ne=ne.filter(ue=>ue.oggetto.toLowerCase().includes(re)||ue.partecipanti&&ue.partecipanti.toLowerCase().includes(re)||ue.negozio&&ue.negozio.toLowerCase().includes(re)||ue.anno.toString().includes(re))}return ne},Gn=()=>{const ne=Me.eventi.flatMap(re=>re.storicoRegali);return iv(ne.reduce((re,ue)=>re+(ue.prezzo||0),0))},$r=async ne=>{if(ne.preventDefault(),C(!0),Y==="signup"){const{error:re}=await En.auth.signUp({email:B,password:k});alert(re?re.message:"Registrazione completata! Controlla la tua email per confermare il tuo account.")}else{const{error:re}=await En.auth.signInWithPassword({email:B,password:k});re&&alert("Errore login.")}C(!1)},Yr=async()=>{await En.auth.signInWithOAuth({provider:"google"})},Ra=async()=>{await En.auth.signOut()},ka=ne=>{const[re,ue]=ne.split("-"),ce=l.map(he=>{if(he.id.toString()===re){const Ee=[...he.eventi];return Ee[parseInt(ue)].archived=!1,{...he,eventi:Ee}}return he});St({persone:ce}),Oe("Ripristinato!")},Fs=ne=>{Tn("Eliminazione Definitiva","Irreversibile.",()=>{const[re,ue]=ne.split("-"),ce=l.map(he=>{if(he.id.toString()===re){const Ee=he.eventi.filter((He,ct)=>ct!==parseInt(ue));return{...he,eventi:Ee}}return he}).filter(he=>he.eventi.length>0);St({persone:ce})})},Vr=()=>{Xe(ne=>ne+1),Oe("Suggerimenti Amazon aggiornati!")},Ws=async ne=>{if(u)try{const re=await Z1(u.user.id,ne);Tt(re),Oe("Immagine caricata!")}catch{Oe("Errore during il caricamento dell'immagine.")}},gi=fe.useMemo(()=>{const ne=Object.values(Rs).flat(),re=new Set,ue=[];for(const ce of ne)re.has(ce.nome)||(re.add(ce.nome),ue.push(ce));return ue.sort(()=>.5-Math.random()).slice(0,4)},[vt]);return{session:u,loading:i,persone:l,currentTheme:p,setCurrentTheme:w,showSettings:x,setShowSettings:T,relazioniList:N,eventTypesList:A,authMode:Y,setAuthMode:U,email:B,setEmail:ae,password:k,setPassword:I,authLoading:O,selectedUid:G,setSelectedUid:$,activeTab:H,setActiveTab:M,searchTerm:q,setSearchTerm:X,showModalPerson:S,setShowModalPerson:E,showModalGift:W,setShowModalGift:K,showModalStats:te,setShowModalStats:R,showArchive:z,setShowArchive:F,showAddEventModal:Q,setShowAddEventModal:P,confirmConfig:de,setConfirmConfig:me,toastMsg:et,setToastMsg:Oe,suggerimenti:xt,setSuggerimenti:Ie,isAddingEventFromGiftModal:Se,setIsAddingEventFromGiftModal:be,pendingNewEventData:ke,setPendingNewEventData:Ve,showPeopleList:Ye,setShowPeopleList:ut,editingGiftIndex:at,editingGiftEventIndex:Bt,editingPersonId:je,editingEvents:At,newPersonName:gt,setNewPersonName:Yt,newPersonPhoto:Ht,setNewPersonPhoto:Tt,newRelation:Qe,setNewRelation:yt,customRelation:pt,setCustomRelation:la,newPartnerId:Ln,setNewPartnerId:Aa,newEventType:an,setNewEventType:Jn,customEventType:qt,setCustomEventType:Ot,newEventDate:Ft,setNewEventDate:rn,giftTargetEvent:si,setGiftTargetEvent:Wt,giftObj:en,setGiftObj:oa,giftYear:Gs,setGiftYear:Hi,giftParticipants:li,setGiftParticipants:qi,giftShop:Gi,setGiftShop:oi,giftLink:ui,setGiftLink:$i,giftImg:Hn,setGiftImg:bt,giftPrice:Gt,setGiftPrice:Zn,addEventName:ci,setAddEventName:Yi,customAddEventName:Vi,setCustomAddEventName:di,addEventDate:Fn,setAddEventDate:fi,themeStyles:Ta,sidebarList:$s,eventiArchiviati:Ys,activePerson:Me,headerInfo:qn,amazonSuggestions:gi,getLastGift:(ne,re)=>{const ue=l.find(he=>he.id===ne);if(!ue)return null;const ce=ue.eventi.find(he=>he.tipo===re);return!ce||!ce.storicoRegali||ce.storicoRegali.length===0?null:ce.storicoRegali[0]},customEventTypes:v,editingEventType:ht,setEditingEventType:gn,saveCustomRelation:Ks,saveCustomEventType:Do,saveCustomAddEventName:Lr,openNewPersonModal:Ps,openEditPersonModal:Ii,handleEditEventChange:Mo,handleAddFixedEvents:Xs,handleSavePerson:qr,resetGiftForm:Wn,openNewGiftModal:Qs,openEditGiftModal:Js,handleSaveRegalo:Na,handleAddEventToPerson:Zs,askConfirm:Tn,executeConfirm:Gr,handleDeleteSingleGift:Lo,handleArchive:Ho,getFilteredGifts:Ki,getTotaleSpeso:Gn,handleEmailAuth:$r,handleGoogleLogin:Yr,handleLogout:Ra,handleRestore:ka,handlePermanentDelete:Fs,handlePhotoUpload:Ws,handleGiftImageUpload:Bo,handleSidebarClick:Ca,handleHomeClick:Uo,handleSelectUid:Br,handleTabChange:Vs,getActivePerson:Is,getHeaderInfo:hi,getStatsBreakdown:sn,handleRefreshAmazonSuggestions:Vr,updateSuggestions:mn,handleEditCustomEventType:Oa,handleDeleteCustomEventType:Ct,handleDeleteEventFromTab:ln,handleDeleteEventFromModal:Hr}},fw=({authMode:u,setAuthMode:a,email:i,setEmail:s,password:l,setPassword:o,handleEmailAuth:d,authLoading:h,themeStyles:m})=>b.jsx("div",{className:"flex items-center justify-center p-4 font-sans h-full",children:b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md border border-gray-200",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"w-24 h-24 mx-auto mb-4",children:b.jsx("img",{src:"/giftminder/logo.png",alt:"GiftMinder Logo",className:"w-full h-full object-contain"})}),b.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"GiftMinder"})]}),b.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg mb-6",children:[b.jsx("button",{onClick:()=>a("login"),className:`flex-1 py-2 text-sm font-bold rounded-md ${u==="login"?"bg-white shadow text-black":"text-gray-500"}`,children:"Accedi"}),b.jsx("button",{onClick:()=>a("signup"),className:`flex-1 py-2 text-sm font-bold rounded-md ${u==="signup"?"bg-white shadow text-black":"text-gray-500"}`,children:"Registrati"})]}),b.jsxs("form",{onSubmit:d,className:"space-y-4",children:[b.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:g=>s(g.target.value),className:"w-full p-3 border rounded-lg",required:!0}),b.jsx("input",{type:"password",placeholder:"Password",value:l,onChange:g=>o(g.target.value),className:"w-full p-3 border rounded-lg",required:!0}),b.jsx("button",{disabled:h,style:m.primary,className:"w-full py-3 rounded-lg font-bold hover:opacity-90 transition shadow-md",children:h?"...":u==="login"?"Entra":"Registrati"})]})]})});const hw=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sv=(...u)=>u.filter((a,i,s)=>!!a&&s.indexOf(a)===i).join(" ");var gw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mw=fe.forwardRef(({color:u="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:d,...h},m)=>fe.createElement("svg",{ref:m,...gw,width:a,height:a,stroke:u,strokeWidth:s?Number(i)*24/Number(a):i,className:sv("lucide",l),...h},[...d.map(([g,v])=>fe.createElement(g,v)),...Array.isArray(o)?o:[o]]));const We=(u,a)=>{const i=fe.forwardRef(({className:s,...l},o)=>fe.createElement(mw,{ref:o,iconNode:a,className:sv(`lucide-${hw(u)}`,s),...l}));return i.displayName=`${u}`,i};const yd=We("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const lv=We("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const ov=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const jo=We("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const mo=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const vw=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const yw=We("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);const V0=We("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Ao=We("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const I0=We("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const pw=We("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const bw=We("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const uv=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const ww=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const K0=We("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const To=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const cv=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const _w=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const P0=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const xw=We("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const Sw=We("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const ks=We("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Oo=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const X0=We("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);const Ew=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const jw=We("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);const Co=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Ur=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dv=({type:u})=>b.jsx("div",{className:`bg-gray-100 border-2 border-dashed border-gray-300 rounded flex items-center justify-center text-gray-400 text-[10px] font-bold tracking-widest uppercase text-center text-wrap p-2 ${u==="banner"?"w-full h-20 mb-6":"w-full h-24 my-2"}`,children:u==="banner"?"Banner Sponsor":"Pubblicit (AdSense)"}),Aw=({src:u})=>{const[a,i]=fe.useState(!1);return!u||a?b.jsx(Ao,{className:"text-gray-300 w-8 h-8"}):b.jsx("img",{src:u,alt:"regalo",className:"w-full h-full object-cover",onError:()=>i(!0)})},Tw=({sidebarList:u,handleSidebarClick:a,selectedUid:i,currentTheme:s,themeStyles:l})=>b.jsx("div",{className:"overflow-y-auto flex-1 p-3 space-y-2",children:u.map((o,d)=>b.jsxs(Le.Fragment,{children:[d===3&&b.jsx(dv,{}),b.jsxs("div",{onClick:()=>a(o),className:`p-3 rounded-xl cursor-pointer border transition relative group ${i===o.uidToSelect?"bg-white shadow-md":"border-transparent hover:bg-white hover:shadow-sm"}`,style:i===o.uidToSelect?{borderColor:s.primary}:{},children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[o.foto?b.jsx("img",{src:o.foto,alt:o.nome,className:"w-14 h-14 rounded-full object-cover border-2",style:{borderColor:i===o.uidToSelect?s.primary:"transparent"}}):b.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center border-2",style:{borderColor:i===o.uidToSelect?s.primary:"transparent"},children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-sm",style:i===o.uidToSelect?l.textPrimary:{},children:o.nome}),b.jsx("p",{className:"text-[11px] text-gray-500 uppercase mt-0.5",children:o.relazione})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-lg block w-fit ml-auto ${o.nextEvent.days<14?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:o.nextEvent.days===0?"OGGI!":`-${o.nextEvent.days}gg`}),b.jsxs("span",{className:"text-[10px] text-gray-400 block mt-1",children:[o.nextEvent.tipo," ",o.occorrenza&&` ${o.occorrenza}`]})]})]}),i===o.uidToSelect&&b.jsx("div",{className:"absolute left-0 top-3 bottom-3 w-1 rounded-r",style:{backgroundColor:s.primary}})]})]},o.id))}),Q0="/giftminder/logo.png",Ow=({themeStyles:u,openNewPersonModal:a,openNewGiftModal:i,sidebarList:s,handleSidebarClick:l,handleHomeClick:o,selectedUid:d,currentTheme:h,setShowSettings:m,setShowArchive:g,showPeopleList:v,setShowPeopleList:y,handleLogout:p})=>{const[w,x]=fe.useState(!1),T=fe.useRef(null);fe.useEffect(()=>{const A=Y=>{T.current&&!T.current.contains(Y.target)&&x(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[T]);const N=A=>{A(),x(!1)};return b.jsxs("aside",{className:"w-full md:w-105 bg-slate-50 border-r border-gray-200 flex flex-col h-auto md:h-full shadow-xl z-20",children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-slate-50",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-lg",style:u.textPrimary,children:[b.jsx("img",{src:Q0,className:"w-6 h-6 object-contain",alt:"logo"})," GiftMinder"]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:a,className:"p-1.5 rounded shadow hover:opacity-90 transition",style:u.primary,children:b.jsx(To,{size:20})}),b.jsx("button",{onClick:o,className:"p-1.5 rounded shadow hover:opacity-90 transition",style:u.primary,children:b.jsx(I0,{size:20})}),b.jsxs("div",{className:"relative md:hidden",ref:T,children:[b.jsx("button",{onClick:()=>x(!w),className:"p-1.5 rounded shadow hover:opacity-90 transition",style:u.primary,children:b.jsx(ww,{size:20})}),w&&b.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-30 border",children:[b.jsxs("a",{href:"#",onClick:A=>{A.preventDefault(),N(()=>y(!v))},className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 md:hidden",children:[b.jsx(Co,{size:16})," Persone"]}),b.jsxs("a",{href:"#",onClick:A=>{A.preventDefault(),N(()=>g(!0))},className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[b.jsx(yd,{size:16})," Archivio"]}),b.jsxs("a",{href:"#",onClick:A=>{A.preventDefault(),N(()=>m(!0))},className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[b.jsx(P0,{size:16})," Opzioni"]}),b.jsx("div",{className:"border-t my-1"}),b.jsxs("a",{href:"#",onClick:A=>{A.preventDefault(),N(p)},className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[b.jsx(uv,{size:16})," Esci"]})]})]})]})]}),b.jsxs("div",{className:`${v?"fixed inset-0 bg-white z-20 h-screen overflow-y-auto":"hidden"} md:block md:static md:flex-1 md:overflow-y-auto`,children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-slate-50 md:hidden",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-lg",style:u.textPrimary,children:[b.jsx("img",{src:Q0,className:"w-6 h-6 object-contain",alt:"logo"})," GiftMinder"]}),b.jsx("button",{onClick:()=>y(!1),className:"p-1.5 rounded shadow hover:opacity-90 transition mr-2",style:u.primary,children:b.jsx(I0,{size:20})})]}),b.jsxs("div",{className:"hidden md:flex justify-between px-4 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider border-b border-gray-200 bg-gray-100",children:[b.jsx("span",{children:"Persona"}),b.jsx("span",{children:"Prossima scadenza"})]}),b.jsx(Tw,{sidebarList:s,handleSidebarClick:l,selectedUid:d,currentTheme:h,themeStyles:u})]}),b.jsxs("div",{className:"hidden md:flex justify-between items-center p-2 border-t border-gray-200 bg-slate-50",children:[b.jsx("div",{children:b.jsx("button",{onClick:()=>m(!0),className:"p-2 text-sm text-gray-600 hover:bg-gray-200 rounded-md transition",children:b.jsx(P0,{size:18})})}),b.jsx("button",{onClick:()=>g(!0),className:"p-2 text-sm text-gray-600 hover:bg-gray-200 rounded-md transition",children:b.jsx(yd,{size:18})})]})]})},Cw=({sidebarList:u,persone:a,getLastGift:i,amazonSuggestions:s,openNewPersonModal:l,openNewGiftModal:o,handleSidebarClick:d,themeStyles:h,handleRefreshAmazonSuggestions:m,selectedUid:g,currentTheme:v,setShowPeopleList:y})=>{const p=u.length>0?Math.min(...u.map(U=>U.nextEvent.days)):null,w=u.filter(U=>U.nextEvent.days===p),x=w.length,[T,N]=fe.useState(0);if(fe.useEffect(()=>{if(w.length>1){const U=setInterval(()=>{N(B=>(B+1)%w.length)},2e3);return()=>clearInterval(U)}},[w,u]),u.length===0)return b.jsxs("div",{className:"p-6 bg-slate-50 h-full flex flex-col items-center justify-center text-center",children:[b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Benvenuto in GiftMinder!"}),b.jsx("p",{className:"text-gray-600 mb-8",children:"Sembra che tu non abbia ancora aggiunto nessuno. Inizia creando una scheda persona."}),b.jsxs("button",{onClick:l,style:h.primary,className:"px-6 py-3 rounded-lg font-bold shadow-md flex items-center gap-2 hover:opacity-90 transition",children:[b.jsx(To,{size:18}),b.jsx("span",{children:"Crea la tua prima scheda"})]})]});const A=w.length>0?{...w[T],lastGift:i(w[T].id,w[T].nextEvent.tipo)}:null,Y=u.filter(U=>U.nextEvent.days!==p).slice(0,3);return b.jsx("div",{className:"p-6 bg-slate-50 h-full overflow-y-auto flex-1",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[140px_1fr] gap-6 mb-6",children:[b.jsxs("div",{className:"grid grid-cols-3 lg:grid-cols-1 gap-4",children:[b.jsxs("button",{onClick:l,className:"bg-white text-center p-4 rounded-xl shadow-sm border border-gray-200 hover:bg-gray-50 transition",children:[b.jsx(Co,{className:"mx-auto mb-2 text-indigo-500",size:24}),b.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Nuova Persona"})]}),b.jsxs("button",{onClick:o,className:"bg-white text-center p-4 rounded-xl shadow-sm border border-gray-200 hover:bg-gray-50 transition",children:[b.jsx(Ao,{className:"mx-auto mb-2 text-amber-500",size:24}),b.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Nuovo Regalo"})]}),b.jsxs("button",{onClick:()=>y(!0),className:"bg-white text-center p-4 rounded-xl shadow-sm border border-gray-200 hover:bg-gray-50 transition lg:hidden",children:[b.jsx(Co,{className:"mx-auto mb-2 text-green-500",size:24}),b.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Persone"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[3fr_2fr] gap-6 min-h-[250px]",children:[w.length>0&&b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200 h-[250px]",children:[b.jsxs("h2",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:["In Scadenza ",x>1&&`(${x})`]}),b.jsxs("div",{className:"flex items-start sm:items-start gap-6",children:[b.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 w-24",children:[b.jsx("div",{className:"flex flex-row items-center justify-center gap-2 mb-4",children:A.foto?b.jsx("img",{src:A.foto,alt:A.nome,className:"w-14 h-14 rounded-full object-cover border-2 border-indigo-600 scale-110"}):b.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-200 flex items-center justify-center border-2 border-indigo-600 scale-110",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})}),"                                                                        ",b.jsxs("div",{className:"text-center",onClick:()=>d(A),children:[b.jsx("div",{className:`${A.nextEvent.days===0?"text-3xl":"text-5xl"} font-bold`,style:{color:A.nextEvent.days<14?"#E53E3E":"#38A169"},children:A.nextEvent.days===0?"OGGI!":A.nextEvent.days}),A.nextEvent.days!==0&&b.jsx("div",{className:"text-sm font-bold text-gray-500",children:"Giorni"})]})]}),"                                    ",b.jsx("div",{className:"w-px bg-gray-200 self-stretch hidden sm:block"}),b.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>d(w[T]),children:[b.jsxs("div",{className:"mb-4",children:[x>1?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"relative h-6 overflow-hidden",children:w.map((U,B)=>b.jsx("p",{className:`absolute w-full text-xl font-bold transition-all duration-500 ease-in-out
                                                                    ${B===T?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,style:{left:`${(B-T)*100}%`},children:U.nome},U.id))}),b.jsx("p",{className:"text-sm text-gray-500 mb-2",children:w[T].relazione})]}):b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-xl font-bold",children:A.nome}),b.jsx("p",{className:"text-sm text-gray-500 mb-2",children:A.relazione})]}),x>1&&b.jsx("div",{className:"flex justify-center gap-2 mt-2",children:w.map((U,B)=>b.jsx("span",{className:`block w-2 h-2 rounded-full cursor-pointer transition-colors
                                                                ${B===T?"bg-indigo-600":"bg-gray-300 hover:bg-gray-400"}`,onClick:ae=>{ae.stopPropagation(),N(B),d(w[B])}},B))})]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm mt-2",children:[b.jsxs("span",{className:"flex items-center gap-1.5 bg-indigo-100 text-indigo-600 font-bold px-3 py-1 rounded-full",children:[b.jsx(ov,{size:14}),A.nextEvent.tipo]}),A.lastGift&&A.occorrenza&&b.jsx("span",{className:"font-medium text-gray-600",children:A.occorrenza})]}),A.lastGift&&b.jsxs("div",{className:"mt-4 pt-4 border-t",children:[b.jsxs("p",{className:"text-xs text-gray-400 font-semibold",children:["Ultimo regalo (",A.lastGift.anno,"):"]}),b.jsx("p",{className:"font-semibold text-gray-700",children:A.lastGift.oggetto})]})]})]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[b.jsx("h2",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Prossimi Eventi"}),b.jsx("div",{className:"space-y-4",children:Y.map((U,B)=>b.jsxs("div",{className:"flex items-center justify-between cursor-pointer group",onClick:()=>d(U),children:[b.jsxs("div",{className:"w-3/4",children:[b.jsx("p",{className:"font-bold group-hover:text-indigo-600 transition truncate",children:U.nome}),b.jsx("p",{className:"text-sm text-gray-500",children:U.nextEvent.tipo})]}),b.jsx("div",{className:"text-right flex-shrink-0",children:b.jsxs("div",{className:`font-bold text-lg ${U.nextEvent.days<14?"text-red-600":"text-green-600"}`,children:[U.nextEvent.days,"gg"]})})]},B))})]})]})]}),b.jsxs("div",{className:"my-6 text-center",children:[b.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-YOUR_ADSENSE_CLIENT_ID","data-ad-slot":"YOUR_ADSENSE_SLOT_ID","data-ad-format":"auto","data-full-width-responsive":"true"}),b.jsxs("script",{children:["(adsbygoogle = window.adsbygoogle || []).push(",");"]})]}),s&&s.length>0&&b.jsxs("div",{className:"p-6 rounded-2xl shadow-sm border border-gray-200",style:{backgroundColor:"#FE6100"},children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[b.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:"Amazon",className:"h-5 invert"}),b.jsx("span",{children:"I pi desiderati al Black Friday"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:m,className:"text-sm font-bold text-white hover:underline flex items-center gap-1",children:[b.jsx(cv,{size:14})," Rinnova"]}),b.jsx("a",{href:"https://www.amazon.it/most-wished-for?tag=giftminder-21",target:"_blank",rel:"noreferrer",className:"text-sm font-bold text-white hover:underline",children:"Vedi tutti"})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map((U,B)=>b.jsxs("a",{href:U.link,target:"_blank",rel:"noreferrer",className:"group bg-white/20 p-2 rounded-lg flex items-center gap-4",children:[b.jsx("div",{className:"w-20 h-20 rounded-md flex-shrink-0 bg-white flex items-center justify-center p-1 overflow-hidden",children:U.img?b.jsx("img",{src:U.img,alt:U.nome,className:"w-full h-full object-cover"}):b.jsx(jo,{size:32,className:"text-gray-400"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-bold text-white group-hover:text-gray-200 transition",children:U.nome}),b.jsxs("div",{className:"flex items-center text-xs text-white mt-1",children:[b.jsx(ks,{size:12,fill:"currentColor"}),b.jsx(ks,{size:12,fill:"currentColor"}),b.jsx(ks,{size:12,fill:"currentColor"}),b.jsx(ks,{size:12,fill:"currentColor"}),b.jsx(ks,{size:12,className:"text-gray-300",fill:"currentColor"})]})]})]},B))})]})]})})},Nw=u=>{const{activePerson:a,openEditPersonModal:i,openNewPersonModal:s,openNewGiftModal:l,themeStyles:o,headerInfo:d,handleSelectUid:h,currentTheme:m,handleArchive:g,setShowModalStats:v,updateSuggestions:y,activeTab:p,suggerimenti:w,handleTabChange:x,setShowAddEventModal:T,searchTerm:N,setSearchTerm:A,getFilteredGifts:Y,calcolaOccorrenza:U,openEditGiftModal:B,handleDeleteSingleGift:ae,handleDeleteEventFromTab:k}=u,[I,O]=fe.useState(!1),[C,G]=fe.useState(""),[$,H]=fe.useState({x:0,y:0});return a?b.jsxs("main",{className:"flex-1 bg-slate-50 overflow-y-scroll p-6 relative",children:[I&&b.jsx("div",{className:"fixed bg-gray-800 text-white text-sm p-3 rounded-lg shadow-lg z-50 max-w-xs",style:{left:$.x,top:$.y,transform:"translateY(-100%)"},children:C}),b.jsxs("div",{className:"max-w-4xl mx-auto pb-20 fade-in",children:[b.jsx("div",{className:"flex justify-between items-start mb-4",children:b.jsxs("div",{className:"flex items-start gap-4",children:[a.foto?b.jsx("img",{src:a.foto,alt:a.nome,className:"w-16 h-16 rounded-full object-cover border-4",style:{borderColor:m.primary}}):b.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center border-4",style:{borderColor:m.primary},children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("h2",{className:"text-xl font-bold",children:td(a.nome,30)}),b.jsx("button",{onClick:i,className:"text-gray-400 hover:text-indigo-600 transition",title:"Modifica",children:b.jsx(K0,{size:20})}),b.jsx("span",{className:"text-xs px-2 py-1 rounded font-bold uppercase",style:o.accentBg,children:a.relazione})]}),b.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[b.jsx(ov,{size:16})," ",d.date?d.isFixed?new Date(d.date).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}):new Date(d.date).toLocaleDateString():"--"," (",d.type,")"]}),b.jsx("div",{className:"min-h-[2.5rem]",children:d.partnerUid&&b.jsxs("button",{onClick:()=>h(d.partnerUid,d.partnerType),className:"flex items-center gap-1 text-sm hover:underline font-medium",style:{color:m.secondary},children:[b.jsx(bw,{size:14})," Partner: ",d.partnerName]})})]})]})}),b.jsxs("div",{className:"flex flex-wrap items-stretch justify-between gap-2 mb-6",children:[b.jsxs("div",{className:"flex-grow flex items-stretch gap-2",children:[b.jsxs("button",{onClick:l,disabled:a.archived,className:`flex-1 bg-white text-center p-4 rounded-xl shadow-sm border border-gray-200 transition flex flex-col items-center justify-center ${a.archived?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,children:[b.jsx(Ao,{className:"mb-2 text-amber-500",size:24}),b.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Nuovo Regalo"})]}),b.jsxs("button",{onClick:()=>T(!0),disabled:a.archived,className:`flex-1 bg-white text-center p-4 rounded-xl shadow-sm border border-gray-200 transition flex flex-col items-center justify-center ${a.archived?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,children:[b.jsx(To,{className:"mb-2 text-green-500",size:24}),b.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Nuova Ricorrenza"})]})]}),b.jsxs("div",{className:"flex-shrink-0 flex flex-col gap-2",children:[b.jsx("div",{className:"flex-1",children:b.jsx("button",{onClick:()=>v(!0),className:"h-full w-full bg-white border border-gray-300 px-3 py-3 rounded-lg font-bold shadow-sm flex items-center justify-center",children:b.jsx(lv,{size:18})})}),b.jsx("div",{className:"flex-1",children:b.jsx("button",{onClick:g,className:"h-full w-full bg-white border border-gray-200 text-gray-400 hover:text-red-600 px-3 py-3 rounded-lg shadow-sm hover:bg-red-50 transition flex justify-center",children:b.jsx(X0,{size:18})})})]})]}),b.jsx("div",{className:"bg-orange-500 text-white text-center p-2 mb-4 rounded-lg shadow-md font-bold",children:" la settimana del Black Friday! Offerte imperdibili su Amazon."}),b.jsxs("div",{className:"border border-gray-200 rounded-xl p-5 mb-8",style:{backgroundColor:m.accent},children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsxs("h3",{className:"font-bold flex items-center gap-2",style:{color:m.textAccent},children:[b.jsx(pw,{size:18})," Ti consiglio di regalare: ",b.jsx("span",{className:"underline",children:p})]}),b.jsxs("button",{onClick:()=>y(p),className:"flex-shrink-0 text-xs flex items-center gap-1 px-2 py-1 rounded hover:opacity-70 transition",style:{color:m.textAccent},children:[b.jsx(cv,{size:12})," Rinnova"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:w.slice(0,4).map((M,q)=>b.jsxs("a",{href:M.link,target:"_blank",rel:"noreferrer",className:"bg-white border border-gray-200 p-2 rounded-lg hover:shadow-md transition flex items-center gap-3",style:M.link&&M.link.includes("amazon.it")?{backgroundColor:"#fe6100ff",color:"white"}:{},children:[b.jsx("div",{className:"w-16 h-16 rounded-md flex-shrink-0 bg-gray-100 flex items-center justify-center overflow-hidden",children:M.img?b.jsx("img",{src:M.img,alt:M.nome,className:"w-full h-full object-cover"}):b.jsx(jo,{size:24,className:"text-gray-400"})}),b.jsx("div",{className:"flex-1",children:b.jsx("span",{className:"font-bold text-sm",style:M.link&&M.link.includes("amazon.it")?{color:"white"}:{color:m.primary},children:td(M.nome,50)})}),b.jsx(V0,{size:16,className:"text-gray-400",style:M.link&&M.link.includes("amazon.it")?{color:"white"}:{}})]},q))})]}),b.jsx(dv,{}),b.jsxs("div",{className:"flex items-center gap-2 mt-6 mb-4 overflow-x-auto pb-2 no-scrollbar",children:[b.jsx("button",{onClick:()=>x("Tutti"),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${p==="Tutti"?"text-white":"bg-gray-100 text-gray-600"}`,style:p==="Tutti"?{backgroundColor:m.primary}:{},children:"Tutti"}),a.eventi.map((M,q)=>M.archived||!M.tipo||M.tipo.trim()===""?null:b.jsxs("div",{className:"relative group",children:[b.jsx("button",{onClick:()=>x(M.tipo),className:`pl-4 pr-4 pt-1.5 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${p===M.tipo?"text-white":"bg-gray-100 text-gray-600"}`,style:p===M.tipo?{backgroundColor:m.primary}:{},children:M.tipo}),b.jsx("button",{onClick:X=>{X.stopPropagation(),k(a.id,q)},className:`absolute -right-1.5 z-10 bg-red-500 text-white rounded-full p-0.5 transition-all ${p===M.tipo?"opacity-100":"opacity-0 group-hover:opacity-100"} hover:bg-red-600`,title:`Elimina evento ${M.tipo}`,children:b.jsx(Ur,{size:12})}),"                            "]},M.tipo)),b.jsx("button",{onClick:()=>T(!0),className:"px-3 py-2 rounded-full border-2 border-dashed border-gray-300 text-gray-400 hover:border-gray-500 hover:text-gray-600 transition",children:b.jsx(To,{size:16})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-end mb-2",children:[b.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",style:{color:m.primary},children:[b.jsx(Ao,{})," ",p==="Tutti"?"Tutti i Regali":`Regali per ${p}`]}),b.jsxs("div",{className:"relative",children:[b.jsx(_w,{size:16,className:"absolute left-3 top-2.5 text-gray-400"}),b.jsx("input",{type:"text",value:N,onChange:M=>A(M.target.value),className:"pl-9 pr-3 py-2 border border-gray-200 rounded-lg text-sm outline-none w-48",placeholder:"Cerca regalo..."})]})]}),Y().length>0?Y().map((M,q)=>{const X=U(M._evtData,M.anno,M._evtTipo);return b.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition flex flex-row gap-4 group relative min-h-[100px]",children:[b.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg flex-shrink-0 overflow-hidden flex items-center justify-center border border-gray-200",children:b.jsx(Aw,{src:M.img})}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-lg",children:M.oggetto}),p==="Tutti"&&b.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",style:{color:m.secondary},children:M._evtTipo})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded flex items-center gap-1 ml-auto",children:[b.jsx(vw,{size:12})," ",M.anno]}),X&&b.jsxs("span",{className:"block text-[10px] mt-1",style:{color:m.secondary},children:["Per ",X]})]})]}),b.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-sm text-gray-600",children:[(M.negozio||M.link)&&b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(xw,{size:14})," ",M.link?b.jsxs("a",{href:M.link,target:"_blank",rel:"noreferrer",className:"hover:underline flex items-center gap-0.5 font-medium",style:{color:m.secondary},children:[M.negozio||"Link"," ",b.jsx(V0,{size:10})]}):M.negozio]}),M.prezzo>0&&b.jsxs("span",{className:"flex items-center gap-1 font-bold text-green-600",children:[b.jsx(yw,{size:14})," ",M.prezzo.toFixed(2)]}),M.partecipanti&&b.jsxs("span",{className:"flex items-center gap-1 text-gray-600 cursor-pointer relative",onClick:S=>{G(M.partecipanti),H({x:S.clientX,y:S.clientY}),O(!0)},onMouseLeave:()=>O(!1),children:[b.jsx(Co,{size:14}),td(M.partecipanti,45)]})]}),b.jsxs("div",{className:"mt-4 flex justify-end gap-2 sm:absolute sm:bottom-3 sm:right-3 sm:mt-0 sm:bg-white/90 sm:p-1 sm:rounded-lg sm:shadow-sm sm:opacity-0 sm:group-hover:opacity-100 transition",children:[b.jsx("button",{onClick:()=>B(M,M._rIdx,M._eIdx,M._evtTipo),className:"p-1.5 bg-gray-100 rounded hover:opacity-80",children:b.jsx(K0,{size:16})}),b.jsx("button",{onClick:()=>ae(M._rIdx,M._eIdx),className:"p-1.5 bg-gray-100 text-red-600 rounded hover:bg-red-100",children:b.jsx(X0,{size:16})})]})]})]},q)}):b.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 text-center text-gray-500",children:["Nessun regalo trovato per ",p==="Tutti"?"questa persona":p,"."]})]})]})]}):b.jsx(Cw,{...u})},Rw=({msg:u})=>b.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white px-6 py-3 rounded-full shadow-lg z-[999] text-sm font-bold fade-in",children:u}),kw=({config:u,onCancel:a,onConfirm:i})=>b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[90]",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 text-center border border-gray-200",children:[b.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4 text-red-600",children:b.jsx(Ew,{size:24})}),b.jsx("h3",{className:"text-xl font-bold mb-2",children:u.title}),b.jsx("p",{className:"text-gray-500 mb-6",children:u.msg}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:a,className:"flex-1 py-2 bg-gray-100 rounded-lg font-bold hover:bg-gray-200",children:"Annulla"}),b.jsx("button",{onClick:i,className:"flex-1 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700",children:"Conferma"})]})]})}),zw=({eventName:u,onSave:a,onCancel:i})=>{const[s,l]=fe.useState(u);return b.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-xl p-5 w-full max-w-xs",children:[b.jsx("h4",{className:"font-bold text-lg mb-4",children:"Modifica Evento"}),b.jsx("input",{type:"text",value:s,onChange:o=>l(o.target.value),className:"w-full px-3 py-2 border rounded-lg mb-4",autoFocus:!0}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200",children:"Annulla"}),b.jsx("button",{onClick:()=>a(s),className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",children:"Salva"})]})]})})},Uw=({currentTheme:u,setCurrentTheme:a,onClose:i,handleLogout:s,customEventTypes:l,handleDeleteCustomEventType:o,handleEditCustomEventType:d,editingEventType:h,setEditingEventType:m})=>{const[g,v]=fe.useState(l?.[0]||null);return b.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[70] flex items-center justify-center p-4 fade-in",children:[h&&b.jsx(zw,{eventName:h,onSave:y=>d(h,y),onCancel:()=>m(null)}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 border border-gray-200",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"font-bold text-xl",children:"Opzioni"}),b.jsx("button",{onClick:i,children:b.jsx(Ur,{})})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-3",children:"Tema Colore"}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.values(Km).map(y=>b.jsxs("button",{onClick:()=>a(y),className:`p-3 rounded-lg border-2 transition flex items-center gap-2 ${u.id===y.id?"border-current":"border-transparent bg-gray-50"}`,style:{borderColor:u.id===y.id?y.primary:"transparent"},children:[b.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:y.primary}}),b.jsx("span",{className:"text-sm font-bold",children:y.name})]},y.id))})]}),l&&l.length>0&&b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-3",children:"Eventi Personalizzati"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("select",{value:g||"",onChange:y=>v(y.target.value),className:"w-full px-3 py-2 border rounded-lg bg-gray-50",children:l.map(y=>b.jsx("option",{value:y,children:y},y))}),g&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>m(g),className:"text-gray-400 hover:text-indigo-600 p-2 bg-gray-200 rounded-lg",children:b.jsx(Sw,{size:16})}),b.jsx("div",{className:"relative",children:b.jsx("button",{onClick:()=>o(g),className:"text-gray-400 hover:text-red-600 p-2 bg-gray-200 rounded-lg",children:b.jsx(Oo,{size:16})})})]})]})]}),b.jsx("div",{className:"border-t pt-4",children:b.jsxs("button",{onClick:s,className:"w-full text-left px-4 py-3 rounded-lg hover:bg-red-50 text-red-600 font-bold flex items-center gap-3 transition",children:[b.jsx(uv,{size:18}),b.jsx("span",{children:"Esci"})]})})]})]})};var Dw=Object.defineProperty,Mw=(u,a,i)=>a in u?Dw(u,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[a]=i,ft=(u,a,i)=>Mw(u,typeof a!="symbol"?a+"":a,i);const No={x:0,y:0,width:0,height:0,unit:"px"},Tr=(u,a,i)=>Math.min(Math.max(u,a),i),Bw=(...u)=>u.filter(a=>a&&typeof a=="string").join(" "),J0=(u,a)=>u===a||u.width===a.width&&u.height===a.height&&u.x===a.x&&u.y===a.y&&u.unit===a.unit;function Lw(u,a,i,s){const l=ra(u,i,s);return u.width&&(l.height=l.width/a),u.height&&(l.width=l.height*a),l.y+l.height>s&&(l.height=s-l.y,l.width=l.height*a),l.x+l.width>i&&(l.width=i-l.x,l.height=l.width/a),u.unit==="%"?ai(l,i,s):l}function Hw(u,a,i){const s=ra(u,a,i);return s.x=(a-s.width)/2,s.y=(i-s.height)/2,u.unit==="%"?ai(s,a,i):s}function ai(u,a,i){return u.unit==="%"?{...No,...u,unit:"%"}:{unit:"%",x:u.x?u.x/a*100:0,y:u.y?u.y/i*100:0,width:u.width?u.width/a*100:0,height:u.height?u.height/i*100:0}}function ra(u,a,i){return u.unit?u.unit==="px"?{...No,...u,unit:"px"}:{unit:"px",x:u.x?u.x*a/100:0,y:u.y?u.y*i/100:0,width:u.width?u.width*a/100:0,height:u.height?u.height*i/100:0}:{...No,...u,unit:"px"}}function Z0(u,a,i,s,l,o=0,d=0,h=s,m=l){const g={...u};let v=Math.min(o,s),y=Math.min(d,l),p=Math.min(h,s),w=Math.min(m,l);a&&(a>1?(v=d?d*a:v,y=v/a,p=h*a):(y=o?o/a:y,v=y*a,w=m/a)),g.y<0&&(g.height=Math.max(g.height+g.y,y),g.y=0),g.x<0&&(g.width=Math.max(g.width+g.x,v),g.x=0);const x=s-(g.x+g.width);x<0&&(g.x=Math.min(g.x,s-v),g.width+=x);const T=l-(g.y+g.height);if(T<0&&(g.y=Math.min(g.y,l-y),g.height+=T),g.width<v&&((i==="sw"||i=="nw")&&(g.x-=v-g.width),g.width=v),g.height<y&&((i==="nw"||i=="ne")&&(g.y-=y-g.height),g.height=y),g.width>p&&((i==="sw"||i=="nw")&&(g.x-=p-g.width),g.width=p),g.height>w&&((i==="nw"||i=="ne")&&(g.y-=w-g.height),g.height=w),a){const N=g.width/g.height;if(N<a){const A=Math.max(g.width/a,y);(i==="nw"||i=="ne")&&(g.y-=A-g.height),g.height=A}else if(N>a){const A=Math.max(g.height*a,v);(i==="sw"||i=="nw")&&(g.x-=A-g.width),g.width=A}}return g}function qw(u,a,i,s){const l={...u};return a==="ArrowLeft"?s==="nw"?(l.x-=i,l.y-=i,l.width+=i,l.height+=i):s==="w"?(l.x-=i,l.width+=i):s==="sw"?(l.x-=i,l.width+=i,l.height+=i):s==="ne"?(l.y+=i,l.width-=i,l.height-=i):s==="e"?l.width-=i:s==="se"&&(l.width-=i,l.height-=i):a==="ArrowRight"&&(s==="nw"?(l.x+=i,l.y+=i,l.width-=i,l.height-=i):s==="w"?(l.x+=i,l.width-=i):s==="sw"?(l.x+=i,l.width-=i,l.height-=i):s==="ne"?(l.y-=i,l.width+=i,l.height+=i):s==="e"?l.width+=i:s==="se"&&(l.width+=i,l.height+=i)),a==="ArrowUp"?s==="nw"?(l.x-=i,l.y-=i,l.width+=i,l.height+=i):s==="n"?(l.y-=i,l.height+=i):s==="ne"?(l.y-=i,l.width+=i,l.height+=i):s==="sw"?(l.x+=i,l.width-=i,l.height-=i):s==="s"?l.height-=i:s==="se"&&(l.width-=i,l.height-=i):a==="ArrowDown"&&(s==="nw"?(l.x+=i,l.y+=i,l.width-=i,l.height-=i):s==="n"?(l.y+=i,l.height-=i):s==="ne"?(l.y+=i,l.width-=i,l.height-=i):s==="sw"?(l.x-=i,l.width+=i,l.height+=i):s==="s"?l.height+=i:s==="se"&&(l.width+=i,l.height+=i)),l}const Or={capture:!0,passive:!1};let Gw=0;const ni=class Xn extends fe.PureComponent{constructor(){super(...arguments),ft(this,"docMoveBound",!1),ft(this,"mouseDownOnCrop",!1),ft(this,"dragStarted",!1),ft(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),ft(this,"componentRef",fe.createRef()),ft(this,"mediaRef",fe.createRef()),ft(this,"resizeObserver"),ft(this,"initChangeCalled",!1),ft(this,"instanceId",`rc-${Gw++}`),ft(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),ft(this,"onCropPointerDown",a=>{const{crop:i,disabled:s}=this.props,l=this.getBox();if(!i)return;const o=ra(i,l.width,l.height);if(s)return;a.cancelable&&a.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const d=a.target.dataset.ord,h=!!d;let m=a.clientX,g=a.clientY,v=o.x,y=o.y;if(d){const p=a.clientX-l.x,w=a.clientY-l.y;let x=0,T=0;d==="ne"||d=="e"?(x=p-(o.x+o.width),T=w-o.y,v=o.x,y=o.y+o.height):d==="se"||d==="s"?(x=p-(o.x+o.width),T=w-(o.y+o.height),v=o.x,y=o.y):d==="sw"||d=="w"?(x=p-o.x,T=w-(o.y+o.height),v=o.x+o.width,y=o.y):(d==="nw"||d=="n")&&(x=p-o.x,T=w-o.y,v=o.x+o.width,y=o.y+o.height),m=v+l.x+x,g=y+l.y+T}this.evData={startClientX:m,startClientY:g,startCropX:v,startCropY:y,clientX:a.clientX,clientY:a.clientY,isResize:h,ord:d},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),ft(this,"onComponentPointerDown",a=>{const{crop:i,disabled:s,locked:l,keepSelection:o,onChange:d}=this.props,h=this.getBox();if(s||l||o&&i)return;a.cancelable&&a.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const m=a.clientX-h.x,g=a.clientY-h.y,v={unit:"px",x:m,y:g,width:0,height:0};this.evData={startClientX:a.clientX,startClientY:a.clientY,startCropX:m,startCropY:g,clientX:a.clientX,clientY:a.clientY,isResize:!0},this.mouseDownOnCrop=!0,d(ra(v,h.width,h.height),ai(v,h.width,h.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),ft(this,"onDocPointerMove",a=>{const{crop:i,disabled:s,onChange:l,onDragStart:o}=this.props,d=this.getBox();if(s||!i||!this.mouseDownOnCrop)return;a.cancelable&&a.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(a));const{evData:h}=this;h.clientX=a.clientX,h.clientY=a.clientY;let m;h.isResize?m=this.resizeCrop():m=this.dragCrop(),J0(i,m)||l(ra(m,d.width,d.height),ai(m,d.width,d.height))}),ft(this,"onComponentKeyDown",a=>{const{crop:i,disabled:s,onChange:l,onComplete:o}=this.props;if(s)return;const d=a.key;let h=!1;if(!i)return;const m=this.getBox(),g=this.makePixelCrop(m),v=(navigator.platform.match("Mac")?a.metaKey:a.ctrlKey)?Xn.nudgeStepLarge:a.shiftKey?Xn.nudgeStepMedium:Xn.nudgeStep;if(d==="ArrowLeft"?(g.x-=v,h=!0):d==="ArrowRight"?(g.x+=v,h=!0):d==="ArrowUp"?(g.y-=v,h=!0):d==="ArrowDown"&&(g.y+=v,h=!0),h){a.cancelable&&a.preventDefault(),g.x=Tr(g.x,0,m.width-g.width),g.y=Tr(g.y,0,m.height-g.height);const y=ra(g,m.width,m.height),p=ai(g,m.width,m.height);l(y,p),o&&o(y,p)}}),ft(this,"onHandlerKeyDown",(a,i)=>{const{aspect:s=0,crop:l,disabled:o,minWidth:d=0,minHeight:h=0,maxWidth:m,maxHeight:g,onChange:v,onComplete:y}=this.props,p=this.getBox();if(o||!l)return;if(a.key==="ArrowUp"||a.key==="ArrowDown"||a.key==="ArrowLeft"||a.key==="ArrowRight")a.stopPropagation(),a.preventDefault();else return;const w=(navigator.platform.match("Mac")?a.metaKey:a.ctrlKey)?Xn.nudgeStepLarge:a.shiftKey?Xn.nudgeStepMedium:Xn.nudgeStep,x=ra(l,p.width,p.height),T=qw(x,a.key,w,i),N=Z0(T,s,i,p.width,p.height,d,h,m,g);if(!J0(l,N)){const A=ai(N,p.width,p.height);v(N,A),y&&y(N,A)}}),ft(this,"onDocPointerDone",a=>{const{crop:i,disabled:s,onComplete:l,onDragEnd:o}=this.props,d=this.getBox();this.unbindDocMove(),!(s||!i)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,o&&o(a),l&&l(ra(i,d.width,d.height),ai(i,d.width,d.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),ft(this,"onDragFocus",()=>{var a;(a=this.componentRef.current)==null||a.scrollTo(0,0)})}get document(){return document}getBox(){const a=this.mediaRef.current;if(!a)return{x:0,y:0,width:0,height:0};const{x:i,y:s,width:l,height:o}=a.getBoundingClientRect();return{x:i,y:s,width:l,height:o}}componentDidUpdate(a){const{crop:i,onComplete:s}=this.props;if(s&&!a.crop&&i){const{width:l,height:o}=this.getBox();l&&o&&s(ra(i,l,o),ai(i,l,o))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Or),this.document.addEventListener("pointerup",this.onDocPointerDone,Or),this.document.addEventListener("pointercancel",this.onDocPointerDone,Or),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Or),this.document.removeEventListener("pointerup",this.onDocPointerDone,Or),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Or),this.docMoveBound=!1)}getCropStyle(){const{crop:a}=this.props;if(a)return{top:`${a.y}${a.unit}`,left:`${a.x}${a.unit}`,width:`${a.width}${a.unit}`,height:`${a.height}${a.unit}`}}dragCrop(){const{evData:a}=this,i=this.getBox(),s=this.makePixelCrop(i),l=a.clientX-a.startClientX,o=a.clientY-a.startClientY;return s.x=Tr(a.startCropX+l,0,i.width-s.width),s.y=Tr(a.startCropY+o,0,i.height-s.height),s}getPointRegion(a,i,s,l){const{evData:o}=this,d=o.clientX-a.x,h=o.clientY-a.y;let m;l&&i?m=i==="nw"||i==="n"||i==="ne":m=h<o.startCropY;let g;return s&&i?g=i==="nw"||i==="w"||i==="sw":g=d<o.startCropX,g?m?"nw":"sw":m?"ne":"se"}resolveMinDimensions(a,i,s=0,l=0){const o=Math.min(s,a.width),d=Math.min(l,a.height);return!i||!o&&!d?[o,d]:i>1?o?[o,o/i]:[d*i,d]:d?[d*i,d]:[o,o/i]}resizeCrop(){const{evData:a}=this,{aspect:i=0,maxWidth:s,maxHeight:l}=this.props,o=this.getBox(),[d,h]=this.resolveMinDimensions(o,i,this.props.minWidth,this.props.minHeight);let m=this.makePixelCrop(o);const g=this.getPointRegion(o,a.ord,d,h),v=a.ord||g;let y=a.clientX-a.startClientX,p=a.clientY-a.startClientY;(d&&v==="nw"||v==="w"||v==="sw")&&(y=Math.min(y,-d)),(h&&v==="nw"||v==="n"||v==="ne")&&(p=Math.min(p,-h));const w={unit:"px",x:0,y:0,width:0,height:0};g==="ne"?(w.x=a.startCropX,w.width=y,i?(w.height=w.width/i,w.y=a.startCropY-w.height):(w.height=Math.abs(p),w.y=a.startCropY-w.height)):g==="se"?(w.x=a.startCropX,w.y=a.startCropY,w.width=y,i?w.height=w.width/i:w.height=p):g==="sw"?(w.x=a.startCropX+y,w.y=a.startCropY,w.width=Math.abs(y),i?w.height=w.width/i:w.height=p):g==="nw"&&(w.x=a.startCropX+y,w.width=Math.abs(y),i?(w.height=w.width/i,w.y=a.startCropY-w.height):(w.height=Math.abs(p),w.y=a.startCropY+p));const x=Z0(w,i,g,o.width,o.height,d,h,s,l);return i||Xn.xyOrds.indexOf(v)>-1?m=x:Xn.xOrds.indexOf(v)>-1?(m.x=x.x,m.width=x.width):Xn.yOrds.indexOf(v)>-1&&(m.y=x.y,m.height=x.height),m.x=Tr(m.x,0,o.width-m.width),m.y=Tr(m.y,0,o.height-m.height),m}renderCropSelection(){const{ariaLabels:a=Xn.defaultProps.ariaLabels,disabled:i,locked:s,renderSelectionAddon:l,ruleOfThirds:o,crop:d}=this.props,h=this.getCropStyle();if(d)return Le.createElement("div",{style:h,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":a.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!i&&!s&&Le.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Le.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Le.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Le.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Le.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":a.nwDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"nw"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":a.nDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"n"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":a.neDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"ne"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":a.eDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"e"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":a.seDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"se"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":a.sDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"s"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":a.swDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"sw"),role:"button"}),Le.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":a.wDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"w"),role:"button"})),l&&Le.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:m=>m.stopPropagation()},l(this.state)),o&&Le.createElement(Le.Fragment,null,Le.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Le.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(a){const i={...No,...this.props.crop||{}};return ra(i,a.width,a.height)}render(){const{aspect:a,children:i,circularCrop:s,className:l,crop:o,disabled:d,locked:h,style:m,ruleOfThirds:g}=this.props,{cropIsActive:v,newCropIsBeingDrawn:y}=this.state,p=o?this.renderCropSelection():null,w=Bw("ReactCrop",l,v&&"ReactCrop--active",d&&"ReactCrop--disabled",h&&"ReactCrop--locked",y&&"ReactCrop--new-crop",o&&a&&"ReactCrop--fixed-aspect",o&&s&&"ReactCrop--circular-crop",o&&g&&"ReactCrop--rule-of-thirds",!this.dragStarted&&o&&!o.width&&!o.height&&"ReactCrop--invisible-crop",s&&"ReactCrop--no-animate");return Le.createElement("div",{ref:this.componentRef,className:w,style:m},Le.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},i),o?Le.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Le.createElement("defs",null,Le.createElement("mask",{id:`hole-${this.instanceId}`},Le.createElement("rect",{width:"100%",height:"100%",fill:"white"}),s?Le.createElement("ellipse",{cx:`${o.x+o.width/2}${o.unit}`,cy:`${o.y+o.height/2}${o.unit}`,rx:`${o.width/2}${o.unit}`,ry:`${o.height/2}${o.unit}`,fill:"black"}):Le.createElement("rect",{x:`${o.x}${o.unit}`,y:`${o.y}${o.unit}`,width:`${o.width}${o.unit}`,height:`${o.height}${o.unit}`,fill:"black"}))),Le.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};ft(ni,"xOrds",["e","w"]),ft(ni,"yOrds",["n","s"]),ft(ni,"xyOrds",["nw","ne","se","sw"]),ft(ni,"nudgeStep",1),ft(ni,"nudgeStepMedium",10),ft(ni,"nudgeStepLarge",100),ft(ni,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let $w=ni;const fv=({imageSrc:u,onConfirm:a,onCancel:i})=>{const[s,l]=fe.useState(),[o,d]=fe.useState(),h=fe.useRef(null);function m(v){const{width:y,height:p}=v.currentTarget,w=Hw(Lw({unit:"%",width:90},1,y,p),y,p);l(w)}const g=async()=>{o?.width&&o?.height&&h.current&&a(h.current,o)};return b.jsx("div",{className:"fixed inset-0 bg-black/70 z-[60] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6",children:[b.jsx("h3",{className:"font-bold text-lg mb-4",children:"Ritaglia Immagine"}),b.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Centra e ridimensiona la tua immagine del profilo."}),b.jsx("div",{className:"flex justify-center bg-gray-100 p-4 rounded-lg",children:b.jsx($w,{crop:s,onChange:v=>l(v),onComplete:v=>d(v),aspect:1,circularCrop:!0,keepSelection:!0,children:b.jsx("img",{ref:h,src:u,onLoad:m,alt:"Crop me",style:{maxHeight:"60vh"},crossOrigin:"anonymous"})})}),b.jsxs("div",{className:"pt-4 mt-4 border-t flex justify-end gap-3",children:[b.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 bg-gray-100 font-bold rounded-lg",children:"Annulla"}),b.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg",children:"Conferma"})]})]})})},Yw=({onClose:u,editingPersonId:a,handleSavePerson:i,newPersonName:s,setNewPersonName:l,newPersonPhoto:o,setNewPersonPhoto:d,handlePhotoUpload:h,newRelation:m,setNewRelation:g,relazioniList:v,customRelation:y,setCustomRelation:p,saveCustomRelation:w,newPartnerId:x,setNewPartnerId:T,persone:N,editingEvents:A,handleEditEventChange:Y,handleDeleteEventFromModal:U,handleAddFixedEvents:B,newEventType:ae,setNewEventType:k,eventTypesList:I,customEventType:O,setCustomEventType:C,saveCustomEventType:G,newEventDate:$,setNewEventDate:H})=>{const[M,q]=Le.useState("url"),[X,S]=Le.useState(null),E=Le.useRef(null),[W,K]=Le.useState(!1);Le.useEffect(()=>{const z=Ms.find(F=>F.type===ae);z?(K(!0),H(z.date)):(K(!1),a||H(""))},[ae,H,a]);const te=z=>{const F=z.target.files[0];if(F){const Q=new FileReader;Q.onloadend=()=>S(Q.result),Q.readAsDataURL(F)}},R=()=>{d(""),E.current&&(E.current.value=null)};return b.jsxs(b.Fragment,{children:[X&&b.jsx(fv,{imageSrc:X,onCancel:()=>S(null),onConfirm:async(z,F)=>{const Q=await rv(z,F);Q&&h&&await h(Q),S(null)}}),b.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[b.jsxs("h3",{className:"font-bold text-lg",children:[a?"Modifica":"Nuova"," Scheda"]}),b.jsx("button",{onClick:u,children:b.jsx(Ur,{})})]}),b.jsx("div",{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:b.jsxs("form",{onSubmit:i,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Nome Persona"}),b.jsx("input",{className:"w-full border border-gray-200 rounded-lg p-2",value:s,onChange:z=>l(z.target.value),autoFocus:!0,required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Foto"}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-100 flex-shrink-0 flex items-center justify-center overflow-hidden border cursor-pointer",onClick:()=>E.current?.click(),title:"Clicca per caricare un\\'immagine",children:o?b.jsx("img",{src:o,alt:"Avatar",className:"w-full h-full object-cover"}):b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Carica un file cliccando sull'immagine."}),b.jsx("div",{className:"flex gap-2 items-center",children:b.jsx("button",{type:"button",onClick:R,title:"Rimuovi immagine",className:"p-2 text-gray-500 hover:text-red-600",children:b.jsx(Oo,{size:18})})}),b.jsx("input",{type:"file",ref:E,onChange:te,accept:"image/png, image/jpeg, image/webp",className:"hidden"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Relazione"}),b.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2",value:m,onChange:z=>g(z.target.value),children:[v.map(z=>b.jsx("option",{value:z,children:z},z)),b.jsx("option",{value:"Altro",children:"Altro..."})]}),m==="Altro"&&b.jsxs("div",{className:"flex gap-2 mt-2",children:[b.jsx("input",{className:"w-full border rounded-lg p-2 bg-gray-50",placeholder:"Specifica...",value:y,onChange:z=>p(z.target.value),required:!0}),b.jsx("button",{type:"button",onClick:w,className:"bg-green-100 text-green-600 p-2 rounded",children:b.jsx(mo,{size:18})})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Partner"}),b.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2",value:x,onChange:z=>T(z.target.value),children:[b.jsx("option",{value:"",children:"Nessuno"}),N.filter(z=>z.id!==a).map(z=>b.jsx("option",{value:z.id,children:z.nome},z.id))]})]})]}),!a&&b.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2",children:[b.jsx("h4",{className:"text-sm font-bold mb-2 text-gray-600",children:"Prima Ricorrenza"}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tipo Evento"}),b.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2",value:ae,onChange:z=>k(z.target.value),children:[I.map(z=>b.jsx("option",{value:z,children:z},z)),b.jsx("option",{value:"Altro",children:"Altro..."})]}),ae==="Altro"&&b.jsxs("div",{className:"flex gap-2 mt-2",children:[b.jsx("input",{className:"w-full border rounded-lg p-2 bg-gray-50",placeholder:"Specifica...",value:O,onChange:z=>C(z.target.value),required:!0}),b.jsx("button",{type:"button",onClick:G,className:"bg-green-100 text-green-600 p-2 rounded",children:b.jsx(mo,{size:18})})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Data"}),W?b.jsx("div",{className:"w-full border border-gray-200 rounded-lg p-2 bg-gray-200 text-gray-600",children:vd($)}):b.jsx("input",{type:"date",className:"w-full border border-gray-200 rounded-lg p-2",value:$,onChange:z=>H(z.target.value),required:!0})]})]})]}),a&&b.jsxs("div",{className:"pt-4 border-t",children:[b.jsx("div",{className:"flex justify-between items-center",children:b.jsx("h4",{className:"font-bold mb-2",children:"Eventi"})}),A.map((z,F)=>{const Q=Ms.some(P=>P.tipo===z.tipo);return b.jsxs("div",{className:"flex gap-2 items-end p-2 rounded-lg bg-gray-50 mb-2",children:[b.jsxs("div",{className:"flex flex-col flex-1",children:[b.jsxs("select",{value:z.tipo,onChange:P=>{const de=P.target.value,me=Ms.find(Se=>Se.tipo===de);Y(F,"tipo",de),me&&Y(F,"data",me.date),de==="Altro"&&C("")},className:`w-full border border-gray-200 p-2 rounded-lg ${Q?"bg-gray-200 cursor-not-allowed":""}`,children:[I.map(P=>b.jsx("option",{value:P,children:P},P)),b.jsx("option",{value:"Altro",children:"Altro..."})]}),z.tipo==="Altro"&&b.jsxs("div",{className:"flex gap-2 mt-2",children:[b.jsx("input",{className:"w-full border rounded-lg p-2 bg-gray-50",placeholder:"Specifica...",value:O,onChange:P=>C(P.target.value),required:!0}),b.jsx("button",{type:"button",onClick:()=>{G(),Y(F,"tipo",O)},className:"bg-green-100 text-green-600 p-2 rounded",children:b.jsx(mo,{size:18})})]})]}),b.jsx("div",{className:"flex-1",children:Q?b.jsx("div",{className:"w-full border border-gray-200 p-2 rounded-lg bg-gray-200 text-gray-600",children:vd(z.data)}):b.jsx("input",{type:"date",value:z.data,onChange:P=>Y(F,"data",P.target.value),className:"w-full border border-gray-200 p-2 rounded-lg"})}),b.jsx("button",{type:"button",onClick:()=>U(F),className:"p-2 text-red-500 hover:bg-red-100 rounded-full",children:b.jsx(Oo,{size:16})})]},F)})]}),b.jsxs("div",{className:"pt-4 border-t flex justify-end gap-3",children:[b.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 bg-gray-100 font-bold rounded-lg",children:"Annulla"}),b.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg",children:"Salva"})]})]})})]})})]})},Vw=u=>{const[a,i]=fe.useState(null),s=fe.useRef(null),l=g=>{const v=g.target.files[0];if(v){const y=new FileReader;y.onloadend=()=>i(y.result),y.readAsDataURL(v)}},o=()=>{u.setGiftImg(""),s.current&&(s.current.value=null)},h=u.activePerson?.eventi.find(g=>g.tipo===u.giftTargetEvent)?.is_fixed,m=g=>{if(!g)return;const v=u.persone.find(y=>y.id.toString()===g);v&&v.eventi.length>0?u.handleSelectUid(`${g}-0`):u.handleSelectUid(`${g}-0`)};return b.jsxs(b.Fragment,{children:[a&&b.jsx(fv,{imageSrc:a,onCancel:()=>i(null),onConfirm:async(g,v)=>{const y=await rv(g,v);y&&u.handleGiftImageUpload&&await u.handleGiftImageUpload(y),i(null)}}),b.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 fade-in",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden max-h-[90vh] overflow-y-auto flex flex-col",children:[b.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[b.jsx("h3",{className:"font-bold text-lg",children:"Regalo"}),b.jsx("button",{onClick:u.onClose,children:b.jsx(Ur,{})})]}),b.jsxs("div",{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.editingGiftIndex===null&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Persona"}),b.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.activePerson?.id||"",onChange:g=>m(g.target.value),children:[b.jsx("option",{value:"",disabled:!0,children:"Seleziona una persona"}),u.persone.filter(g=>g.eventi&&g.eventi.some(v=>!v.archived)).map(g=>b.jsx("option",{value:g.id,children:g.nome},g.id))]})]}),b.jsxs("div",{className:u.editingGiftIndex!==null?"col-span-2":"",children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Occasione"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftTargetEvent,onChange:g=>{u.setGiftTargetEvent(g.target.value),u.updateSuggestions(g.target.value)},disabled:!u.activePerson,children:[u.activePerson&&u.activePerson.eventi&&[...new Set(u.activePerson.eventi.filter(g=>!g.archived).map(g=>g.tipo))].map(g=>b.jsx("option",{value:g,children:g},g)),u.pendingNewEventData&&b.jsx("option",{value:u.pendingNewEventData.tipo,children:u.pendingNewEventData.tipo},u.pendingNewEventData.tipo),(!u.activePerson||!u.activePerson.eventi||u.activePerson.eventi.filter(g=>!g.archived).length===0&&!u.pendingNewEventData)&&b.jsx("option",{value:"",disabled:!0,children:"Nessun evento"})]}),b.jsx("button",{onClick:()=>{u.setIsAddingEventFromGiftModal(!0),u.setShowAddEventModal(!0)},className:"bg-gray-100 px-3 rounded-lg font-bold",disabled:!u.activePerson,children:"+"})]})]})]}),u.editingGiftIndex===null&&b.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-lg p-3",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsxs("h4",{className:"text-xs font-bold text-amber-800",children:[" Consigli Rapidi ",u.giftTargetEvent?`(${u.giftTargetEvent})`:"(Generici)"]}),b.jsx("button",{onClick:()=>u.updateSuggestions(u.giftTargetEvent),className:"text-[10px] text-amber-600 hover:underline",children:"Rinnova"})]}),b.jsx("div",{className:"grid grid-cols-3 gap-3",children:u.suggerimenti.slice(0,3).map((g,v)=>b.jsxs("a",{href:g.link,target:"_blank",rel:"noreferrer",className:"bg-white border border-amber-200 rounded-lg text-center hover:shadow-md transition-shadow overflow-hidden flex flex-col",children:[b.jsx("div",{className:"w-full h-20 bg-gray-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:g.img?b.jsx("img",{src:g.img,alt:g.nome,className:"w-full h-full object-cover"}):b.jsx(jo,{size:32,className:"text-gray-300"})}),b.jsxs("div",{className:"p-2 flex-1 flex flex-col justify-center",children:[b.jsx("span",{className:"text-xs font-bold text-gray-800 block truncate",children:g.nome}),b.jsx("span",{className:"text-[10px] text-amber-500",children:"Amazon "})]})]},v))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Oggetto"}),b.jsx("input",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftObj,onChange:g=>u.setGiftObj(g.target.value),required:!0})]}),b.jsxs("div",{className:"flex gap-4 items-start",children:[b.jsxs("div",{className:"flex-1 space-y-4",children:[" ",!h&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Anno"}),b.jsx("input",{type:"number",className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftYear,onChange:g=>u.setGiftYear(g.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Prezzo ()"}),b.jsx("input",{type:"text",inputMode:"decimal",className:"w-full border border-gray-200 rounded-lg p-3",value:typeof u.giftPrice=="number"?iv(u.giftPrice):u.giftPrice,onChange:g=>u.setGiftPrice(g.target.value),placeholder:"Es. 49,99"})]})]}),b.jsxs("div",{className:"flex-shrink-0",children:[" ",b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Immagine"}),b.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg flex-shrink-0 flex items-center justify-center overflow-hidden border border-gray-200 cursor-pointer",onClick:()=>s.current?.click(),title:"Clicca per caricare un'immagine",children:u.giftImg?b.jsx("img",{src:u.giftImg,alt:"Anteprima regalo",className:"w-full h-full object-cover"}):b.jsx(jo,{className:"text-gray-400",size:32})}),b.jsx("div",{className:"flex justify-center mt-2",children:b.jsx("button",{type:"button",onClick:o,title:"Rimuovi immagine",className:"p-2 text-gray-500 hover:text-red-600",children:b.jsx(Oo,{size:18})})}),b.jsx("input",{type:"file",ref:s,onChange:l,accept:"image/*",capture:"environment",className:"hidden"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Link Prodotto"}),b.jsx("input",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftLink,onChange:g=>u.setGiftLink(g.target.value),placeholder:"https://..."})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Negozio"}),b.jsx("input",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftShop,onChange:g=>u.setGiftShop(g.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold mb-1",children:"Partecipanti"}),b.jsx("input",{className:"w-full border border-gray-200 rounded-lg p-3",value:u.giftParticipants,onChange:g=>u.setGiftParticipants(g.target.value)})]})]}),b.jsxs("div",{className:"pt-4 border-t flex justify-end gap-3",children:[b.jsx("button",{type:"button",onClick:u.onClose,className:"px-4 py-2 bg-gray-100 font-bold rounded-lg",children:"Annulla"}),b.jsx("button",{onClick:u.handleSaveRegalo,className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-lg",children:"Salva Regalo"})]})]})]})})]})},Iw=({onClose:u,handleAddEventToPerson:a,addEventName:i,setAddEventName:s,eventTypesList:l,customAddEventName:o,setCustomAddEventName:d,saveCustomAddEventName:h,addEventDate:m,setAddEventDate:g,themeStyles:v,isAddingEventFromGiftModal:y,setIsAddingEventFromGiftModal:p,activePerson:w})=>{const[x,T]=fe.useState(!1);fe.useEffect(()=>{const A=Ms.find(Y=>Y.type===i);A?(T(!0),g(A.date)):(T(!1),g(""))},[i,g]);const N=()=>{a(),u()};return b.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 border border-gray-200",children:[b.jsx("h3",{className:"font-bold text-lg mb-4",children:"Aggiungi Ricorrenza"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2",value:i,onChange:A=>s(A.target.value),children:[l.map(A=>b.jsx("option",{value:A,children:A},A)),b.jsx("option",{value:"Altro",children:"Altro..."})]}),i==="Altro"&&b.jsxs("div",{className:"flex gap-2 mt-2",children:[b.jsx("input",{className:"w-full border rounded-lg p-2 bg-gray-50",placeholder:"Specifica...",value:o,onChange:A=>d(A.target.value),required:!0}),b.jsx("button",{type:"button",onClick:h,className:"bg-green-100 text-green-600 p-2 rounded",children:b.jsx(mo,{size:18})})]})]}),x?b.jsx("div",{className:"w-full border border-gray-200 rounded-lg p-2 bg-gray-200 text-gray-600",children:vd(m)}):b.jsx("input",{type:"date",className:"w-full border border-gray-200 rounded-lg p-2",value:m,onChange:A=>g(A.target.value)}),b.jsx("button",{onClick:N,style:v.primary,className:"w-full font-bold py-2 rounded-lg",children:"Aggiungi"}),b.jsx("button",{onClick:u,className:"w-full text-gray-500 py-2",children:"Annulla"})]})]})})},Kw=({onClose:u,eventiArchiviati:a,handleRestore:i,handlePermanentDelete:s})=>b.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden h-[80vh] flex flex-col",children:[b.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[b.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[b.jsx(yd,{size:20})," Archivio"]}),b.jsx("button",{onClick:u,children:b.jsx(Ur,{})})]}),b.jsx("div",{className:"overflow-y-auto p-4 flex-1 space-y-2",children:a.map(l=>b.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border border-gray-200",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-sm",children:l.nome}),b.jsx("p",{className:"text-xs text-gray-400",children:l.tipo})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>i(l.uid),className:"p-1.5 bg-green-100 text-green-600 rounded",children:b.jsx(jw,{size:16})}),b.jsx("button",{onClick:()=>s(l.uid),className:"p-1.5 bg-red-100 text-red-600 rounded",children:b.jsx(Ur,{size:16})})]})]},l.uid))})]})}),Pw=({onClose:u,activePerson:a,getStatsBreakdown:i,currentTheme:s})=>b.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm text-center overflow-hidden shadow-2xl",children:[b.jsxs("div",{className:"p-6 text-white",style:{backgroundColor:s.primary},children:[b.jsx(lv,{size:40,className:"mx-auto mb-2 opacity-80"}),b.jsx("h3",{className:"text-xl font-bold",children:"Riepilogo Spese"}),b.jsxs("p",{className:"opacity-80",children:["Per ",a.nome]})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"space-y-3 mb-6 max-h-40 overflow-y-auto custom-scroll",children:i().breakdown.map((l,o)=>b.jsxs("div",{className:"flex justify-between text-sm border-b pb-2 border-gray-100",children:[b.jsx("span",{className:"text-gray-600 font-medium",children:l.type}),b.jsxs("span",{className:"font-bold text-gray-800",children:["",l.amount]})]},o))}),b.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[b.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider font-bold mb-1",children:"Totale"}),b.jsxs("div",{className:"text-4xl font-bold tracking-tighter",style:{color:s.primary},children:["",i().total]})]}),b.jsx("button",{onClick:u,className:"mt-6 w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-3 rounded-xl",children:"Chiudi"})]})]})});function Xw(){const u=dw();return u.session?b.jsxs("div",{className:"flex flex-col md:flex-row bg-white text-gray-800 overflow-hidden relative h-full",children:[u.toastMsg&&b.jsx(Rw,{msg:u.toastMsg}),u.confirmConfig.show&&b.jsx(kw,{config:u.confirmConfig,onCancel:()=>u.setConfirmConfig({...u.confirmConfig,show:!1}),onConfirm:u.executeConfirm}),b.jsx("div",{className:"flex-grow contents order-2 md:order-1",children:b.jsx(Ow,{...u})}),b.jsx("div",{className:"flex-grow contents order-1 md:order-2",children:b.jsx(Nw,{...u,calcolaOccorrenza:md})}),u.showSettings&&b.jsx(Uw,{currentTheme:u.currentTheme,setCurrentTheme:u.setCurrentTheme,onClose:()=>u.setShowSettings(!1),handleLogout:u.handleLogout,customEventTypes:u.customEventTypes,handleDeleteCustomEventType:u.handleDeleteCustomEventType,handleEditCustomEventType:u.handleEditCustomEventType,editingEventType:u.editingEventType,setEditingEventType:u.setEditingEventType}),u.showModalPerson&&b.jsx(Yw,{onClose:()=>u.setShowModalPerson(!1),...u}),u.showModalGift&&b.jsx(Vw,{onClose:()=>{u.setShowModalGift(!1),u.setPendingNewEventData(null)},...u}),u.showAddEventModal&&b.jsx(Iw,{onClose:()=>u.setShowAddEventModal(!1),isAddingEventFromGiftModal:u.isAddingEventFromGiftModal,setIsAddingEventFromGiftModal:u.setIsAddingEventFromGiftModal,setPendingNewEventData:u.setPendingNewEventData,...u}),u.showArchive&&b.jsx(Kw,{onClose:()=>u.setShowArchive(!1),...u}),u.showModalStats&&u.activePerson&&b.jsx(Pw,{onClose:()=>u.setShowModalStats(!1),...u})]}):b.jsx(fw,{...u})}Ap.createRoot(document.getElementById("root")).render(b.jsx(fe.StrictMode,{children:b.jsx(Xw,{})}));
